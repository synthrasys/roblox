!function(){"use strict";var a={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},d:function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},nc:void 0},y=Roblox,g=CoreRobloxUtilities,o="/upgrades/paymentmethods",E="/info/terms",b="ItemPurchaseAjaxData",u="/games/",w="Purchasing.PurchaseDialog",s="CommonUI.Controls",d="Feature.Premium",i="/v1/users/{userId}/currency",f="/game-passes/v1/game-passes/{productId}/purchase",p="/v1/purchases/products/{productId}",l="/v1/products/{productId}",c="/purchase-warning/v1/purchase-warnings",m="/purchase-warning/v1/purchase-warnings/acknowledge",v="/marketplace-sales/v1/item/{collectibleItemId}/purchase-item",h="/marketplace-sales/v1/item/{collectibleItemId}/purchase-resale",S="Success",P=5e3,A={GAME_PASS:"Game Pass",BUNDLE:"Bundle",BUNDLE_ALIAS:"Package",PRIVATE_SERVER:"Private Server"},x={GAME_PASS:"/v1/game-passes",BUNDLE:"/v1/bundles/thumbnails",ASSET:"/v1/assets"},T={size:"150x150",format:"Png",isCircular:!1},_={backToShopAction:"Action.BackToShop",buyRobuxAndItemAction:"Action.BuyRobuxAndItem",buyRobux:"Action.BuyRobux",buy:"Action.Buy",cancelAction:"Action.Cancel",equipMyAvatarAction:"Action.EquipMyAvatar",goToRobuxStoreAction:"Action.GoToRobuxStore",insufficientRobuxHeading:"Heading.InsufficientRobux",insufficientRobuxMessage:"Message.InsufficientRobux",insufficientRobuxModalBannerv1:"Text.BonusBannerV1",insufficientRobuxModalBannerv2:"Text.BonusBannerV2",insufficientRobuxHeadingNew:"Heading.InsufficientRobuxNew",insufficientRobuxMessageNew:"Message.InsufficientRobuxNew",insufficientRobuxLeaveRobloxHeading:"Heading.InsufficientRobuxLeaveRoblox",insufficientRobuxAskToPurchasePackageMessage:"Message.InsufficientRobuxAskToPurchasePackage",insufficientRobuxExceedLargestPackageMessage:"Message.InsufficientRobuxExceedLargestPackage",insufficientRobuxRedirectToExternalPartner:"Message.InsufficientRobuxRedirectToExternalPartner",purchaseSucceededHeading:"Heading.PurchaseSucceeded",purchaseSucceededMessage:"Message.PurchaseSucceeded",purchaseSucceededRobuxBalanceMessage:"Message.PurchaseSucceededRobuxBalance",purchasingTheItemLabel:"Label.PurchasingTheItem",waitingForRobuxLabel:"Label.WaitingForRobux",errorOccuredHeading:"Heading.ErrorOccured",purchasingUnavailableMessage:"Message.PurchasingUnavailable",purchaseErrorOccuredMessage:"Message.PurchaseErrorOccured",okAction:"Action.Ok",commonUiOkAction:"Action.OK",commonUiCancelAction:"Action.Cancel",commonUiContinueToPaymentAction:"Action.ContinueToPayment",featurePremiumScaryModalTitleHeading:"Heading.ScaryModalTitle",featurePremiumScaryModalBodyNewDescription:"Description.ScaryModalBodyNew",featurePremiumScaryModalBody13To17Description:"Description.ScaryModalBody13To17",featurePremiumScaryModalThreshold1BodyDescription:"Description.ScaryModalThreshold1Body",featurePremiumScaryModalThreshold2BodyDescription:"Description.ScaryModalThreshold2Body",termsOfUseText:"Message.TermsOfUse"},U={U13PaymentModal:"U13PaymentModal",ParentalConsentWarningPaymentModal13To17:"ParentalConsentWarningPaymentModal13To17",ParentalAuthorization13To17:"ParentalAuthorization13To17",U13MonthlyThreshold1Modal:"U13MonthlyThreshold1Modal",RequireEmailVerification:"RequireEmailVerification",U13MonthlyThreshold2Modal:"U13MonthlyThreshold2Modal",NoAction:"NoAction"},C={EVENT_NAME:"ItemPurchaseUpsellEvent",CONTEXT_NAME:{COOKIE_PARSE_FAILED:"COOKIE_PARSE_FAILED",PRODUCT_INFO_REQUEST_FAILED:"PRODUCT_INFO_REQUEST_FAILED",PRODUCT_INFO_EMPTY:"PRODUCT_INFO_EMPTY",PRODUCT_ID_NOT_EXIST:"PRODUCT_ID_NOT_EXIST",UPSELL_FAILED:"UPSELL_FAILED"}},t="WebCatalog",r="WebBundle",N="WebGamePass",M="NoTypeParsedYet",I={UnknownError:"UnknownError",UnknownErrorNoAsset:"UnknownErrorNoAsset",UpsellShown:"UpsellShown",UpsellCancelled:"UpsellCancelled",UpsellCancelledFromU13Modal:"UpsellCancelledFromU13Modal",UpsellContinued:"UpsellContinued",UpsellThumbnailProcessFailed:"UpsellThumbnailProcessFailed",ContinueBuyRobuxOnExternalSite:"ContinueBuyRobuxOnExternalSite",LeaveRobloxFailedToShown:"LeaveRobloxFailedToShown",CancelledFromLeaveRobloxModal:"CancelledFromLeaveRobloxModal",ConfirmLeaveRobloxModal:"ConfirmLeaveRobloxModal",UpsellExceedLargestEntryPoint:"UpsellExceedLargestEntryPoint",UpsellExceedLargestShown:"UpsellExceedLargestShown",UpsellExceedLargestCancelled:"UpsellExceedLargestCancelled",UpsellExceedLargestGoToRobuxStoreClicked:"UpsellExceedLargestGoToRobuxStoreClicked",UpsellExceedLargestModalExpTrue:"UpsellExceedLargestModalExpTrue",UpsellExceedLargestModalExpFalse:"UpsellExceedLargestModalExpTrue",UpsellExceedLargestModalExpError:"UpsellExceedLargestModalExpError",UpsellExceedLargestMetadataError:"UpsellExceedLargestMetadataError",UpsellExceedLargestNoThumbnailImage:"UpsellExceedLargestNoThumbnailImage",UpsellFromGamesPage:"UpsellFromGamesPage",UpsellFailed:"UpsellFailed",UpsellFailedDueToNoAvailablePackage:"UpsellFailedDueToNoAvailablePackage",UpsellFailedDueToFailedPackageRequest:"UpsellFailedDueToFailedPackageRequest",UpsellExperimentRetrivalFailed:"UpsellExperimentRetrivalFailed",AutoPurchaseEntryPoint:"AutoPurchaseEntryPoint",AutoPurchaseStarted:"AutoPurchaseStarted",AutoPurchaseSucceed:"AutoPurchaseSucceed",AutoPurchaseSucceedClose:"AutoPurchaseSucceedClose",AutoPurchaseSucceedBackToShop:"AutoPurchaseSucceedBackToShop",AutoPurchaseSucceedEquipMyAvatar:"AutoPurchaseSucceedEquipMyAvatar",AutoPurchaseFailed:"AutoPurchaseFailed",AutoPurchaseErrorFromPurchaseApi:"AutoPurchaseErrorFromPurchaseApi",AutoPurchaseFailedDueToStillLowBalance:"AutoPurchaseFailedDueToStillLowBalance",AutoPurchasePotentialHackingActionSpotted:"AutoPurchasePotentialHackingActionSpotted",AutoPurchasePotentialHackingActionSpotted2:"AutoPurchasePotentialHackingActionSpotted2",AutoPurchasePotentialHackingActionSpotted3:"AutoPurchasePotentialHackingActionSpotted3",AutoPurchasePotentialHackingActionSpotted4:"AutoPurchasePotentialHackingActionSpotted4",ShowU13PaymentModal:"ShowU13PaymentModal",ShowU13MonthlyThreshold1Modal:"ShowU13MonthlyThreshold1Modal",ShowU13MonthlyThreshold2Modal:"ShowU13MonthlyThreshold2Modal",ShowParentalConsentWarningPaymentModal13To17Modal:"ShowParentalConsentWarningPaymentModal13To17Modal",ConfirmU13PaymentModal:"ConfirmU13PaymentModal",ConfirmU13MonthlyThreshold1Modal:"ConfirmU13MonthlyThreshold1Modal",ConfirmU13MonthlyThreshold2Modal:"ConfirmU13MonthlyThreshold2Modal",ConfirmParentalConsentWarningPaymentModal13To17Modal:"ConfirmParentalConsentWarningPaymentModal13To17Modal",U13PaymentModalEmailVerificationTriggered:"U13PaymentModalEmailVerificationTriggered",U13PaymentModalFailedToShow:"U13PaymentModalFailedToShow",U13PaymentModalNoAction:"U13PaymentModalNoAction"},n="/vng-payments/v1/getVngShopUrl",R=CoreUtilities,O=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},L=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function F(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===r&&(r=!1);e=R.numberFormat.getNumberFormat(e),e=n?"<s>"+e+"</s>":e;return r?"<span class='icon-robux-16x16 light-theme'></span><span class='text'>"+e+"</span>":t?"<span class='icon-robux-16x16'></span><span class='text-robux'>"+e+"</span>":"<span class='icon-robux-gray-16x16'></span><span class='text'>"+e+"</span>"}var D=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},B=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function k(){var e;g.upsellUtil.expireUpsellCookie(),window.history&&((e=new URL(window.location.href)).searchParams.delete(g.upsellUtil.constants.UPSELL_QUERY_PARAM_KEY),e=e.href,window.history.pushState({path:e},"",e))}var G=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},j=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},W=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log};function H(e){(0,W.fireEvent)(t+e)}function V(e,t){var n;t===A.BUNDLE||t===A.BUNDLE_ALIAS?(n=e,(0,W.fireEvent)(r+n)):t===A.GAME_PASS?(n=e,(0,W.fireEvent)(N+n)):H(t?e:I.UnknownErrorNoAsset)}function X(e,t,n,r,a){var o=r.getTranslationResource(d),i=r.getTranslationResource(s),l="<br /><br />",r={lineBreak:l,linebreak:l},l="";t===U.U13PaymentModal?l=o.get(_.featurePremiumScaryModalBodyNewDescription,r):t===U.ParentalConsentWarningPaymentModal13To17?l=o.get(_.featurePremiumScaryModalBody13To17Description,{}):t===U.U13MonthlyThreshold1Modal?l=o.get(_.featurePremiumScaryModalThreshold1BodyDescription,r):t===U.U13MonthlyThreshold2Modal&&(l=o.get(_.featurePremiumScaryModalThreshold2BodyDescription,r)),y.Dialog.open({titleText:o.get(_.featurePremiumScaryModalTitleHeading,{}),bodyContent:'<div><span class="text-description">'+l+'</span></div><div class="text-center"><div class="icon-warning"></div></div>',declineText:i.get(_.commonUiCancelAction,{}),acceptText:i.get(_.commonUiOkAction,{}),onAccept:function(){return function(r,a){return G(this,void 0,Promise,function(){var t,n;return j(this,function(e){switch(e.label){case 0:n={acknowledgement:"Confirmed"+r},t={url:""+y.EnvironmentUrls.apiGatewayUrl+m,withCredentials:!0,timeout:P},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,R.httpService.post(t,n)];case 2:return e.sent(),a(),[2,Promise.resolve()];case 3:return n=e.sent(),[2,Promise.reject(n)];case 4:return[2]}})})}(t,n).then(function(){t===U.U13PaymentModal?V(I.ConfirmU13PaymentModal,null==a?void 0:a.assetType):t===U.U13MonthlyThreshold1Modal?V(I.ConfirmU13MonthlyThreshold1Modal,null==a?void 0:a.assetType):t===U.U13MonthlyThreshold2Modal?V(I.ConfirmU13MonthlyThreshold2Modal,null==a?void 0:a.assetType):V(I.ConfirmParentalConsentWarningPaymentModal13To17Modal,null==a?void 0:a.assetType)}).catch(function(){n()}),!1},onDecline:function(){return V(I.UpsellCancelledFromU13Modal,null==a?void 0:a.assetType),k(),!1},onCancel:function(){return V(I.UpsellCancelledFromU13Modal,null==a?void 0:a.assetType),k(),!1},allowHtmlContentInBody:!0,allowHtmlContentInFooter:!1,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0})}var e=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},z=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Y(e){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.PURCHASE_WARNING,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN,e)}function q(n,r,a,o,i){var l;return e(this,void 0,void 0,function(){var t;return z(this,function(e){switch(e.label){case 0:if(!r)return a(),[2,Promise.resolve()];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,function(a){return D(this,void 0,Promise,function(){var t,n,r;return B(this,function(e){switch(e.label){case 0:n=!y.CurrentUser.isPremiumUser,t={productId:a,is13To17ScaryModalEnabled:n},n={url:""+y.EnvironmentUrls.apiGatewayUrl+c,withCredentials:!0,timeout:P},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,R.httpService.get(n,t)];case 2:return 200===(r=e.sent()).status&&r.data.action?[2,Promise.resolve(r.data.action)]:[2,Promise.resolve(U.NoAction)];case 3:return r=e.sent(),[2,Promise.reject(r)];case 4:return[2]}})})}(n.roblox_product_id)];case 2:return(t=e.sent())===U.U13PaymentModal||t===U.ParentalConsentWarningPaymentModal13To17||t===U.U13MonthlyThreshold1Modal||t===U.U13MonthlyThreshold2Modal?(t===U.U13PaymentModal?(Y(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.U13_PAYMENT_MODAL),V(I.ShowU13PaymentModal,null==i?void 0:i.assetType)):t===U.U13MonthlyThreshold1Modal?(Y(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.U13_MONTHLY_THRESHOLD_1_MODAL),V(I.ShowU13MonthlyThreshold1Modal,null==i?void 0:i.assetType)):t===U.U13MonthlyThreshold2Modal?(Y(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.U13_MONTHLY_THRESHOLD_2_MODAL),V(I.ShowU13MonthlyThreshold2Modal,null==i?void 0:i.assetType)):(Y(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.PAYMENT_MODAL_13_TO_17),V(I.ShowParentalConsentWarningPaymentModal13To17Modal,null==i?void 0:i.assetType)),X(0,t,a,o,i)):t===U.RequireEmailVerification?(V(I.U13PaymentModalEmailVerificationTriggered,null==i?void 0:i.assetType),null!==(l=y.EmailVerificationService.handleUserEmailVerificationRequiredByPurchaseWarning())&&void 0!==l&&l.then(function(e){Y(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.REQUIRE_EMAIL_VERIFICATION),null!=e&&e.emailAddress&&null!=e&&e.verified&&a()})):(V(I.U13PaymentModalNoAction,null==i?void 0:i.assetType),a()),[2,Promise.resolve()];case 3:return t=e.sent(),[2,Promise.reject(t)];case 4:return[2]}})})}var K=React,Z=a.n(K),Q=ReactDOM,$=a.n(Q),J=ReactUtilities,ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function te(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}var ne=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=function e(t){var n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(var a=t.length,o=0;o<a;o++)t[o]&&(n=e(t[o]))&&(r&&(r+=" "),r+=n);else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}(e))&&(r&&(r+=" "),r+=t);return r},re=ReactJSX;function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=null!==globalThis&&void 0!==globalThis&&globalThis.document?K.useLayoutEffect:function(){},le=K[" useId ".trim().toString()]||function(){},ce=0;function se(e){var t=ae(K.useState(le()),2),n=t[0],r=t[1];return ie(function(){e||r(function(e){return null!=e?e:String(ce++)})},[e]),e||(n?"radix-".concat(n):"")}function ue(e,t){void 0===t&&(t={});var n,r=t.insertAt;e&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css","top"===r&&n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)))}function de(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=me(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function fe(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach(function(e){ge(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Ee(t,n,e){var e=(2<arguments.length&&void 0!==e?e:{}).checkForDefaultPrevented,r=void 0===e||e;return function(e){if(null!=t&&t(e),!1===r||!e.defaultPrevented)return null==n?void 0:n(e)}}function we(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Se(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var n=!1,r=a.map(function(e){e=we(e,t);return n||"function"!=typeof e||(n=!0),e});if(n)return function(){for(var e=0;e<r.length;e++){var t=r[e];"function"==typeof t?t():we(a[e],null)}}}}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K.useCallback(Se.apply(void 0,t),t)}function Ae(e){var t=K.forwardRef(function(e,t){var n,r=e.children,a=be(e,["children"]);if(K.isValidElement(r)){var o=(o=r,e=null===(n=Object.getOwnPropertyDescriptor(o.props,"ref"))||void 0===n?void 0:n.get,e&&"isReactWarning"in e&&e.isReactWarning?o.ref:(e=null===(n=Object.getOwnPropertyDescriptor(o,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning?o.props.ref:o.props.ref||o.ref),a=function(r,a){var e,o=ye({},a);for(e in a)!function(e){var t=r[e],n=a[e];/^on[A-Z]/.test(e)?t&&n?o[e]=function(){n.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(o[e]=t):"style"===e?o[e]=ye(ye({},t),n):"className"===e&&(o[e]=[t,n].filter(Boolean).join(" "))}(e);return ye(ye({},r),o)}(a,r.props);return r.type!==K.Fragment&&(a.ref=t?Se(t,o):o),K.cloneElement(r,a)}return 1<K.Children.count(r)?K.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var xe=Symbol("radix.slottable");function Te(e){return K.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===xe}var _e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,r){var t,i,n,a=(t="Primitive.".concat(r),i=Ae(t),(n=K.forwardRef(function(e,t){var n=e.children,r=be(e,["children"]),e=K.Children.toArray(n),a=e.find(Te);if(a){var o=a.props.children,e=e.map(function(e){return e===a?1<K.Children.count(o)?K.Children.only(null):K.isValidElement(o)?o.props.children:null:e});return(0,re.jsx)(i,ye(ye({},r),{},{ref:t,children:K.isValidElement(o)?K.cloneElement(o,void 0,e):null}))}return(0,re.jsx)(i,ye(ye({},r),{},{ref:t,children:n}))})).displayName="".concat(t,".Slot"),n),n=K.forwardRef(function(e,t){var n=e.asChild,e=be(e,["asChild"]),n=n?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,re.jsx)(n,ye(ye({},e),{},{ref:t}))});return n.displayName="Primitive.".concat(r),ye(ye({},e),{},ge({},r,n))},{});function Ue(e){var a=K.useRef(e);return K.useEffect(function(){a.current=e}),K.useMemo(function(){return function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(n))}},[])}function Ce(e,t){var n,a,r=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,o=(n=e,a=K.useRef(n),K.useEffect(function(){a.current=n}),K.useMemo(function(){return function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(n))}},[]));K.useEffect(function(){function e(e){"Escape"===e.key&&o(e)}return r.addEventListener("keydown",e,{capture:!0}),function(){return r.removeEventListener("keydown",e,{capture:!0})}},[o,r])}var Ne,Me="dismissableLayer.update",Ie=K.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Re=K.forwardRef(function(e,t){var n=e.disableOutsidePointerEvents,r=void 0!==n&&n,a=e.onEscapeKeyDown,o=e.onPointerDownOutside,i=e.onFocusOutside,l=e.onInteractOutside,c=e.onDismiss,s=be(e,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=K.useContext(Ie),d=pe(K.useState(null),2),f=d[0],p=d[1],m=null!==(h=null==f?void 0:f.ownerDocument)&&void 0!==h?h:null===globalThis||void 0===globalThis?void 0:globalThis.document,v=pe(K.useState({}),2)[1],n=Pe(t,function(e){return p(e)}),d=Array.from(u.layers),h=pe(fe(u.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],t=d.indexOf(h),y=f?d.indexOf(f):-1,h=0<u.layersWithOutsidePointerEventsDisabled.size,g=t<=y,d=function(e,t){var r=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,a=Ue(function(e){var t=e.target,n=fe(u.branches).some(function(e){return e.contains(t)});g&&!n&&(o!==null&&o!==void 0&&o(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))}),o=K.useRef(!1),i=K.useRef(function(){});return K.useEffect(function(){function e(e){var t,n;e.target&&!o.current?(t=function(){Le("dismissableLayer.pointerDownOutside",a,n,{discrete:!0})},n={originalEvent:e},"touch"===e.pointerType?(r.removeEventListener("click",i.current),i.current=t,r.addEventListener("click",i.current,{once:!0})):t()):r.removeEventListener("click",i.current),o.current=!1}var t=window.setTimeout(function(){r.addEventListener("pointerdown",e)},0);return function(){window.clearTimeout(t),r.removeEventListener("pointerdown",e),r.removeEventListener("click",i.current)}},[r,a]),{onPointerDownCapture:function(){return o.current=!0}}}(function(e){var t=e.target,n=fe(u.branches).some(function(e){return e.contains(t)});g&&!n&&(o!==null&&o!==void 0&&o(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))},m),t=function(e,t){var n=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,r=Ue(function(e){var t=e.target;fe(u.branches).some(function(e){return e.contains(t)})||(i!==null&&i!==void 0&&i(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))}),a=K.useRef(!1);return K.useEffect(function(){function e(e){e.target&&!a.current&&Le("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})}return n.addEventListener("focusin",e),function(){return n.removeEventListener("focusin",e)}},[n,r]),{onFocusCapture:function(){return a.current=!0},onBlurCapture:function(){return a.current=!1}}}(function(e){var t=e.target;fe(u.branches).some(function(e){return e.contains(t)})||(i!==null&&i!==void 0&&i(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))},m);return Ce(function(e){y===u.layers.size-1&&(null!=a&&a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},m),K.useEffect(function(){if(f)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(Ne=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Oe(),function(){r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=Ne)}},[f,m,r,u]),K.useEffect(function(){return function(){f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Oe())}},[f,u]),K.useEffect(function(){function e(){return v({})}return document.addEventListener(Me,e),function(){return document.removeEventListener(Me,e)}},[]),(0,re.jsx)(_e.div,ye(ye({},s),{},{ref:n,style:ye({pointerEvents:h?g?"auto":"none":void 0},e.style),onFocusCapture:Ee(e.onFocusCapture,t.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,t.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,d.onPointerDownCapture)}))});function Oe(){var e=new CustomEvent(Me);document.dispatchEvent(e)}function Le(e,t,n,r){var a,o,i=r.discrete,r=n.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?(o=n,(a=r)&&Q.flushSync(function(){return a.dispatchEvent(o)})):r.dispatchEvent(n)}function Fe(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function De(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var n=!1,r=a.map(function(e){e=Fe(e,t);return n||"function"!=typeof e||(n=!0),e});if(n)return function(){for(var e=0;e<r.length;e++){var t=r[e];"function"==typeof t?t():Fe(a[e],null)}}}}function Be(e){var t=K.forwardRef(function(e,t){var n,r=e.children,a=be(e,["children"]);if(K.isValidElement(r)){var o=(o=r,e=null===(n=Object.getOwnPropertyDescriptor(o.props,"ref"))||void 0===n?void 0:n.get,e&&"isReactWarning"in e&&e.isReactWarning?o.ref:(e=null===(n=Object.getOwnPropertyDescriptor(o,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning?o.props.ref:o.props.ref||o.ref),a=function(r,a){var e,o=ye({},a);for(e in a)!function(e){var t=r[e],n=a[e];/^on[A-Z]/.test(e)?t&&n?o[e]=function(){n.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(o[e]=t):"style"===e?o[e]=ye(ye({},t),n):"className"===e&&(o[e]=[t,n].filter(Boolean).join(" "))}(e);return ye(ye({},r),o)}(a,r.props);return r.type!==K.Fragment&&(a.ref=t?De(t,o):o),K.cloneElement(r,a)}return 1<K.Children.count(r)?K.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}Re.displayName="DismissableLayer",K.forwardRef(function(e,t){var n=K.useContext(Ie),r=K.useRef(null),t=Pe(t,r);return K.useEffect(function(){var e=r.current;if(e)return n.branches.add(e),function(){n.branches.delete(e)}},[n.branches]),(0,re.jsx)(_e.div,ye(ye({},e),{},{ref:t}))}).displayName="DismissableLayerBranch";var ke=Symbol("radix.slottable");function Ge(e){return K.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ke}var je=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,r){var t,i,n,a=(t="Primitive.".concat(r),i=Be(t),(n=K.forwardRef(function(e,t){var n=e.children,r=be(e,["children"]),e=K.Children.toArray(n),a=e.find(Ge);if(a){var o=a.props.children,e=e.map(function(e){return e===a?1<K.Children.count(o)?K.Children.only(null):K.isValidElement(o)?o.props.children:null:e});return(0,re.jsx)(i,ye(ye({},r),{},{ref:t,children:K.isValidElement(o)?K.cloneElement(o,void 0,e):null}))}return(0,re.jsx)(i,ye(ye({},r),{},{ref:t,children:n}))})).displayName="".concat(t,".Slot"),n),n=K.forwardRef(function(e,t){var n=e.asChild,e=be(e,["asChild"]),n=n?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,re.jsx)(n,ye(ye({},e),{},{ref:t}))});return n.displayName="Primitive.".concat(r),ye(ye({},e),{},ge({},r,n))},{});function We(e){var a=K.useRef(e);return K.useEffect(function(){a.current=e}),K.useMemo(function(){return function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(n))}},[])}var He="focusScope.autoFocusOnMount",Ve="focusScope.autoFocusOnUnmount",Xe={bubbles:!1,cancelable:!0},ze=K.forwardRef(function(e,t){var n=e.loop,o=void 0!==n&&n,r=e.trapped,i=void 0!==r&&r,a=e.onMountAutoFocus,n=e.onUnmountAutoFocus,r=be(e,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),e=pe(K.useState(null),2),l=e[0],c=e[1],s=We(a),u=We(n),d=K.useRef(null),n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K.useCallback(De.apply(void 0,t),t)}(t,function(e){return c(e)}),f=K.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;K.useEffect(function(){if(i){var e=function(e){!f.paused&&l&&(e=e.target,l.contains(e)?d.current=e:Ke(d.current,{select:!0}))},t=function(e){f.paused||!l||null!==(e=e.relatedTarget)&&(l.contains(e)||Ke(d.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);var n=new MutationObserver(function(e){if(document.activeElement===document.body){var t,n=de(e);try{for(n.s();!(t=n.n()).done;)0<t.value.removedNodes.length&&Ke(l)}catch(e){n.e(e)}finally{n.f()}}});return l&&n.observe(l,{childList:!0,subtree:!0}),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[i,l,f.paused]),K.useEffect(function(){if(l){Qe.add(f);var e,t=document.activeElement;return l.contains(t)||(e=new CustomEvent(He,Xe),l.addEventListener(He,s),l.dispatchEvent(e),e.defaultPrevented||(function(e,t){var n,r=void 0!==(t=(1<arguments.length&&void 0!==t?t:{}).select)&&t,a=document.activeElement,o=de(e);try{for(o.s();!(n=o.n()).done;)if(Ke(n.value,{select:r}),document.activeElement!==a)return}catch(e){o.e(e)}finally{o.f()}}(Ye(l).filter(function(e){return"A"!==e.tagName}),{select:!0}),document.activeElement===t&&Ke(l))),function(){l.removeEventListener(He,s),setTimeout(function(){var e=new CustomEvent(Ve,Xe);l.addEventListener(Ve,u),l.dispatchEvent(e),e.defaultPrevented||Ke(null!=t?t:document.body,{select:!0}),l.removeEventListener(Ve,u),Qe.remove(f)},0)}}},[l,s,u,f]);t=K.useCallback(function(e){var t,n,r,a;(o||i)&&(f.paused||(a="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,t=document.activeElement,a&&t&&(n=e.currentTarget,r=(a=pe([qe(a=Ye(r=n),r),qe(a.reverse(),r)],2))[0],a=a[1],r&&a?e.shiftKey||t!==a?e.shiftKey&&t===r&&(e.preventDefault(),o&&Ke(a,{select:!0})):(e.preventDefault(),o&&Ke(r,{select:!0})):t===n&&e.preventDefault())))},[o,i,f.paused]);return(0,re.jsx)(je.div,ye(ye({tabIndex:-1},r),{},{ref:n,onKeyDown:t}))});function Ye(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return!(e.disabled||e.hidden||t)&&0<=e.tabIndex?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function qe(e,t){var n=de(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(!function(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}}catch(e){n.e(e)}finally{n.f()}}function Ke(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).select,t=void 0!==n&&n;e&&e.focus&&(n=document.activeElement,e.focus({preventScroll:!0}),e!==n&&e instanceof HTMLInputElement&&"select"in e&&t&&e.select())}ze.displayName="FocusScope";var Ze,Qe=(Ze=[],{add:function(e){var t=Ze[0];e!==t&&null!=t&&t.pause(),(Ze=$e(Ze,e)).unshift(e)},remove:function(e){null!==(e=(Ze=$e(Ze,e))[0])&&void 0!==e&&e.resume()}});function $e(e,t){e=fe(e),t=e.indexOf(t);return-1!==t&&e.splice(t,1),e}function Je(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function et(e){var t=K.forwardRef(function(e,t){var n,r=e.children,a=be(e,["children"]);if(K.isValidElement(r)){var o=(o=r,e=null===(n=Object.getOwnPropertyDescriptor(o.props,"ref"))||void 0===n?void 0:n.get,e&&"isReactWarning"in e&&e.isReactWarning?o.ref:(e=null===(n=Object.getOwnPropertyDescriptor(o,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning?o.props.ref:o.props.ref||o.ref),a=function(r,a){var e,o=ye({},a);for(e in a)!function(e){var t=r[e],n=a[e];/^on[A-Z]/.test(e)?t&&n?o[e]=function(){n.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(o[e]=t):"style"===e?o[e]=ye(ye({},t),n):"className"===e&&(o[e]=[t,n].filter(Boolean).join(" "))}(e);return ye(ye({},r),o)}(a,r.props);return r.type!==K.Fragment&&(a.ref=t?function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var n=!1,r=a.map(function(e){e=Je(e,t);return n||"function"!=typeof e||(n=!0),e});if(n)return function(){for(var e=0;e<r.length;e++){var t=r[e];"function"==typeof t?t():Je(a[e],null)}}}}(t,o):o),K.cloneElement(r,a)}return 1<K.Children.count(r)?K.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var tt=Symbol("radix.slottable");function nt(e){return K.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tt}var rt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,r){var t,i,n,a=(t="Primitive.".concat(r),i=et(t),(n=K.forwardRef(function(e,t){var n=e.children,r=be(e,["children"]),e=K.Children.toArray(n),a=e.find(nt);if(a){var o=a.props.children,e=e.map(function(e){return e===a?1<K.Children.count(o)?K.Children.only(null):K.isValidElement(o)?o.props.children:null:e});return(0,re.jsx)(i,ye(ye({},r),{},{ref:t,children:K.isValidElement(o)?K.cloneElement(o,void 0,e):null}))}return(0,re.jsx)(i,ye(ye({},r),{},{ref:t,children:n}))})).displayName="".concat(t,".Slot"),n),n=K.forwardRef(function(e,t){var n=e.asChild,e=be(e,["asChild"]),n=n?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,re.jsx)(n,ye(ye({},e),{},{ref:t}))});return n.displayName="Primitive.".concat(r),ye(ye({},e),{},ge({},r,n))},{}),at=null!==globalThis&&void 0!==globalThis&&globalThis.document?K.useLayoutEffect:function(){},ot=K.forwardRef(function(e,t){var n=e.container,r=be(e,["container"]),a=pe(K.useState(!1),2),e=a[0],o=a[1];at(function(){return o(!0)},[]);var i=n||e&&(null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body);return i?$().createPortal((0,re.jsx)(rt.div,ye(ye({},r),{},{ref:t})),i):null});ot.displayName="Portal";var it=0;function lt(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ct="right-scroll-bar-position",st="width-before-scroll-bar";function ut(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var dt="undefined"!=typeof window?K.useLayoutEffect:K.useEffect,ft=new WeakMap;function pt(e){return e}var mt=function(e){var t=e.sideCar,e=te(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");t=t.read();if(!t)throw new Error("Sidecar medium not found");return K.createElement(t,ee({},e))};function vt(){}mt.isSideCarExport=!0;var ht=function(e){void 0===e&&(e={});var t=function(e,n){void 0===n&&(n=pt);var o=[],i=!1;return{read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:e},useMedium:function(e){var t=n(e,i);return o.push(t),function(){o=o.filter(function(e){return e!==t})}},assignSyncMedium:function(t){for(i=!0;o.length;){var e=o;o=[],e.forEach(t)}o={push:function(e){return t(e)},filter:function(){return o}}},assignMedium:function(t){i=!0;var e,n=[];o.length&&(e=o,o=[],e.forEach(t),n=o);function r(){var e=n;n=[],e.forEach(t)}function a(){return Promise.resolve().then(r)}a(),o={push:function(e){n.push(e),a()},filter:function(e){return n=n.filter(e),o}}}}}(null);return t.options=ee({async:!0,ssr:!1},e),t}(),yt=K.forwardRef(function(e,t){var a,n,r,o,i,l,c=K.useRef(null),s=K.useState({onScrollCapture:vt,onWheelCapture:vt,onTouchMoveCapture:vt}),u=s[0],d=s[1],f=e.forwardProps,p=e.children,m=e.className,v=e.removeScrollBar,h=e.enabled,y=e.shards,g=e.sideCar,b=e.noIsolation,E=e.inert,w=e.allowPinchZoom,S=e.as,s=void 0===S?"div":S,S=e.gapMode,e=te(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),g=g,n=(a=[c,t],r=n||null,o=function(t){return a.forEach(function(e){return ut(e,t)})},(i=(0,K.useState)(function(){return{value:r,callback:o,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=o,l=i.facade,dt(function(){var t,n,r,e=ft.get(l);e&&(t=new Set(e),n=new Set(a),r=l.current,t.forEach(function(e){n.has(e)||ut(e,null)}),n.forEach(function(e){t.has(e)||ut(e,r)})),ft.set(l,a)},[a]),l),u=ee(ee({},e),u);return K.createElement(K.Fragment,null,h&&K.createElement(g,{sideCar:ht,removeScrollBar:v,shards:y,noIsolation:b,inert:E,setCallbacks:d,allowPinchZoom:!!w,lockRef:c,gapMode:S}),f?K.cloneElement(K.Children.only(p),ee(ee({},u),{ref:n})):K.createElement(s,ee({},u,{className:m,ref:n}),p))});function gt(){var n=0,r=null;return{add:function(e){var t;0==n&&(r=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a.nc;return t&&e.setAttribute("nonce",t),e}())&&(t=e,(e=r).styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),t=r,(document.head||document.getElementsByTagName("head")[0]).appendChild(t)),n++},remove:function(){!--n&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}}function bt(){var n,r=(n=gt(),function(e,t){K.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])});return function(e){var t=e.styles,e=e.dynamic;return r(t,e),null}}function Et(e){return parseInt(e||"",10)||0}function wt(){var e=parseInt(document.body.getAttribute(xt)||"0",10);return isFinite(e)?e:0}function St(e){var t,n=e.noRelative,r=e.noImportant,a=void 0===(t=e.gapMode)?"margin":t;K.useEffect(function(){return document.body.setAttribute(xt,(wt()+1).toString()),function(){var e=wt()-1;e<=0?document.body.removeAttribute(xt):document.body.setAttribute(xt,e.toString())}},[]);var o,i,l=K.useMemo(function(){return function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Pt;var t,n,r,r=(t=e,n=window.getComputedStyle(document.body),r=n["padding"===t?"paddingLeft":"marginLeft"],e=n["padding"===t?"paddingTop":"marginTop"],t=n["padding"===t?"paddingRight":"marginRight"],[Et(r),Et(e),Et(t)]),e=document.documentElement.clientWidth,t=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,t-e+r[2]-r[0])}}(a)},[a]);return K.createElement(At,{styles:(o=!n,i=a,e=r?"":"!important",n=(t=l).left,r=t.top,l=t.right,t=t.gap,void 0===i&&(i="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(e,";\n   padding-right: ").concat(t,"px ").concat(e,";\n  }\n  body[").concat(xt,"] {\n    overflow: hidden ").concat(e,";\n    overscroll-behavior: contain;\n    ").concat([o&&"position: relative ".concat(e,";"),"margin"===i&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(r,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(t,"px ").concat(e,";\n    "),"padding"===i&&"padding-right: ".concat(t,"px ").concat(e,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ct," {\n    right: ").concat(t,"px ").concat(e,";\n  }\n  \n  .").concat(st," {\n    margin-right: ").concat(t,"px ").concat(e,";\n  }\n  \n  .").concat(ct," .").concat(ct," {\n    right: 0 ").concat(e,";\n  }\n  \n  .").concat(st," .").concat(st," {\n    margin-right: 0 ").concat(e,";\n  }\n  \n  body[").concat(xt,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(t,"px;\n  }\n"))})}yt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},yt.classNames={fullWidth:st,zeroRight:ct};var Pt={left:0,top:0,right:0,gap:0},At=bt(),xt="data-scroll-locked",Tt=!1;if("undefined"!=typeof window)try{var _t=Object.defineProperty({},"passive",{get:function(){return Tt=!0}});window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch(le){Tt=!1}function Ut(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])}function Ct(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ot(e,r)){var a=Lt(e,r);if(a[1]>a[2])return!0}}while((r=r.parentNode)&&r!==n.body);return!1}function Nt(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]}function Mt(e){return[e.deltaX,e.deltaY]}function It(e){return e&&"current"in e?e.current:e}var Rt=!!Tt&&{passive:!1},Ot=function(e,t){return Ut(t,"v"===e?"overflowY":"overflowX")},Lt=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},Ft=0,Dt=[],Bt=(Un=function(t){var o=K.useRef([]),c=K.useRef([0,0]),s=K.useRef(),n=K.useState(Ft++)[0],a=K.useState(bt)[0],u=K.useRef(t);K.useEffect(function(){u.current=t},[t]),K.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var e=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([t.lockRef.current],(t.shards||[]).map(It),!0).filter(Boolean);return e.forEach(function(e){return e.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),e.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var i=K.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!u.current.allowPinchZoom;var n=Nt(e),r=c.current,a="deltaX"in e?e.deltaX:r[0]-n[0],o="deltaY"in e?e.deltaY:r[1]-n[1],i=e.target,r=Math.abs(a)>Math.abs(o)?"h":"v";if("touches"in e&&"h"==r&&"range"===i.type)return!1;n=Ct(r,i);if(!n)return!0;if(n?l=r:(l="v"==r?"h":"v",n=Ct(r,i)),!n)return!1;if(!s.current&&"changedTouches"in e&&(a||o)&&(s.current=l),!l)return!0;var l=s.current||l;return function(e,t,n,r,a){var o,i,l=(o=e,i=window.getComputedStyle(t).direction,"h"===o&&"rtl"===i?-1:1),i=l*r,c=n.target,s=t.contains(c),r=!1,n=0<i,u=0,d=0;do{var f=Lt(e,c),p=f[0],f=f[1]-f[2]-l*p}while((p||f)&&Ot(e,c)&&(u+=f,d+=p),c=c instanceof ShadowRoot?c.host:c.parentNode,!s&&c!==document.body||s&&(t.contains(c)||t===c));return(n&&(a&&Math.abs(u)<1||!a&&u<i)||!n&&(a&&Math.abs(d)<1||!a&&d<-i))&&(r=!0),r}(l,t,e,"h"===l?a:o,!0)},[]),e=K.useCallback(function(e){var n,r=e;Dt.length&&Dt[Dt.length-1]===a&&(n=("deltaY"in r?Mt:Nt)(r),(e=o.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,e=n,t[0]===e[0]&&t[1]===e[1]);var t})[0])&&e.should?r.cancelable&&r.preventDefault():e||(0<(e=(u.current.shards||[]).map(It).filter(Boolean).filter(function(e){return e.contains(r.target)})).length?i(r,e[0]):!u.current.noIsolation)&&r.cancelable&&r.preventDefault())},[]),r=K.useCallback(function(e,t,n,r){var a={name:e,delta:t,target:n,should:r,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};o.current.push(a),setTimeout(function(){o.current=o.current.filter(function(e){return e!==a})},1)},[]),l=K.useCallback(function(e){c.current=Nt(e),s.current=void 0},[]),d=K.useCallback(function(e){r(e.type,Mt(e),e.target,i(e,t.lockRef.current))},[]),f=K.useCallback(function(e){r(e.type,Nt(e),e.target,i(e,t.lockRef.current))},[]);K.useEffect(function(){return Dt.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",e,Rt),document.addEventListener("touchmove",e,Rt),document.addEventListener("touchstart",l,Rt),function(){Dt=Dt.filter(function(e){return e!==a}),document.removeEventListener("wheel",e,Rt),document.removeEventListener("touchmove",e,Rt),document.removeEventListener("touchstart",l,Rt)}},[]);var p=t.removeScrollBar,m=t.inert;return K.createElement(K.Fragment,null,m?K.createElement(a,{styles:"\n  .block-interactivity-".concat(m=n," {pointer-events: none;}\n  .allow-interactivity-").concat(m," {pointer-events: all;}\n")}):null,p?K.createElement(St,{gapMode:t.gapMode}):null)},ht.useMedium(Un),mt),kt=K.forwardRef(function(e,t){return K.createElement(yt,ee({},e,{ref:t,sideCar:Bt}))});function Gt(e){return e&&(e.host||Gt(e.parentNode))}function jt(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||(a=e,"undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),function(e,t,i,l){var n,r=(n=t,(Array.isArray(e)?e:[e]).map(function(e){if(n.contains(e))return e;var t=Gt(e);return t&&n.contains(t)?t:(console.error("aria-hidden",e,"in not contained inside",n,". Doing nothing"),null)}).filter(function(e){return Boolean(e)}));Xt[i]||(Xt[i]=new WeakMap);var c=Xt[i],s=[],u=new Set,a=new Set(r),e=function e(t){t&&!u.has(t)&&(u.add(t),e(t.parentNode))};return r.forEach(e),function o(e){e&&!a.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(u.has(e))o(e);else try{var t=e.getAttribute(l),n=null!==t&&"false"!==t,r=(Ht.get(e)||0)+1,a=(c.get(e)||0)+1;Ht.set(e,r),c.set(e,a),s.push(e),1===r&&n&&Vt.set(e,!0),1===a&&e.setAttribute(i,"true"),n||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})}(t),u.clear(),zt++,function(){s.forEach(function(e){var t=Ht.get(e)-1,n=c.get(e)-1;Ht.set(e,t),c.set(e,n),t||(Vt.has(e)||e.removeAttribute(l),Vt.delete(e)),n||e.removeAttribute(i)}),--zt||(Ht=new WeakMap,Ht=new WeakMap,Vt=new WeakMap,Xt={})}}(r,a,n,"aria-hidden")):function(){return null}}kt.classNames=yt.classNames;var Wt=kt,Ht=new WeakMap,Vt=new WeakMap,Xt={},zt=0;ue(".bg-common-backdrop{background-color:var(--color-common-backdrop)}.shadow-transient-high{--alpha-color-shadow-subtle:rgba(0,0,0,.08);box-shadow:var(--size-0) var(--size-50) var(--size-100) -.5px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-250) var(--size-500) -.75px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-400) var(--size-800) -1px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-1200) var(--size-1400) -1.5px var(--alpha-color-shadow-subtle)}@media (prefers-color-scheme:dark){.shadow-transient-high{--alpha-color-shadow-subtle:rgba(4,4,8,.25)}}.light-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(0,0,0,.08)}.dark-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(4,4,8,.25)}.system-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(0,0,0,.08)}@media (prefers-color-scheme:dark){.system-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(4,4,8,.25)}}.foundation-web-portal-zindex{z-index:2000}");var Yt={XSmall:"size-[var(--icon-size-xsmall)]",Small:"size-[var(--icon-size-small)]",Medium:"size-[var(--icon-size-medium)]",Large:"size-[var(--icon-size-large)]",XLarge:"size-[var(--icon-size-xlarge)]"},qt=Z().forwardRef(function(e,t){var n=e.name,r=e.size,a=void 0===r?"Medium":r,r=e.className;e.children;e=te(e,["name","size","className","children"]);return Z().createElement("span",ee({ref:t,role:"presentation",className:ne("grow-0 shrink-0 basis-auto icon",n,Yt[a],r)},e))});function Kt(){return Z().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})}function Zt(e){var t=e.variant,n=e.size,r=e.isCircular,a=e.className,e=te(e,["variant","size","isCircular","className"]);return Z().createElement("button",ee({type:"button","aria-label":"Close",className:ne("foundation-web-close-affordance flex stroke-none bg-none cursor-pointer",Qt,Jt[t],$t[n],r&&"radius-circle",a)},e),Z().createElement(Kt,null),Z().createElement(qt,{name:"icon-regular-x",size:n}))}qt.displayName="Icon";var Qt="relative clip group/interactable focus-visible:outline-focus disabled:outline-none",$t={Small:"padding-xsmall",Medium:"padding-small",Large:"padding-medium"},Jt={Utility:"bg-action-link",OverMedia:"bg-over-media-100"};function en(e){return function(e){if(Array.isArray(e))return an(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||rn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){if(e){if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach(function(e){cn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(t,n,e){var e=(2<arguments.length&&void 0!==e?e:{}).checkForDefaultPrevented,r=void 0===e||e;return function(e){if(null!=t&&t(e),!1===r||!e.defaultPrevented)return null==n?void 0:n(e)}}function un(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function dn(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var n=!1,r=a.map(function(e){e=un(e,t);return n||"function"!=typeof e||(n=!0),e});if(n)return function(){for(var e=0;e<r.length;e++){var t=r[e];"function"==typeof t?t():un(a[e],null)}}}}function fn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K.useCallback(dn.apply(void 0,t),t)}function pn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=n[0];if(1===n.length)return a;function r(){var t=n.map(function(e){return{useScope:e(),scopeName:e.scopeName}});return function(r){var e=t.reduce(function(e,t){var n=t.useScope,t=t.scopeName;return ln(ln({},e),n(r)["__scope".concat(t)])},{});return K.useMemo(function(){return cn({},"__scope".concat(a.scopeName),e)},[e])}}return r.scopeName=a.scopeName,r}function mn(e){var a=K.useRef(e);return K.useEffect(function(){a.current=e}),K.useMemo(function(){return function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(n))}},[])}function vn(e){var a,n,t,o,r,i,l,c,s,u,d=e.present,f=e.children,p=(a=d,t=nn(K.useState(),2),o=t[0],r=t[1],i=K.useRef({}),l=K.useRef(a),c=K.useRef("none"),t=a?"mounted":"unmounted",t=nn((n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},K.useReducer(function(e,t){return null!==(t=n[e][t])&&void 0!==t?t:e},t)),2),s=t[0],u=t[1],K.useEffect(function(){var e=yn(i.current);c.current="mounted"===s?e:"none"},[s]),hn(function(){var e,t,n=i.current,r=l.current;r!==a&&(e=c.current,t=yn(n),a?u("MOUNT"):"none"===t||"none"===(null==n?void 0:n.display)?u("UNMOUNT"):u(r&&e!==t?"ANIMATION_OUT":"UNMOUNT"),l.current=a)},[a,u]),hn(function(){if(o){var e,r,a=null!==(e=o.ownerDocument.defaultView)&&void 0!==e?e:window,t=function(e){var t,n=yn(i.current).includes(e.animationName);e.target===o&&n&&(u("ANIMATION_END"),!l.current)&&(t=o.style.animationFillMode,o.style.animationFillMode="forwards",r=a.setTimeout(function(){"forwards"===o.style.animationFillMode&&(o.style.animationFillMode=t)}))},n=function(e){e.target===o&&(c.current=yn(i.current))};return o.addEventListener("animationstart",n),o.addEventListener("animationcancel",t),o.addEventListener("animationend",t),function(){a.clearTimeout(r),o.removeEventListener("animationstart",n),o.removeEventListener("animationcancel",t),o.removeEventListener("animationend",t)}}u("ANIMATION_END")},[o,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:K.useCallback(function(e){e&&(i.current=getComputedStyle(e)),r(e)},[])}),m="function"==typeof f?f({present:p.isPresent}):K.Children.only(f),e=fn(p.ref,(e=m,(t=null===(d=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in t&&t.isReactWarning?e.ref:(t=null===(d=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in t&&t.isReactWarning?e.props.ref:e.props.ref||e.ref));return"function"==typeof f||p.isPresent?K.cloneElement(m,{ref:e}):null}var hn=null!==globalThis&&void 0!==globalThis&&globalThis.document?K.useLayoutEffect:function(){};function yn(e){return(null==e?void 0:e.animationName)||"none"}function gn(e){var t,n,i=(t=e,(n=K.forwardRef(function(e,t){var n,r=e.children,a=tn(e,["children"]);if(K.isValidElement(r)){var o=(o=r,e=null===(n=Object.getOwnPropertyDescriptor(o.props,"ref"))||void 0===n?void 0:n.get,e&&"isReactWarning"in e&&e.isReactWarning?o.ref:(e=null===(n=Object.getOwnPropertyDescriptor(o,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning?o.props.ref:o.props.ref||o.ref),a=function(r,a){var e,o=ln({},a);for(e in a)!function(e){var t=r[e],n=a[e];/^on[A-Z]/.test(e)?t&&n?o[e]=function(){n.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(o[e]=t):"style"===e?o[e]=ln(ln({},t),n):"className"===e&&(o[e]=[t,n].filter(Boolean).join(" "))}(e);return ln(ln({},r),o)}(a,r.props);return r.type!==K.Fragment&&(a.ref=t?dn(t,o):o),K.cloneElement(r,a)}return 1<K.Children.count(r)?K.Children.only(null):null})).displayName="".concat(t,".SlotClone"),n),n=K.forwardRef(function(e,t){var n=e.children,r=tn(e,["children"]),e=K.Children.toArray(n),a=e.find(En);if(a){var o=a.props.children,e=e.map(function(e){return e===a?1<K.Children.count(o)?K.Children.only(null):K.isValidElement(o)?o.props.children:null:e});return(0,re.jsx)(i,ln(ln({},r),{},{ref:t,children:K.isValidElement(o)?K.cloneElement(o,void 0,e):null}))}return(0,re.jsx)(i,ln(ln({},r),{},{ref:t,children:n}))});return n.displayName="".concat(e,".Slot"),n}vn.displayName="Presence";var bn=Symbol("radix.slottable");function En(e){return K.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===bn}var wn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,r){var a=gn("Primitive.".concat(r)),t=K.forwardRef(function(e,t){var n=e.asChild,e=tn(e,["asChild"]),n=n?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,re.jsx)(n,ln(ln({},e),{},{ref:t}))});return t.displayName="Primitive.".concat(r),ln(ln({},e),{},cn({},r,t))},{}),Sn="Dialog",Pn=nn(function(l,e){var t=1<arguments.length&&void 0!==e?e:[],c=[],e=function(){var n=c.map(function(e){return K.createContext(e)});return function(e){var t=(null==e?void 0:e[l])||n;return K.useMemo(function(){return cn({},"__scope".concat(l),ln(ln({},e),{},cn({},l,t)))},[e,t])}};return e.scopeName=l,[function(r,a){var o=K.createContext(a),i=c.length;c=[].concat(en(c),[a]);function e(e){var t=e.scope,n=e.children,r=tn(e,["scope","children"]),t=(null==t||null===(a=t[l])||void 0===a?void 0:a[i])||o,a=K.useMemo(function(){return r},Object.values(r));return(0,re.jsx)(t.Provider,{value:a,children:n})}return e.displayName=r+"Provider",[e,function(e,t){var n=(null==t||null===(n=t[l])||void 0===n?void 0:n[i])||o,n=K.useContext(n);if(n)return n;if(void 0!==a)return a;throw new Error("`".concat(e,"` must be used within `").concat(r,"`"))}]},pn.apply(void 0,[e].concat(en(t)))]}(Sn),2),An=Pn[0],xn=(Pn[1],nn(An(Sn),2)),Tn=xn[0],_n=xn[1],Un=function(e){var t,n,r,a,o,i,l,c=e.__scopeDialog,s=e.children,u=e.open,d=e.defaultOpen,f=e.onOpenChange,p=e.modal,m=void 0===p||p,e=K.useRef(null),p=K.useRef(null),u=(a=(u={prop:u,defaultProp:d,onChange:f}).prop,d=u.defaultProp,f=u.onChange,d=(f={defaultProp:d,onChange:u=void 0===f?function(){}:f}).defaultProp,f=f.onChange,d=K.useState(d),t=nn(d,1)[0],n=K.useRef(t),r=mn(f),K.useEffect(function(){n.current!==t&&(r(t),n.current=t)},[t,n,r]),f=(d=nn(f=d,2))[0],o=d[1],f=(i=void 0!==a)?a:f,l=mn(u),[f,K.useCallback(function(e){var t;i?(t="function"==typeof e?e(a):e)!==a&&l(t):o(e)},[i,a,o,l])]),f=nn(u,2),u=f[0],u=void 0!==u&&u,v=f[1];return(0,re.jsx)(Tn,{scope:c,triggerRef:e,contentRef:p,contentId:se(),titleId:se(),descriptionId:se(),open:u,onOpenChange:v,onOpenToggle:K.useCallback(function(){return v(function(e){return!e})},[v]),modal:m,children:s})};Un.displayName=Sn;var Cn="DialogTrigger";K.forwardRef(function(e,t){var n=e.__scopeDialog,r=tn(e,["__scopeDialog"]),n=_n(Cn,n),t=fn(t,n.triggerRef);return(0,re.jsx)(wn.button,ln(ln({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Hn(n.open)},r),{},{ref:t,onClick:sn(e.onClick,n.onOpenToggle)}))}).displayName=Cn;var Nn="DialogPortal",Mn=(mt=nn(An(Nn,{forceMount:void 0}),2))[0],In=mt[1];(kt=function(e){var t=e.__scopeDialog,n=e.forceMount,r=e.children,a=e.container,o=_n(Nn,t);return(0,re.jsx)(Mn,{scope:t,forceMount:n,children:K.Children.map(r,function(e){return(0,re.jsx)(vn,{present:n||o.open,children:(0,re.jsx)(ot,{asChild:!0,container:a,children:e})})})})}).displayName=Nn;var Rn="DialogOverlay";(Pn=K.forwardRef(function(e,t){var n=In(Rn,e.__scopeDialog),r=e.forceMount,n=void 0===r?n.forceMount:r,r=tn(e,["forceMount"]),e=_n(Rn,e.__scopeDialog);return e.modal?(0,re.jsx)(vn,{present:n||e.open,children:(0,re.jsx)(Ln,ln(ln({},r),{},{ref:t}))}):null})).displayName=Rn;var On=gn("DialogOverlay.RemoveScroll"),Ln=K.forwardRef(function(e,t){var n=e.__scopeDialog,e=tn(e,["__scopeDialog"]),n=_n(Rn,n);return(0,re.jsx)(Wt,{as:On,allowPinchZoom:!0,shards:[n.contentRef],children:(0,re.jsx)(wn.div,ln(ln({"data-state":Hn(n.open)},e),{},{ref:t,style:ln({pointerEvents:"auto"},e.style)}))})}),Fn="DialogContent";(xn=K.forwardRef(function(e,t){var n=In(Fn,e.__scopeDialog),r=e.forceMount,n=void 0===r?n.forceMount:r,r=tn(e,["forceMount"]),e=_n(Fn,e.__scopeDialog);return(0,re.jsx)(vn,{present:n||e.open,children:e.modal?(0,re.jsx)(Dn,ln(ln({},r),{},{ref:t})):(0,re.jsx)(Bn,ln(ln({},r),{},{ref:t}))})})).displayName=Fn;var Dn=K.forwardRef(function(e,t){var n=_n(Fn,e.__scopeDialog),r=K.useRef(null),t=fn(t,n.contentRef,r);return K.useEffect(function(){var e=r.current;if(e)return jt(e)},[]),(0,re.jsx)(kn,ln(ln({},e),{},{ref:t,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sn(e.onCloseAutoFocus,function(e){e.preventDefault(),null!==(e=n.triggerRef.current)&&void 0!==e&&e.focus()}),onPointerDownOutside:sn(e.onPointerDownOutside,function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;2!==t.button&&!n||e.preventDefault()}),onFocusOutside:sn(e.onFocusOutside,function(e){return e.preventDefault()})}))}),Bn=K.forwardRef(function(r,e){var a=_n(Fn,r.__scopeDialog),o=K.useRef(!1),i=K.useRef(!1);return(0,re.jsx)(kn,ln(ln({},r),{},{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(e){var t;null!==(t=r.onCloseAutoFocus)&&void 0!==t&&t.call(r,e),e.defaultPrevented||(o.current||null!==(t=a.triggerRef.current)&&void 0!==t&&t.focus(),e.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:function(e){var t;null!==(t=r.onInteractOutside)&&void 0!==t&&t.call(r,e),e.defaultPrevented||(o.current=!0,"pointerdown"===e.detail.originalEvent.type&&(i.current=!0));var n=e.target;(null===(t=a.triggerRef.current)||void 0===t?void 0:t.contains(n))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&i.current&&e.preventDefault()}}))}),kn=K.forwardRef(function(e,t){var n=e.__scopeDialog,r=e.trapFocus,a=e.onOpenAutoFocus,o=e.onCloseAutoFocus,e=tn(e,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),i=_n(Fn,n),n=K.useRef(null),t=fn(t,n);return K.useEffect(function(){var e,t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=t[0])&&void 0!==e?e:lt()),document.body.insertAdjacentElement("beforeend",null!==(t=t[1])&&void 0!==t?t:lt()),it++,function(){1===it&&document.querySelectorAll("[data-radix-focus-guard]").forEach(function(e){return e.remove()}),it--}},[]),(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(ze,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,re.jsx)(Re,ln(ln({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Hn(i.open)},e),{},{ref:t,onDismiss:function(){return i.onOpenChange(!1)}}))}),(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(qn,{titleId:i.titleId}),(0,re.jsx)(Kn,{contentRef:n,descriptionId:i.descriptionId})]})]})}),Gn="DialogTitle";(Sn=K.forwardRef(function(e,t){var n=e.__scopeDialog,e=tn(e,["__scopeDialog"]),n=_n(Gn,n);return(0,re.jsx)(wn.h2,ln(ln({id:n.titleId},e),{},{ref:t}))})).displayName=Gn;var jn="DialogDescription";K.forwardRef(function(e,t){var n=e.__scopeDialog,e=tn(e,["__scopeDialog"]),n=_n(jn,n);return(0,re.jsx)(wn.p,ln(ln({id:n.descriptionId},e),{},{ref:t}))}).displayName=jn;var Wn="DialogClose";function Hn(e){return e?"open":"closed"}(An=K.forwardRef(function(e,t){var n=e.__scopeDialog,r=tn(e,["__scopeDialog"]),a=_n(Wn,n);return(0,re.jsx)(wn.button,ln(ln({type:"button"},r),{},{ref:t,onClick:sn(e.onClick,function(){return a.onOpenChange(!1)})}))})).displayName=Wn;var Vn,Xn,zn="DialogTitleWarning",Yn=((mt=nn((mt=zn,Vn={contentName:Fn,titleName:Gn,docsSlug:"dialog"},Xn=K.createContext(Vn),nr.displayName=mt+"Provider",[nr,function(e){var t=K.useContext(Xn);return t||Vn}]),2))[0],mt[1]),qn=function(e){var t=e.titleId,e=Yn(zn),n="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return K.useEffect(function(){t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Kn=function(e){var t=e.contentRef,n=e.descriptionId,r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(Yn("DialogDescriptionWarning").contentName,"}.");return K.useEffect(function(){var e=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");n&&e&&(document.getElementById(n)||console.warn(r))},[r,t,n]),null},Zn=Un,Qn=kt,$n=Pn,Jn=xn,er=Sn,tr=An;function nr(e){var t=e.children,n=tn(e,["children"]),e=K.useMemo(function(){return n},Object.values(n));return(0,re.jsx)(Xn.Provider,{value:e,children:t})}function rr(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function ar(e){var t=K.forwardRef(function(e,t){var n,r=e.children,a=tn(e,["children"]);if(K.isValidElement(r)){var o=(o=r,e=null===(n=Object.getOwnPropertyDescriptor(o.props,"ref"))||void 0===n?void 0:n.get,e&&"isReactWarning"in e&&e.isReactWarning?o.ref:(e=null===(n=Object.getOwnPropertyDescriptor(o,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning?o.props.ref:o.props.ref||o.ref),a=function(r,a){var e,o=ln({},a);for(e in a)!function(e){var t=r[e],n=a[e];/^on[A-Z]/.test(e)?t&&n?o[e]=function(){var e=n.apply(void 0,arguments);return t.apply(void 0,arguments),e}:t&&(o[e]=t):"style"===e?o[e]=ln(ln({},t),n):"className"===e&&(o[e]=[t,n].filter(Boolean).join(" "))}(e);return ln(ln({},r),o)}(a,r.props);return r.type!==K.Fragment&&(a.ref=t?function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var n=!1,r=a.map(function(e){e=rr(e,t);return n||"function"!=typeof e||(n=!0),e});if(n)return function(){for(var e=0;e<r.length;e++){var t=r[e];"function"==typeof t?t():rr(a[e],null)}}}}(t,o):o),K.cloneElement(r,a)}return 1<K.Children.count(r)?K.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var or=Symbol("radix.slottable");function ir(e){return K.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===or}var lr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(function(e,r){var t,i,n,a=(t="Primitive.".concat(r),i=ar(t),(n=K.forwardRef(function(e,t){var n=e.children,r=tn(e,["children"]),e=K.Children.toArray(n),a=e.find(ir);if(a){var o=a.props.children,e=e.map(function(e){return e===a?1<K.Children.count(o)?K.Children.only(null):K.isValidElement(o)?o.props.children:null:e});return(0,re.jsx)(i,ln(ln({},r),{},{ref:t,children:K.isValidElement(o)?K.cloneElement(o,void 0,e):null}))}return(0,re.jsx)(i,ln(ln({},r),{},{ref:t,children:n}))})).displayName="".concat(t,".Slot"),n),n=K.forwardRef(function(e,t){var n=e.asChild,e=tn(e,["asChild"]),n=n?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,re.jsx)(n,ln(ln({},e),{},{ref:t}))});return n.displayName="Primitive.".concat(r),ln(ln({},e),{},cn({},r,n))},{}),cr=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sr=K.forwardRef(function(e,t){return(0,re.jsx)(lr.span,ln(ln({},e),{},{ref:t,style:ln(ln({},cr),e.style)}))});function ur(){var e=(0,K.useContext)(fr);if(!e)throw new Error("Dialog components must be used within a Dialog");return e}function dr(e){var t=e.open,n=e.onOpenChange,r=e.children,a=e.size,o=e.type,i=void 0===o?"Default":o,l=e.ariaLabel,c=e.isModal,s=void 0===(o=e.hasCloseAffordance)||o,u=void 0===(o=e.hasMarginTop)||o,d=void 0===(o=e.hasMarginBottom)||o,f=void 0!==(e=e.experimentalDisablePointerEventsStylingOnBody)&&e,e=(0,K.useMemo)(function(){return{size:a,ariaLabel:l,isModal:c,type:i,hasCloseAffordance:s,hasMarginTop:u,hasMarginBottom:d}},[a,l,c,i,s,u,d]);return(0,K.useEffect)(function(){f&&setTimeout(function(){Object.assign(document.body.style,{pointerEvents:"unset"})},0)},[f,t]),Z().createElement(fr.Provider,{value:e},Z().createElement(Zn,{open:t,onOpenChange:n},r))}sr.displayName="VisuallyHidden",ue(".foundation-web-dialog-overlay{bottom:0;display:grid;left:0;overflow-y:auto;place-items:center;position:fixed;right:0;top:0}.foundation-web-dialog-close-container{right:var(--size-300);top:var(--size-300);z-index:1}.foundation-web-dialog-hero-media{border-top-left-radius:var(--radius-large);border-top-right-radius:var(--radius-large);margin-left:calc(var(--stroke-standard)*-1);margin-right:calc(var(--stroke-standard)*-1);margin-top:calc(var(--stroke-standard)*-1);overflow:clip}.foundation-web-dialog-content[data-size=Small]{max-width:calc(var(--size-100)*80);min-width:calc(var(--size-100)*75)}.foundation-web-dialog-content[data-size=Medium]{max-width:calc(var(--size-100)*120);min-width:calc(var(--size-100)*94)}.foundation-web-dialog-content[data-size=Large]{max-width:calc(var(--size-100)*160);min-width:calc(var(--size-100)*94)}");var fr=(0,K.createContext)({size:"Medium",ariaLabel:"",isModal:!0,hasCloseAffordance:!0,hasMarginTop:!0,hasMarginBottom:!0,type:"Default"}),pr={Small:"padding-x-large",Medium:"padding-x-xlarge",Large:"padding-x-xlarge"},mr={Small:"padding-top-large",Medium:"padding-top-xlarge",Large:"padding-top-xlarge"},vr={Small:"padding-bottom-large",Medium:"padding-bottom-xlarge",Large:"padding-bottom-xlarge"};function hr(e){var t=e.children,n=e.className,r=e.overlayClassName,a=te(e,["children","className","overlayClassName"]),o=(i=ur()).size,e=i.isModal,i=i.hasCloseAffordance,r=ne("foundation-web-dialog-overlay padding-y-medium foundation-web-portal-zindex",e&&"bg-common-backdrop",r),n=ne("relative radius-large bg-surface-100 stroke-muted stroke-standard foundation-web-dialog-content shadow-transient-high",n);return Z().createElement(Qn,null,Z().createElement($n,{className:r},Z().createElement(Jn,ee({className:n,"data-size":o},a),i&&Z().createElement("div",{className:"absolute foundation-web-dialog-close-container"},Z().createElement(tr,{asChild:!0},Z().createElement(Zt,{variant:"OverMedia",size:o,isCircular:!0}))),t)))}function yr(e){var t=e.children,n=e.className,r=te(e,["children","className"]),a=(i=ur()).size,o=i.ariaLabel,e=i.hasMarginTop,i=i.hasMarginBottom,n=ne(pr[a],e&&mr[a],i&&vr[a],n);return Z().createElement("div",ee({className:n},r),Z().createElement(sr,null,Z().createElement(er,null,o)),t)}function gr(e){var t=e.children,n=e.className,r=te(e,["children","className"]),e=ur().size,n=ne(pr[e],vr[e],n);return Z().createElement("div",ee({className:n},r),t)}function br(e){var t=e.width,e=e.height;return Z().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))}function Er(e){var t=e.children,n=e.className,r=e.style,a=e.as,o=void 0!==(l=e.isDisabled)&&l,i=void 0!==(s=e.isLoading)&&s,l=void 0===(c=e.size)?"Large":c,c=void 0===(s=e.variant)?"Emphasis":s,s=te(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),e=null!=a?a:"button",a=s.href,s=te(s,["href"]);return Z().createElement(e,ee({type:"button"===e?"button":void 0,disabled:o,"aria-disabled":o,href:o?void 0:a},s,{className:ne("foundation-web-button",Qt,o?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",Sr[l],(o?Ar:Pr)[c],n),style:ee({textDecoration:"none"},r)}),Z().createElement(Kt,null),i&&Z().createElement("div",{"aria-hidden":"true",className:"absolute flex"},Z().createElement(br,{width:wr[l],height:wr[l]})),Z().createElement("span",{className:ne("padding-y-xsmall text-truncate-end text-no-wrap",i&&"invisible")},t))}dr.displayName="Dialog",hr.displayName="DialogContent",yr.displayName="DialogBody",gr.displayName="DialogFooter",ue("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var wr={Large:24,Medium:20,Small:16,XSmall:12},Sr={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},Pr={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},Ar={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},xr={common:["IAPExperience.PurchaseError","Feature.NotApproved"],feature:"Purchasing.PurchaseDialog"},Tr=Sn={freeLabel:"Label.Free",okAction:"Action.Ok",insufficientFundsHeading:"Heading.InsufficientFunds",insufficientFundsMessage:"Message.InsufficientFunds",doneAction:"Action.Done",cancelAction:"Action.Cancel",buyRobuxAction:"Action.BuyRobux",buyAccessAction:"Action.BuyAccess",buyItemHeading:"Heading.BuyItem",buyNowAction:"Action.BuyNow",buyExperience:"Title.BuyExperience",getItemHeading:"Heading.GetItem",getNowAction:"Action.GetNow",priceChangedHeading:"Heading.PriceChanged",priceChangedMessage:"Message.PriceChanged",balanceAfterMessage:"Message.BalanceAfter",agreeAndPayLabel:"Label.AgreeAndPay",promptGetFreeAccessMessage:"Message.PromptGetFreeAccess",promptGetFreeMessage:"Message.PromptGetFree",promptBuyAccessMessage:"Message.PromptBuyAccess",promptBuyMessage:"Message.PromptBuy",promptBuySimplifiedMessage:"Message.PromptBuySimplified",configureAction:"Action.Customize",notNowAction:"Action.NotNow",customizeAction:"Action.Customize",continueAction:"Action.Continue",purchaseCompleteHeading:"Heading.PurchaseComplete",successfullyBoughtAccessMessage:"Message.SuccessfullyBoughtAccess",successfullyBoughtMessage:"Message.SuccessfullyBought",successfullyRenewedAccessMessage:"Message.SuccessfullyRenewedAccess",successfullyRenewedMessage:"Message.SuccessfullyRenewed",successfullyAcquiredAccessMessage:"Message.SuccessfullyAcquiredAccess",successfullyAcquiredMessage:"Message.SuccessfullyAcquired",itemGrantDelayMessage:"Message.ItemGrantDelay",errorOccuredHeading:"Heading.ErrorOccured",purchasingUnavailableMessage:"Message.PurchasingUnavailable",buyAction:"Action.Buy",installAction:"Action.Install",getAction:"Action.Get",bestPriceLabel:"Label.BestPrice",priceLabel:"Label.Price",premiumDiscountOpportunityPromptLabel:"Label.PremiumDiscountOpportunityPrompt",premiumDiscountSavingsLabel:"Label.PremiumDiscountSavings",premiumExclusiveEligiblePromptLabel:"Label.PremiumExclusiveEligiblePrompt",premiumExclusiveIneligiblePromptLabel:"Label.PremiumExclusiveIneligiblePrompt",getPremiumAction:"Action.GetPremium",itemNotCurrentlyForSaleLabel:"Label.ItemNotCurrentlyForSale",itemNoLongerForSaleLabel:"Label.ItemNoLongerForSale",purchasingTemporarilyUnavailableLabel:"Label.PurchasingTemporarilyUnavailable",itemAvailableInventoryLabel:"Label.ItemAvailableInventory",noOneCurrentlySellingLabel:"Label.NoOneCurrentlySelling",inventoryAction:"Action.Inventory",OffsaleCountdownHourMinuteSecondLabel:"Label.OffsaleCountdownHourMinuteSecond",CountdownTimerDayHourMinute:"Label.CountdownTimerDayHourMinute",batchBuyItemHeading:"Heading.BuyItems",batchBuyPromptMessage:"Message.PromptBatchBuy",batchBuyBalanceAfterMessage:"Message.BalanceAfter",purchaseCompletedMessage:"Heading.PurchaseCompleted",generalPurchaseErrorMessage:"Heading.GeneralError",batchBuyPartialSuccessGeneralFailureMessage:"Heading.PartialSuccessGeneralFailure",batchBuyPartialSuccessItemsOwnedFailureMessage:"Heading.PartialSuccessItemsOwnedFailure",batchBuyPartialSuccessInsufficientFundsFailureMessage:"Heading.PartialSuccessInsufficientFundsFailure",batchBuyPartialSuccessNetworkErrorFailureMessage:"Heading.PartialSuccessNetworkErrorFailure",batchBuyPartialSuccessFloodcheckFailureMessage:"Heading.PartialSuccessFloodcheckFailure",purchaseErrorFailureMessage:"Heading.PurchaseFailure",batchBuyItemsOwnedFailureMessage:"Heading.ItemsOwnedFailure",insufficientFundsFailureMessage:"Heading.InsufficientFundsFailure",networkErrroFailureMessage:"Heading.NetworkErrorFailure",floodcheckFailureMessage:"Heading.FloodcheckFailure",batchBuyPartialSuccessPremiumNeededFailureMessage:"Heading.PartialSuccessPremiumNeededFailure",batchBuyPartialSuccessNoSellersFailureMessage:"Heading.PartialSuccessNoSellersFailure",premiumNeededFailureMessage:"Heading.PremiumNeededFailure",noSellersFailureMessage:"Heading.NoSellersFailure",batchBuyPartialSuccessInExperienceOnlyFailureMessage:"Heading.PartialSuccessInExperienceOnlyFailure",inExperienceOnlyFailureMessage:"Heading.InExperienceOnlyFailure",redirectToPartnerWebsiteMessage:"Description.RedirectToPartnerWebsite",continueToPaymentAction:"Action.ContinueToPayment",leavingRobloxHeading:"Heading.LeavingRoblox",pendingDeveloperProductLimitReachedMessage:"Message.PendingDeveloperProductLimitReached",pendingDeveloperProductLimitReachedHeading:"Heading.PendingDeveloperProductLimitReached",additionalRobuxNeeded:"Message.AdditionalRobux",economicRestrictionsErrorHeading:"Heading.EconomicRestrictionsError"};function _r(e){var t=e.translate,n=e.titleText,e=e.currentRobuxBalance;return Z().createElement("div",{id:"rbx-unified-purchase-heading",className:"flex flex-row items-center justify-between",style:{paddingRight:42}},Z().createElement("span",{className:"text-heading-medium"},n),"number"==typeof e&&Z().createElement("div",{className:"flex flex-row items-center"},Z().createElement(Ur,{translate:t,price:e,color:"",useFreeText:!1})))}var Ur=(0,J.withTranslations)(function(e){var t=e.translate,n=e.price,r=void 0===(r=e.color)?"":r,e=e.useFreeText;return 0!==n||void 0!==e&&!e?Z().createElement(Z().Fragment,null,Z().createElement("span",{className:"icon-robux"+(r?"-"+r:"")+"-16x16"}),Z().createElement("span",{className:"text-robux ml-1"},R.numberFormat.getNumberFormat(n))):Z().createElement("span",{className:"text-robux text-free"},t(Tr.freeLabel))},xr),An=PropTypes;function Cr(e){e=e.name;return Z().createElement("span",{className:"font-bold"},e)}Cr.propTypes={name:(An=a.n(An))().string.isRequired};var Nr=Cr,Mr=Sn;function Ir(e){var t=e.translate,n=e.price,r=e.color,e=e.useFreeText;return 0===n&&e?Z().createElement("span",{className:"text-robux text-free"},t(Mr.freeLabel)):Z().createElement(Z().Fragment,null,Z().createElement("span",{className:"icon-robux".concat(r?"-".concat(r):"","-16x16")}),Z().createElement("span",{className:"text-robux"},R.numberFormat.getNumberFormat(n)))}function Rr(e){var t=e.translate,n=e.thumbnail,r=e.assetName,a=e.expectedPrice,e=void 0===(e=e.thumbnailSizePx)?150:e;return Z().createElement("div",{className:"flex flex-row items-center gap-large"},Z().createElement("div",{className:"relative shrink-0",style:{width:e,height:e}},Z().createElement("div",{className:"rounded",style:{width:"100%",height:"100%",backgroundColor:"rgba(255,255,255,0.06)"}}),Z().createElement("div",{className:"absolute",style:{inset:0,display:"flex",alignItems:"center",justifyContent:"center"}},n)),Z().createElement("div",{className:"min-w-0 flex flex-col gap-small"},Z().createElement("span",{className:"text-body-large break-words"},Z().createElement(Nr,{name:r})),Z().createElement("div",{className:"flex flex-row items-center"},Z().createElement(Lr,{translate:t,price:a,color:"",useFreeText:!1}))))}function Or(e){var t=e.robuxAmount,e=e.price;return Z().createElement("div",{className:"rounded-xxlarge radius-medium border padding-medium",style:{borderColor:"var(--content-action-standard)"}},Z().createElement("div",{className:"flex flex-row items-center justify-between gap-medium"},Z().createElement("div",{className:"flex flex-row items-center"},Z().createElement("span",{className:"icon-robux-16x16"}),Z().createElement("span",{className:"text-heading-small margin-left-xsmall"},R.numberFormat.getNumberFormat(t))),Z().createElement("div",{className:"text-label-large"},e)))}Ir.defaultProps={color:"",useFreeText:!0},Ir.propTypes={price:An().number.isRequired,translate:An().func.isRequired,color:An().string,useFreeText:An().bool};var Lr=(0,J.withTranslations)(Ir,xr);function Fr(){var e=y.EnvironmentUrls.apiGatewayUrl;return{getDmccaLegalTextFeature:function(){return R.httpService.get({retryable:!0,withCredentials:!0,url:e+"/access-management/v1/upsell-feature-access?featureName=ShouldUseDMCCALegalDisclosure"}).then(function(e){return"Granted"===e.data.access})}}}function Dr(e){var t,n,r,a,o,i=e.translate,l=e.expectedPrice,c=e.thumbnail,s=e.assetName,u=(e.assetType,e.assetTypeDisplayName,e.onAction),d=e.onCancel,f=void 0!==(g=e.loading)&&g,p=e.currentRobuxBalance,m=void 0!==(b=e.open)&&b,v=e.robuxPackageAmount,h=e.robuxPackagePrice,y=e.intl,g=i(_.buyRobuxAndItemAction),b=i(_.buy),y=(t=i,n=y,e=(0,K.useState)(""),y=e[0],r=e[1],a=(e=(0,K.useState)(!1))[0],o=e[1],(0,K.useEffect)(function(){Fr().getDmccaLegalTextFeature().then(function(e){e&&o(!0)}).catch(function(e){console.warn("Failed to fetch DMCCA feature",e)})},[]),(0,K.useEffect)(function(){var e=R.urlService.getUrlWithLocale(E,n.getRobloxLocale());a&&(e+="#robux-and-premium-membership");e="<a style='text-decoration: underline;' target='_blank' href='"+e+"'>",e=t(_.termsOfUseText,{aTagStart:e,aTagEnd:"</a>"});r(e)},[a,n,t]),y);return Z().createElement(dr,{open:m,onOpenChange:function(e){!e&&d&&d()},isModal:!0,size:"Large",type:"Default",ariaLabel:g,hasCloseAffordance:!0},Z().createElement(hr,{className:"relative width-full"},Z().createElement(yr,{className:"gap-large flex flex-col"},Z().createElement("div",{className:"margin-bottom-xsmall"},Z().createElement(_r,{translate:i,titleText:g,currentRobuxBalance:p})),Z().createElement(Rr,{translate:i,thumbnail:c,assetName:s,expectedPrice:l}),null!=v&&null!=h&&Z().createElement(Or,{robuxAmount:v,price:h})),Z().createElement(gr,{className:"gap-small flex flex-col mt-[40px]"},Z().createElement("div",{className:"flex flex-col items-center text-center width-full gap-medium"},Z().createElement(Er,{variant:"Emphasis",className:"width-full shrink-0",onClick:u,isDisabled:f},b),Z().createElement("div",{className:"text-body-small",dangerouslySetInnerHTML:{__html:y}})))))}function Br(e){var t=e.translate,n=e.expectedPrice,r=e.thumbnail,a=e.assetName,o=e.onAction,i=e.onCancel,l=void 0!==(c=e.loading)&&c,c=e.currentRobuxBalance,e=void 0!==(e=e.open)&&e;return Z().createElement(dr,{open:e,onOpenChange:function(e){!e&&i&&i()},isModal:!0,size:"Large",type:"Default",ariaLabel:t(_.insufficientRobuxHeadingNew),hasCloseAffordance:!0},Z().createElement(hr,{className:"relative width-full"},Z().createElement(yr,{className:"gap-large flex flex-col"},Z().createElement("div",{className:"margin-bottom-xsmall"},Z().createElement(_r,{translate:t,titleText:t(_.insufficientRobuxHeadingNew),currentRobuxBalance:c})),Z().createElement(Rr,{translate:t,thumbnail:r,assetName:a,expectedPrice:n})),Z().createElement(gr,{className:"gap-small flex flex-col mt-[40px]"},Z().createElement("div",{className:"flex flex-row-reverse"},Z().createElement(Er,{"aria-label":t(_.insufficientRobuxHeadingNew),variant:"Emphasis",className:" fill",onClick:o,isDisabled:l},Z().createElement("div",{className:"fill basis-0 inline-flex items-center gap-medium leading-none"},Z().createElement(qt,{name:"icon-filled-arrow-up-right-from-square",className:"align-middle"}),t(_.buyRobux)))))))}var kr=function(t){var n=document.createElement("div");function r(){var e;$().unmountComponentAtNode(n),n.remove(),null!==(e=t.onCancel)&&void 0!==e&&e.call(t)}document.body.appendChild(n);var e=function(){var e;!1!==(null===(e=t.onAccept)||void 0===e?void 0:e.call(t))&&r()};if("tooExpensive"!==t.variant)return a=(0,J.withTranslations)(Dr,xr),e=Z().createElement(a,{expectedPrice:t.expectedPrice,thumbnail:t.thumbnail,assetName:t.assetName,assetType:t.assetType,assetTypeDisplayName:t.assetTypeDisplayName,onAction:e,onCancel:r,open:!0,loading:!1,currentRobuxBalance:t.currentRobuxBalance,robuxPackageAmount:null===(e=t.upsellProduct)||void 0===e?void 0:e.robux_amount,robuxPackagePrice:null===(e=t.upsellProduct)||void 0===e?void 0:e.price}),$().render(e,n),{close:r};var a=(0,J.withTranslations)(Br,xr),a=Z().createElement(a,{expectedPrice:t.expectedPrice,thumbnail:t.thumbnail,assetName:t.assetName,onAction:e,onCancel:r,open:!0,loading:!1,currentRobuxBalance:t.currentRobuxBalance});return $().render(a,n),{close:r}},Gr=function(e){return e=e.thumbnailImageUrl,Z().createElement("div",{className:"item-preview",style:{overflow:"hidden",maxWidth:"100%"}},Z().createElement("div",{className:"item-card-thumb"},Z().createElement("img",{alt:"item preview",src:null!=e?e:"",style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"8px"}})),Z().createElement("div",{className:"item-info text-name"}))};function jr(e,t,n){var r=function(e){var t,n=g.upsellUtil.constants.UPSELL_TARGET_ITEM_URL_REGEX.exec(window.location.pathname);if(g.upsellUtil.constants.UPSELL_TARGET_ITEM_URL_REGEX.lastIndex=0,Array.isArray(n)&&0<n.length&&(t=n[0]),!t)return"";if(!e||Object.keys(e).length<4)return"";var r=R.uuidService.generateRandomUuid(),n=e.expectedCurrency+","+e.expectedPrice+","+e.expectedSellerId+","+(null!==(a=e.userassetId)&&void 0!==a?a:""),a=""+(e.productId||"");return a+=","+(e.collectibleItemId||""),a+=","+(e.collectibleItemInstanceId||""),a+=","+(e.collectibleProductId||""),n=r+","+t+","+y.CurrentUser.userId+","+n+","+a,(a=new Date).setHours(a.getHours()+1),a=[g.upsellUtil.constants.UPSELL_COOKIE_KEY,"=",encodeURIComponent(n),"; expires="+a.toUTCString(),"; path=/","; domain=.",y.EnvironmentUrls.domain,";"],document.cookie=a.join(""),r}(n);V(I.UpsellContinued,null==n?void 0:n.assetType),g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GO_TO_ROBUX_PURCHASE_PAGE),window.location.href=R.urlService.getAbsoluteUrl(o+"?ap="+e.roblox_product_id+"&UpsellUuid="+r)}function Wr(e,t,n,r){var a=Date.now(),o=a-t;g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,e,{userBalance:n.userBalanceRobux.toString(),itemCost:r.expectedItemPrice.toString(),modalImpressionTimeInMs:o.toString(),modalStartTimeInMs:t.toString(),modalEndTimeInMs:a.toString()})}function Hr(e,t,n,r,a,o,i,l){void 0===l&&(l=!1);var c=F(t.expectedItemPrice),s="<div class='item-card-container item-preview'>\n        <div class='item-card-thumb'>\n          <img alt='item preview' src='"+(null!==(s=n.thumbnailImageUrl)&&void 0!==s?s:"")+"' />\n        </div>\n        <div class='item-info text-name'>\n        <div class='text-overflow item-card-name'>"+(0,R.escapeHtml)()(t.assetName)+"</div>\n          <div class='text-robux item-card-price'>"+c+"</div>\n        </div>\n      </div>";V(I.UpsellShown,null===(c=t.buyButtonElementDataset)||void 0===c?void 0:c.assetType),g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN),function(e,t,n,r,a,o,i,l,c){void 0===c&&(c=!1);var s=Date.now(),u="<a class='text-link-secondary terms-of-use-link' target='_blank' href='"+R.urlService.getUrlWithLocale(E,o.getRobloxLocale())+"'>",d=F(t.shortfallPrice,!1),f=F(a.robux_amount),t=a.robux_amount_before_bonus?F(a.robux_amount_before_bonus,!1,!0):"",t=e+i.get(_.insufficientRobuxMessageNew,{divTagStart:"<div class='modal-message-block text-center border-top'>",divTagEnd:"</div>",robuxNeeded:d,robuxPackageAmount:f,originalRobuxPackageAmount:t,sentenceSplit:"<br>",lineBreak:"",aTagStart:u,aTagEnd:"</a>",divTagFooterStart:"<div class='modal-message-block text-center border-top modal-legal-footer'>",divTagFooterEnd:"</div>"}),u=i.get(_.insufficientRobuxHeadingNew,{});function p(){return Wr(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX_AND_ITEM,s,r,n),q(a,y.CurrentUser.isUnder13,function(){return jr(a,0,n.buyButtonElementDataset)},l,n.buyButtonElementDataset).catch(function(){var e;V(I.U13PaymentModalFailedToShow,null===(e=n.buyButtonElementDataset)||void 0===e?void 0:e.assetType),jr(a,0,n.buyButtonElementDataset)}),!1}function m(){var e;Wr(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL,s,r,n),V(I.UpsellCancelled,null===(e=n.buyButtonElementDataset)||void 0===e?void 0:e.assetType)}c?kr({variant:"standard",expectedPrice:n.expectedItemPrice,upsellProduct:a,assetName:n.assetName,assetType:(null===(c=n.buyButtonElementDataset)||void 0===c?void 0:c.assetType)||"",thumbnail:Gr({thumbnailImageUrl:null!==(c=r.thumbnailImageUrl)&&void 0!==c?c:""}),currentRobuxBalance:Number(r.userBalanceRobux),onAccept:p,onCancel:m,intl:o}):y.Dialog.open({titleText:u,bodyContent:t,footerText:"",declineText:i.get(_.cancelAction,{}),acceptText:i.get(_.buyRobuxAndItemAction,{}),acceptColor:"btn-primary-md",onAccept:p,onDecline:function(){var e;Wr(g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL,s,r,n),V(I.UpsellCancelled,null===(e=n.buyButtonElementDataset)||void 0===e?void 0:e.assetType)},onCancel:m,allowHtmlContentInBody:!0,allowHtmlContentInFooter:!1,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0})}(s,e,t,n,r,a,o,i,l)}function Vr(){var n=this;this.overlayDiv=null,this.contentDiv=null,this.loadingMessageSpan=null,this.spinnerSpan=null,this.loadingOverlayElementId="loading-overlay",this.show=function(e){var t=n.getOrCreateOverlayDiv(),t=n.getOrCreateContentDiv(t);return n.getOrCreateSpinnerSpan(t),n.updateOrCreateMessage(e),n},this.hide=function(){var e;null!==(e=null===(e=n.spinnerSpan)||void 0===e?void 0:e.parentNode)&&void 0!==e&&e.removeChild(n.spinnerSpan),null!==(e=null===(e=n.loadingMessageSpan)||void 0===e?void 0:e.parentNode)&&void 0!==e&&e.removeChild(n.loadingMessageSpan),null!==(e=null===(e=n.contentDiv)||void 0===e?void 0:e.parentNode)&&void 0!==e&&e.removeChild(n.contentDiv),null!==(e=null===(e=n.overlayDiv)||void 0===e?void 0:e.parentNode)&&void 0!==e&&e.removeChild(n.overlayDiv),n.overlayDiv=null,n.contentDiv=null,n.spinnerSpan=null,n.loadingMessageSpan=null},this.updateMessage=function(e){n._loadingMessage=e,n.updateOrCreateMessage(e)},this.updateOrCreateMessage=function(e){var t;if(n.overlayDiv)return e?void(n.loadingMessageSpan?n.loadingMessageSpan.innerText=e:((t=document.createElement("span")).innerText=e,t.classList.add("loading-message"),n.getOrCreateContentDiv(n.overlayDiv).appendChild(t),n.loadingMessageSpan=t)):(null!==(t=null===(t=n.loadingMessageSpan)||void 0===t?void 0:t.parentNode)&&void 0!==t&&t.removeChild(n.loadingMessageSpan),void(n.loadingMessageSpan=null))},this.getOrCreateContentDiv=function(e){if(n.contentDiv)return n.contentDiv;var t=document.createElement("div");return t.classList.add("loading-overlay-content"),n.contentDiv=t,e.appendChild(t),t},this.getOrCreateOverlayDiv=function(){if(n.overlayDiv)return n.overlayDiv;var e=document.getElementById(n.loadingOverlayElementId);if(e)return n.overlayDiv=e;e=document.createElement("div");return(n.overlayDiv=e).id=n.loadingOverlayElementId,e.classList.add("loading-overlay"),document.body.appendChild(e),e},this.getOrCreateSpinnerSpan=function(e){if(n.spinnerSpan)return n.spinnerSpan;var t=document.createElement("span");return t.classList.add("spinner","spinner-default"),e.appendChild(t),n.spinnerSpan=t}}var Xr=(Object.defineProperty(Vr.prototype,"loadingMessage",{get:function(){return this._loadingMessage},enumerable:!1,configurable:!0}),Vr),zr=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},Yr=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function qr(e){g.upsellUtil.expireUpsellCookie(),window.location.href=y.Endpoints.getAbsoluteUrl(e)}function Kr(){return zr(this,void 0,Promise,function(){var t;return Yr(this,function(e){switch(e.label){case 0:return t={url:""+y.EnvironmentUrls.apiGatewayUrl+n,withCredentials:!0},[4,R.httpService.get(t)];case 1:return[2,e.sent().data.vngShopRedirectUrl]}})})}function Zr(){(0,y.DeviceMeta)().isDesktop&&(0,y.DeviceMeta)().isUniversalApp?Kr().then(function(e){return window.open(e,"_self")}).catch(function(){return window.open(y.EnvironmentUrls.vngGamesShopUrl,"_self")}):Kr().then(function(e){return window.open(e,"_blank")}).catch(function(){return window.open(y.EnvironmentUrls.vngGamesShopUrl,"_blank")})}var Qr=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},$r=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Jr=function(){return(Jr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ea=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},ta=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function na(e,t){try{y.EventStream.SendEventWithTarget(C.EVENT_NAME,e,t,y.EventStream.TargetTypes.WWW)}catch(e){}}var ra=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},aa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function oa(e){k(),qr(e)}function ia(e){e&&(e.startsWith("/catalog/")||e.startsWith("/bundles/")||e.startsWith("/game-pass/")||e.startsWith(u))&&!e.includes("UpsellUuid=")||(g.upsellUtil.expireUpsellCookie(),window.location.href=y.Endpoints.getAbsoluteUrl("/catalog"))}function la(n,r){return ra(this,void 0,Promise,function(){var t;return aa(this,function(e){switch(e.label){case 0:if(!r)return[2,Promise.reject()];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,function(r){var a;return Qr(this,void 0,Promise,function(){var t,n;return $r(this,function(e){switch(e.label){case 0:t=l.replace("{productId}",r),t={url:""+y.EnvironmentUrls.economyApi+t,withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,R.httpService.get(t)];case 2:return 200!==(n=e.sent()).status||n.data.reason!==S?[2,Promise.reject(null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.reason)]:[2,Promise.resolve(n.data)];case 3:return n=e.sent(),[2,Promise.reject(n)];case 4:return[2]}})})}(r)];case 2:return(t=e.sent())&&0!==Object.keys(t).length?[2,t]:(V(I.AutoPurchasePotentialHackingActionSpotted3,M),na(C.CONTEXT_NAME.PRODUCT_INFO_EMPTY,{itemPath:n,productId:r}),[2,Promise.reject()]);case 3:return t=e.sent(),V(I.AutoPurchasePotentialHackingActionSpotted4,M),na(C.CONTEXT_NAME.PRODUCT_INFO_REQUEST_FAILED,{itemPath:n,productId:r,error:t}),[2,Promise.reject(t)];case 4:return[2]}})})}function ca(i,l,c){return ra(this,void 0,Promise,function(){var t,n,r,a,o;return aa(this,function(e){switch(e.label){case 0:(o=g.upsellUtil.parseUpsellCookie())&&0!==Object.keys(o).length&&(!o.targetItemUrl||i.startsWith(o.targetItemUrl))||(V(I.AutoPurchasePotentialHackingActionSpotted2,M),na(C.CONTEXT_NAME.COOKIE_PARSE_FAILED,{itemPath:i,upsellCookieData:o}),oa(i)),(t=l)||oa(i),e.label=1;case 1:return e.trys.push([1,3,,4]),r=o.collectibleItemId?null==c?void 0:c.productId:o.productId,[4,la(i,r)];case 2:return n=e.sent(),[3,4];case 3:return a=e.sent(),na(C.CONTEXT_NAME.PRODUCT_ID_NOT_EXIST,{itemPath:i,upsellCookieData:o,error:a}),oa(i),[2,Promise.reject()];case 4:return[4,function(r,a){return ea(this,void 0,Promise,function(){var t,n;return ta(this,function(e){switch(e.label){case 0:n=a===A.GAME_PASS?(t=x.GAME_PASS,{gamePassIds:r}):a===A.BUNDLE?(t=x.BUNDLE,{bundleIds:r}):(t=x.ASSET,{assetIds:r}),n=Jr(Jr({},n),T),t={url:""+y.EnvironmentUrls.thumbnailsApi+t,withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,R.httpService.get(t,n)];case 2:return t=e.sent(),n=t.data.data[0],200===t.status&&n?[2,Promise.resolve(n.imageUrl)]:[2,Promise.resolve(null)];case 3:return e.sent(),[2,Promise.resolve(null)];case 4:return[2]}})})}(n.assetId,n.assetType)];case 5:return a=e.sent(),t.imageurl=a||t.imageurl,o={expectedPrice:o.expectedPrice||"0",expectedCurrency:o.expectedCurrency||"1",expectedSellerId:o.expectedSellerId||"",itemId:n.assetId||(null==c?void 0:c.itemId),itemName:n.assetName||(null==c?void 0:c.itemName),assetType:n.assetType||(null==c?void 0:c.assetType),assetGranted:null==c?void 0:c.assetGranted,assetTypeDisplayName:n.assetTypeDisplayName||(null==c?void 0:c.assetTypeDisplayName),assetTypeId:null==c?void 0:c.assetTypeId,productId:n.productId||o.productId||(null==c?void 0:c.productId),itemType:n.assetType||(null==c?void 0:c.itemType),currentTime:null==c?void 0:c.currentTime,isPurchaseEnabled:null==c?void 0:c.isPurchaseEnabled,placeproductpromotionId:null==c?void 0:c.placeproductpromotionId,userassetId:o.userAssetId||(null==c?void 0:c.userassetId),collectibleItemId:o.collectibleItemId||(null==c?void 0:c.collectibleItemId),collectibleItemInstanceId:o.collectibleItemInstanceId||(null==c?void 0:c.collectibleItemInstanceId),collectibleProductId:o.collectibleProductId||(null==c?void 0:c.collectibleProductId)},[2,[t,o]]}})})}function sa(n,e,t,r){var a="<span>"+t.get(_.purchaseSucceededRobuxBalanceMessage,{userRobuxBalance:F(e)})+"</span>",e="<div class='item-content'>\n        <div class='item-card-container item-preview'>\n          <div class='item-card-thumb'>\n            <img alt='item preview' src='"+n.itemThumbnailUrl+"'/>\n          </div>\n        </div>\n        <div class='text-center'>\n          "+t.get(_.purchaseSucceededMessage,{assetName:n.assetName})+"\n          "+a+"\n        </div>\n      </div>",a=n.assetType!==A.GAME_PASS?t.get(_.equipMyAvatarAction,{}):t.get(_.okAction,{});y.Dialog.open({titleText:t.get(_.purchaseSucceededHeading,{}),bodyContent:e,declineText:t.get(_.backToShopAction,{}),acceptText:a,acceptColor:"btn-primary-md",onAccept:function(){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.SUCCESS,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.OK,{item_type:n.assetType,item_id:n.productId},!0),V(I.AutoPurchaseSucceedEquipMyAvatar,n.assetType);var e,t=n.itemPath;return y.Endpoints&&y.Endpoints.supportLocalizedUrls&&(t=y.Endpoints.removeUrlLocale(t)),n.assetType!==A.GAME_PASS?void 0!==(e=y.Endpoints.getAbsoluteUrl("/my/avatar"))&&""!==e&&(g.upsellUtil.expireUpsellCookie(),window.location.href=e):t.startsWith(u)?qr(n.itemPath+"?#!/store"):qr(n.itemPath),!1},onDecline:function(){return r.show(),g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.SUCCESS,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL,{item_type:n.assetType,item_id:n.productId},!0),V(I.AutoPurchaseSucceedBackToShop,n.assetType),qr(n.itemPath),!1},onCancel:function(){return r.show(),g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.SUCCESS,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL,{item_type:n.assetType,item_id:n.productId},!0),V(I.AutoPurchaseSucceedClose,n.assetType),qr(n.itemPath),!1},allowHtmlContentInBody:!0,allowHtmlContentInFooter:!1,fieldValidationRequired:!0,showDecline:n.assetType!==A.GAME_PASS,dismissable:!1,xToCancel:!0})}function ua(e,t){y.Dialog.open({titleText:t.get(_.errorOccuredHeading,{}),bodyContent:t.get(_.purchaseErrorOccuredMessage,{}),imageUrl:e.alertImageUrl,acceptText:t.get(_.okAction,{}),acceptColor:"btn-secondary-md",declineColor:"btn-none",dismissable:!0,allowHtmlContentInBody:!0})}var da=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},fa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function pa(u,d,f,p){var m;return da(this,void 0,Promise,function(){var a,o,i,l,c,s;return fa(this,function(e){switch(e.label){case 0:a={url:u,withCredentials:!0,retryable:!1,noCache:!0,noPragma:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),o={expectedCurrency:d.expectedCurrency,expectedPrice:d.expectedPrice,expectedSellerId:d.expectedSellerId,expectedPromoId:d.expectedPromoId,userAssetId:d.userAssetId,collectibleItemId:null===(m=d.itemDetail)||void 0===m?void 0:m.collectibleItemId,collectibleProductId:null===(m=d.itemDetail)||void 0===m?void 0:m.collectibleProductId,expectedPurchaserId:y.CurrentUser.userId,expectedPurchaserType:"User",idempotencyKey:R.uuidService.generateRandomUuid()},[4,R.httpService.post(a,o)];case 2:return(o=e.sent(),500===(o=o.data).statusCode)?(V(I.AutoPurchaseErrorFromPurchaseApi,d.assetType),void 0===o.showDivID&&(o.showDivID=o.showDivId),void 0===o.AssetID&&(o.AssetID=o.assetId),f.hide(),(0,y.ItemPurchase)().openErrorView(o),k(),[2,Promise.resolve()]):(d.isLibrary&&y.EventStream&&y.UrlParser&&(t=o.assetId,n=y.CurrentUser&&y.CurrentUser.userId,r=y.UrlParser.getParametersAsObject(),i={assetId:t,category:r.Category,creatorId:r.CreatorId,genre:r.GenreCsv,page:r.Page,position:r.Position,searchKeyword:r.SearchKeyword,sortAggregation:r.SortAggregation,sortType:r.SortType,userId:n,searchId:r.SearchId},y.EventStream.SendEventWithTarget("LibraryAssetAcquired","Marketplace",i,y.EventStream.TargetTypes.WWW)),V(I.AutoPurchaseSucceed,d.assetType),f.hide(),l=d.userBalance-d.expectedPrice,sa(d,l,p,f),[2,Promise.resolve()]);case 3:if(i=e.sent(),f.hide(),V(I.AutoPurchaseFailed,d.assetType),"object"!=typeof(l=i)||!("responseText"in l.request))return[2,Promise.reject(l.request)];if("Bad Request"===(c=l.request).responseText)ua(d,p);else try{s=JSON.parse(c.responseText||""),(0,y.ItemPurchase)().openErrorView(s),k()}catch(e){return[2,Promise.reject(e)]}return[2,Promise.reject(i)];case 4:return[2]}var t,n,r})})}function ma(a,o,i,l){var c;return void 0===o&&(o=void 0),da(this,void 0,Promise,function(){var t,n,r;return fa(this,function(e){return null!==(c=a.itemContainerElemClassList)&&void 0!==c&&c.contains("btn-disabled-primary")?[2,Promise.resolve()]:(t=""+y.EnvironmentUrls.apiGatewayUrl+f.replace("{productId}",a.productId),n=""+y.EnvironmentUrls.economyApi+p.replace("{productId}",a.productId),null!==(c=a.itemDetail)&&void 0!==c&&c.collectibleItemId&&(r=a.itemDetail.collectibleItemInstanceId?h:v,r=""+y.EnvironmentUrls.apiGatewayUrl+r.replace("{collectibleItemId}",a.itemDetail.collectibleItemId)),o?[2,o({productId:a.productId,expectedPrice:a.expectedPrice,expectedCurrency:a.expectedCurrency,expectedPromoId:null===(c=a.expectedPromoId)||void 0===c?void 0:c.toString(),expectedSellerId:a.expectedSellerId,userAssetId:null===(c=a.userAssetId)||void 0===c?void 0:c.toString()})]:(V(I.AutoPurchaseStarted,a.assetType),a.assetType===A.GAME_PASS?[2,pa(t,a,i,l)]:r?[2,pa(r,a,i,l)]:[2,pa(n,a,i,l)]))})})}var va=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},ha=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ya=function(e){e=document.querySelector('.PurchaseButton[data-product-id="'+e.productId+'"]'),e=null==e?void 0:e.closest(".store-card"),e=null==e?void 0:e.querySelector(".gear-passes-asset img");return e?e.src:null},ga=function(e,t,n){if(void 0===n&&(n=window.location.pathname),n.includes(u)){if(!t)throw new Error("button data not exist");V(I.UpsellFromGamesPage,t.assetType);n=ya(t);if(!n)throw V(I.UpsellThumbnailProcessFailed,t.assetType),new Error("thumbnail image url process failed");return n}return e.imageurl},ba=HeaderScripts;function Ea(e,t,n,r,a){void 0===a&&(a=!1);var o=F(e),i=parseInt(n.expectedPrice,10),l=F(i),e=window.location.pathname;y.Endpoints&&y.Endpoints.supportLocalizedUrls&&(e=y.Endpoints.removeUrlLocale(e));e.startsWith(u)&&(t=null!==(e=ya(n))&&void 0!==e?e:t);o="<div class='item-card-container item-preview'>\n        <div class='item-card-thumb'>\n          <img alt='item preview' src='"+t+"' />\n        </div>\n        <div class='item-info text-name'>\n        <div class='text-overflow item-card-name'>"+(0,R.escapeHtml)()(n.itemName)+"</div>\n          <div class='text-robux item-card-price'>"+l+"</div>\n        </div>\n      </div>"+r.get(_.insufficientRobuxExceedLargestPackageMessage,{divTagStart:"<div class='modal-message-block text-center border-top'>",divTagEnd:"</div>",robuxNeeded:o});function c(){var e,t;return g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL_EXCEED_LARGEST_PACKAGE,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GO_TO_ROBUX_STORE),V(I.UpsellExceedLargestGoToRobuxStoreClicked,null==n?void 0:n.assetType),e=null!==(t=null===(e=ba.deviceMeta.getDeviceMeta())||void 0===e?void 0:e.isTablet)&&void 0!==t&&t,t=null!==(t=null===(t=ba.deviceMeta.getDeviceMeta())||void 0===t?void 0:t.isUniversalApp)&&void 0!==t&&t,window.location.href=e&&t?R.urlService.getUrlWithQueries("/Upgrades/Robux.aspx",{ctx:""}):y.Endpoints.getAbsoluteUrl("/upgrades/robux?ctx=upsell"),!1}function s(){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL_EXCEED_LARGEST_PACKAGE,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL),V(I.UpsellCancelled,null==n?void 0:n.assetType)}g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL_EXCEED_LARGEST_PACKAGE,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN),V(I.UpsellExceedLargestShown,n.assetType),a?kr({variant:"tooExpensive",expectedPrice:i,assetName:n.itemName,thumbnail:Gr({thumbnailImageUrl:null!=t?t:""}),onAccept:c,onCancel:s}):y.Dialog.open({titleText:r.get(_.insufficientRobuxHeading,{}),bodyContent:o,declineText:r.get(_.cancelAction,{}),acceptText:r.get(_.goToRobuxStoreAction,{}),acceptColor:"btn-primary-md",onAccept:c,onDecline:function(){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL_EXCEED_LARGEST_PACKAGE,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL),V(I.UpsellExceedLargestCancelled,null==n?void 0:n.assetType)},onCancel:s,allowHtmlContentInBody:!0,allowHtmlContentInFooter:!1,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0})}var wa=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},Sa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Pa=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},Aa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function xa(i,l,c){return Pa(this,void 0,void 0,function(){return Aa(this,function(e){try{return g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.EXTERNAL_LINK_MODAL),V(I.ContinueBuyRobuxOnExternalSite,null==c?void 0:c.assetType),t=i,r=c,a=(n=l).getTranslationResource(d),o=n.getTranslationResource(s),n={lineBreak:n="<br /><br />",linebreak:n},n=a.get(_.insufficientRobuxAskToPurchasePackageMessage,n)||"This purchase must be completed on our partners website. You will be returned to Roblox after the purchase is completed.<br /><br /> Proceed to partner website for payment?",y.Dialog.open({titleText:a.get(_.insufficientRobuxLeaveRobloxHeading,{})||"Leaving Roblox",bodyContent:"<div class='modal-message-block text-center'>"+n+"</div>",declineText:o.get(_.commonUiCancelAction,{}),acceptText:o.get(_.commonUiContinueToPaymentAction,{})||"Continue to Payment",onAccept:function(){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CONTINUE_TO_VNG),V(I.ConfirmLeaveRobloxModal,null==r?void 0:r.assetType),t()},onDecline:function(){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL),V(I.CancelledFromLeaveRobloxModal,null==r?void 0:r.assetType)},onCancel:function(){g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL),V(I.CancelledFromLeaveRobloxModal,null==r?void 0:r.assetType)},allowHtmlContentInBody:!0,allowHtmlContentInFooter:!1,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0}),[2,Promise.resolve()]}catch(e){return[2,Promise.reject(e)]}var t,n,r,a,o;return[2]})})}var Ta=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((c=c.apply(e,i||[])).next())})},_a=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Ua(){var t=this;this._state={purchased:!1,retryRemainTimes:5,timeoutHandle:null},this._checkBalanceAndPurchase=function(r,a){return Ta(t,void 0,Promise,function(){var t,n=this;return _a(this,function(e){switch(e.label){case 0:if(this._state.purchased)return[2,Promise.resolve()];e.label=1;case 1:return e.trys.push([1,5,,6]),t=this.translationResource.get(_.waitingForRobuxLabel,{}),this.loadingOverlay.updateMessage(t),[4,function(){return va(this,void 0,Promise,function(){var t,n;return ha(this,function(e){switch(e.label){case 0:t=y.CurrentUser.userId,t={url:""+y.EnvironmentUrls.economyApi+i.replace("{userId}",t),withCredentials:!0,retryable:!1,noCache:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,R.httpService.get(t)];case 2:return 200===(n=e.sent()).status?[2,n.data.robux]:[2,Promise.reject()];case 3:return n=e.sent(),[2,Promise.reject(n)];case 4:return[2]}})})}()];case 2:return t=e.sent(),(r.userBalance=t)>=r.expectedPrice?[4,ma(r,a,this.loadingOverlay,this.translationResource)]:[3,4];case 3:e.sent(),this._stopPeriodicChecking(),this._state.purchased=!0,e.label=4;case 4:return this._state.purchased||(0<this._state.retryRemainTimes?(this._state.timeoutHandle=setTimeout(function(){return Ta(n,void 0,void 0,function(){return _a(this,function(e){switch(e.label){case 0:return[4,this._checkBalanceAndPurchase(r,a)];case 1:return e.sent(),[2]}})})},1e3),--this._state.retryRemainTimes):(V(I.AutoPurchaseFailedDueToStillLowBalance,null==r?void 0:r.assetType),this._processGenericErrorState(r))),[3,6];case 5:return e.sent(),V(I.AutoPurchaseFailed,null==r?void 0:r.assetType),this._processGenericErrorState(r),[3,6];case 6:return[2,Promise.resolve()]}})})},this._stopPeriodicChecking=function(){t._state.timeoutHandle&&(clearTimeout(t._state.timeoutHandle),t._state.timeoutHandle=null)},this._processGenericErrorState=function(e){t.loadingOverlay.hide(),ua(e,t.translationResource),k()},this.intl=new y.Intl,this.intlProvider=new y.TranslationResourceProvider(this.intl),this.translationResource=this.intlProvider.getTranslationResource(w),this.loadingOverlay=new Xr}Ua.prototype.startItemUpsellProcess=function(s,u,d,f,p){var e,m,v,h;return void 0===f&&(f=null===(e=document.getElementById(b))||void 0===e?void 0:e.dataset),void 0===p&&(p=!1),Ta(this,void 0,Promise,function(){var i,l,c;return _a(this,function(e){switch(e.label){case 0:if(!(i=f)||u.isLimited||"Product"===(null===(m=null==u?void 0:u.buyButtonElementDataset)||void 0===m?void 0:m.assetType))return d(s),[2,Promise.reject(s)];if(l=g.upsellUtil.constants.UPSELL_TARGET_ITEM_URL_REGEX.exec(window.location.pathname),g.upsellUtil.constants.UPSELL_TARGET_ITEM_URL_REGEX.lastIndex=0,!Array.isArray(l))return[3,5];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,function(){return wa(this,void 0,Promise,function(){var t;return Sa(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,y.Guac.callBehaviour("vng-buy-robux")];case 1:return t=e.sent(),[2,Promise.resolve(t.shouldShowVng)];case 2:return t=e.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}()];case 2:return e.sent()?(g.paymentFlowAnalyticsService.startRobuxUpsellFlow(null!==(m=null===(m=u.buyButtonElementDataset)||void 0===m?void 0:m.assetType)&&void 0!==m?m:"",!(null===(m=u.buyButtonElementDataset)||void 0===m||!m.userassetId),null!==(m=null===(m=u.buyButtonElementDataset)||void 0===m?void 0:m.isPrivateServer)&&void 0!==m&&m,null!==(m=null===(m=u.buyButtonElementDataset)||void 0===m?void 0:m.isPlace)&&void 0!==m&&m,null===(m=u.buyButtonElementDataset)||void 0===m?void 0:m.productId),i.thumbnailImageUrl=ga(i,u.buyButtonElementDataset),t=u,n=i,r=this.translationResource,a=this.intlProvider,o=F(t.expectedItemPrice),n="<div class='item-card-container item-preview'>\n        <div class='item-card-thumb'>\n          <img alt='item preview' src='"+(null!==(n=n.thumbnailImageUrl)&&void 0!==n?n:"")+"' />\n        </div>\n        <div class='item-info text-name'>\n        <div class='text-overflow item-card-name'>"+(0,R.escapeHtml)()(t.assetName)+"</div>\n          <div class='text-robux item-card-price'>"+o+"</div>\n        </div>\n      </div>",V(I.UpsellShown,null===(o=t.buyButtonElementDataset)||void 0===o?void 0:o.assetType),g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN),o=n+(r.get(_.insufficientRobuxAskToPurchasePackageMessage,{})||"<div class='modal-message-block text-center border-top'>Sorry, you don't have enough Robux to buy this item. Would you like to purchase a Robux package?</div>"),n=r.get(_.insufficientRobuxRedirectToExternalPartner,{})||"<div class='text-footer modal-message-block text-center'> You will be taken to our partners page to complete the purchase.</div>",y.Dialog.open({titleText:r.get(_.insufficientRobuxHeading,{})||"Insufficient Robux",bodyContent:o,declineText:r.get(_.cancelAction,{}),acceptText:r.get(_.buyRobux,{})||"Buy Robux",onAccept:function(){return g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX),xa(Zr,a,t.buyButtonElementDataset).catch(function(){var e;V(I.LeaveRobloxFailedToShown,null===(e=t.buyButtonElementDataset)||void 0===e?void 0:e.assetType),Zr()}),!1},onDecline:function(){var e;g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL),V(I.UpsellCancelled,null===(e=t.buyButtonElementDataset)||void 0===e?void 0:e.assetType)},onCancel:function(){var e;g.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(g.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,g.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,g.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,g.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL),V(I.UpsellCancelled,null===(e=t.buyButtonElementDataset)||void 0===e?void 0:e.assetType)},allowHtmlContentInBody:!0,allowHtmlContentInFooter:!0,footerText:n,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0}),[2,Promise.resolve()]):[4,function(r,a){return O(this,void 0,Promise,function(){var t,n;return L(this,function(e){switch(e.label){case 0:t=parseInt(r.userBalanceRobux,10),n={upsell_platform:"WEB",user_robux_balance:t,attempt_robux_amount:a.expectedItemPrice},t={url:y.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/products/get-upsell-product",withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,R.httpService.post(t,n)];case 2:return[2,e.sent()];case 3:return n=e.sent(),[2,Promise.reject(n)];case 4:return[2]}})})}(i,u)];case 3:return 200===(c=e.sent()).status?(g.paymentFlowAnalyticsService.startRobuxUpsellFlow(null!==(v=null===(v=u.buyButtonElementDataset)||void 0===v?void 0:v.assetType)&&void 0!==v?v:"",!(null===(v=u.buyButtonElementDataset)||void 0===v||!v.userassetId),null!==(v=null===(v=u.buyButtonElementDataset)||void 0===v?void 0:v.isPrivateServer)&&void 0!==v&&v,null!==(v=null===(v=u.buyButtonElementDataset)||void 0===v?void 0:v.isPlace)&&void 0!==v&&v,null===(v=u.buyButtonElementDataset)||void 0===v?void 0:v.productId),i.thumbnailImageUrl=ga(i,u.buyButtonElementDataset),Hr(s,u,i,c.data,this.intl,this.intlProvider.getTranslationResource(w),this.intlProvider,p),[2,Promise.resolve()]):(204===c.status?V(I.UpsellFailedDueToNoAvailablePackage,null===(v=u.buyButtonElementDataset)||void 0===v?void 0:v.assetType):V(I.UpsellFailedDueToFailedPackageRequest,null===(h=u.buyButtonElementDataset)||void 0===h?void 0:h.assetType),[3,5]);case 4:return c=e.sent(),V(I.UpsellFailed,null===(h=u.buyButtonElementDataset)||void 0===h?void 0:h.assetType),d(s),[2,Promise.reject(c)];case 5:return d(s),[2,Promise.reject(s)]}var t,n,r,a,o})})},Ua.prototype.showExceedLargestInsufficientRobuxModal=function(e,t,n,r,a){var o,i;void 0===r&&(r=null===(o=document.getElementById(b))||void 0===o?void 0:o.dataset),void 0===a&&(a=!1),V(I.UpsellExceedLargestEntryPoint,null==t?void 0:t.assetType);var l=r;if(null==l||!l.imageurl)return V(I.UpsellExceedLargestNoThumbnailImage,null==t?void 0:t.assetType),void n();try{g.paymentFlowAnalyticsService.startRobuxUpsellFlow(null!==(i=null==t?void 0:t.assetType)&&void 0!==i?i:"",!(null==t||!t.userassetId),null!==(i=null==t?void 0:t.isPrivateServer)&&void 0!==i&&i,null!==(i=null==t?void 0:t.isPlace)&&void 0!==i&&i,null==t?void 0:t.productId),Ea(e,l.imageurl,t,this.intlProvider.getTranslationResource(w),a),V(I.UpsellExceedLargestModalExpTrue,null==t?void 0:t.assetType)}catch(e){V(I.UpsellExceedLargestModalExpError,null==t?void 0:t.assetType),n()}},Ua.prototype.initiateAutoPurchase=function(o,i,l,c){var s;return void 0===l&&(l=document.getElementById(b)),void 0===c&&(c=document.getElementById("item-container")),Ta(this,void 0,Promise,function(){var t,n,r,a;return _a(this,function(e){switch(e.label){case 0:return this._state={purchased:!1,retryRemainTimes:5,timeoutHandle:null},this.loadingOverlay.show(),V(I.AutoPurchaseEntryPoint,M),ia(o),[4,function(s,u,d,f){return ra(this,void 0,Promise,function(){var t,n,r,a,o,i,l,c;return aa(this,function(e){switch(e.label){case 0:return[4,ca(f,d,u)];case 1:return i=e.sent(),c=i[0],t=i[1],n=t.placeproductpromotionId,l=y.MetaDataValues&&y.MetaDataValues.getPageName()||"",r="LibraryItem"===l,a=parseInt(c.userBalanceRobux,10),o=parseInt(t.expectedCurrency,10),i=parseInt(t.expectedPrice,10),l=parseInt(t.expectedSellerId,10),c={itemContainerElemClassList:null==s?void 0:s.classList,assetType:t.assetType,assetName:(0,R.escapeHtml)()(t.itemName),expectedSellerId:l,expectedCurrency:o,expectedPrice:i,productId:t.productId,isLibrary:r,itemThumbnailUrl:c.imageurl,itemPath:f,alertImageUrl:c.alerturl,userBalance:a,itemPurchaseAjaxData:c,itemDetail:t},n&&(c.expectedPromoId=parseInt(n,10)),t.userassetId&&(c.userAssetId=parseInt(t.userassetId,10)),[2,c]}})})}(c,null==c?void 0:c.dataset,null==l?void 0:l.dataset,o)];case 1:t=e.sent(),a=this.translationResource.get(_.purchasingTheItemLabel,{}),n=t.userBalance,r=t.expectedPrice,e.label=2;case 2:return(e.trys.push([2,6,,7]),o.startsWith(u)&&null!==(s=document.getElementById("tab-store"))&&void 0!==s&&s.click(),r<n)?(this.loadingOverlay.updateMessage(a),[4,ma(t,i,this.loadingOverlay,this.translationResource)]):[3,4];case 3:return e.sent(),this._state.purchased=!0,[2,Promise.resolve()];case 4:return[4,this._checkBalanceAndPurchase(t,i)];case 5:return e.sent(),[3,7];case 6:return a=e.sent(),V(I.AutoPurchaseFailed,null==t?void 0:t.assetType),na(C.CONTEXT_NAME.UPSELL_FAILED,{itemPurchaseObj:t,error:a}),k(),[3,7];case 7:return[2,Promise.resolve()]}})})},An=Ua,void 0===window.Roblox&&(window.Roblox={}),void 0===window.Roblox.ItemPurchaseUpsellService&&(window.Roblox.ItemPurchaseUpsellService=new An)}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/5ece720901bc4f45c5b8f10c9ef68f7c-itemPurchaseUpsell.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("ItemPurchaseUpsell");