/*! For license information please see accessManagementUpsellV2.bundle.min.js.LICENSE.txt */
!function(){var e={779:function(e,t,n){"use strict";var r=n(594);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return l((function(){o.value=n,o.getSnapshot=t,u(o)&&s({inst:o})}),[e,n,t]),i((function(){return u(o)&&s({inst:o}),e((function(){u(o)&&s({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},320:function(e,t,n){"use strict";var r=n(594),o=n(676);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,l=r.useRef,c=r.useEffect,u=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,l=n)}var i,l,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,o]);var p=i(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=p}),[p]),s(p),p}},676:function(e,t,n){"use strict";e.exports=n(779)},390:function(e,t,n){"use strict";e.exports=n(320)},56:function(e,t,n){"use strict";var r=n(922),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?i:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var u=Object.defineProperty,s=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var i=s(n);d&&(i=i.concat(d(n)));for(var l=c(t),y=c(n),v=0;v<i.length;++v){var h=i[v];if(!(a[h]||r&&r[h]||y&&y[h]||l&&l[h])){var b=f(n,h);try{u(t,h,b)}catch(e){}}}}return t}},326:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,S=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function w(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case i:case c:case l:case m:return e;default:switch(e=e&&e.$$typeof){case s:case p:case h:case v:case u:return e;default:return t}}case a:return t}}}function C(e){return w(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=s,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=h,t.Memo=v,t.Portal=a,t.Profiler=c,t.StrictMode=l,t.Suspense=m,t.isAsyncMode=function(e){return C(e)||w(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return w(e)===s},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===h},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===l},t.isSuspense=function(e){return w(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===c||e===l||e===m||e===y||"object"===n(e)&&null!==e&&(e.$$typeof===h||e.$$typeof===v||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p||e.$$typeof===g||e.$$typeof===S||e.$$typeof===E||e.$$typeof===b)},t.typeOf=w},922:function(e,t,n){"use strict";e.exports=n(326)},157:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r,o=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function b(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case i:case c:case l:case p:case m:return e;default:switch(e=e&&e.$$typeof){case d:case s:case f:case v:case y:case u:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference")},625:function(e,t,n){"use strict";n(157)},373:function(e,t,n){var r,o,a,i;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}e=n.nmd(e),self,i=function(){return function(){var e={913:function(e,t,n){"use strict";var r=n(651),o=n(601),a=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?o(n):n}},601:function(e,t,n){"use strict";var r=n(49),o=n(651),a=n(255),i=n(785),l=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(c,l),s=n(649),d=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var t=u(r,c,arguments);return a(t,1+d(0,e.length-(arguments.length-1)),!0)};var f=function(){return u(r,l,arguments)};s?s(e.exports,"apply",{value:f}):e.exports.apply=f},295:function(e,t,n){"use strict";var r=n(649),o=n(389),a=n(785),i=n(109);e.exports=function(e,t,n){if(!e||"object"!=l(e)&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=l(t))throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],f=!!i&&i(e,t);if(r)r(e,t,{configurable:null===s&&f?f.configurable:!s,enumerable:null===c&&f?f.enumerable:!c,value:n,writable:null===u&&f?f.writable:!u});else{if(!d&&(c||u||s))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},649:function(e,t,n){"use strict";var r=n(651)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},55:function(e){"use strict";e.exports=EvalError},293:function(e){"use strict";e.exports=Error},888:function(e){"use strict";e.exports=RangeError},900:function(e){"use strict";e.exports=ReferenceError},389:function(e){"use strict";e.exports=SyntaxError},785:function(e){"use strict";e.exports=TypeError},436:function(e){"use strict";e.exports=URIError},719:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),l=n(0,o.length-i.length),c=[],u=0;u<l;u++)c[u]="$"+u;if(a=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var s=function(){};s.prototype=o.prototype,a.prototype=new s,s.prototype=null}return a}},49:function(e,t,n){"use strict";var r=n(719);e.exports=Function.prototype.bind||r},651:function(e,t,n){"use strict";var r,o=n(293),a=n(55),i=n(888),c=n(900),u=n(389),s=n(785),d=n(436),f=Function,p=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(e){m=null}var y=function(){throw new s},v=m?function(){try{return y}catch(e){try{return m(arguments,"callee").get}catch(e){return y}}}():y,h=n(257)(),b=n(726)(),g=Object.getPrototypeOf||(b?function(e){return e.__proto__}:null),S={},E="undefined"!=typeof Uint8Array&&g?g(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h&&g?g([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":S,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&g?g(g([][Symbol.iterator]())):r,"%JSON%":"object"==("undefined"==typeof JSON?"undefined":l(JSON))?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&g?g((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":i,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&g?g((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&g?g(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":v,"%TypedArray%":E,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(g)try{null.error}catch(e){var C=g(g(e));w["%Error.prototype%"]=C}var k=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&g&&(n=g(o.prototype))}return w[t]=n,n},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(49),P=n(215),I=A.call(Function.call,Array.prototype.concat),T=A.call(Function.apply,Array.prototype.splice),N=A.call(Function.call,String.prototype.replace),D=A.call(Function.call,String.prototype.slice),O=A.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,V=function(e,t){var n,r=e;if(P(x,r)&&(r="%"+(n=x[r])[0]+"%"),P(w,r)){var o=w[r];if(o===S&&(o=k(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=D(e,0,1),n=D(e,-1);if("%"===t&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return N(e,M,(function(e,t,n,o){r[r.length]=n?N(o,U,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=V("%"+r+"%",t),a=o.name,i=o.value,l=!1,c=o.alias;c&&(r=c[0],T(n,I([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],y=D(p,0,1),v=D(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new u("property names with quotes must have matching quotes");if("constructor"!==p&&f||(l=!0),P(w,a="%"+(r+="."+p)+"%"))i=w[a];else if(null!=i){if(!(p in i)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(m&&d+1>=n.length){var h=m(i,p);i=(f=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:i[p]}else f=P(i,p),i=i[p];f&&!l&&(w[a]=i)}}return i}},109:function(e,t,n){"use strict";var r=n(651)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},890:function(e,t,n){"use strict";var r=n(649),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},726:function(e){"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},257:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(843);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==l(r("foo"))&&"symbol"==l(Symbol("bar"))&&o()}},843:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==l(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},215:function(e,t,n){"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,a=n(49);e.exports=a.call(r,o)},709:function(e,t,n){var r,o=1/0,a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c="\\ud800-\\udfff",u="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",d="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="["+f+"]",m="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",y="\\d+",v="["+u+"]",h="["+s+"]",b="[^"+c+f+y+u+s+d+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",E="["+d+"]",w="(?:"+h+"|"+b+")",C="(?:"+E+"|"+b+")",k="(?:['’](?:d|ll|m|re|s|t|ve))?",x="(?:['’](?:D|LL|M|RE|S|T|VE))?",A="(?:"+m+"|\\ud83c[\\udffb-\\udfff])?",P="[\\ufe0e\\ufe0f]?",I=P+A+"(?:\\u200d(?:"+["[^"+c+"]",g,S].join("|")+")"+P+A+")*",T="(?:"+[v,g,S].join("|")+")"+I,N=RegExp("['’]","g"),D=RegExp(m,"g"),O=RegExp([E+"?"+h+"+"+k+"(?="+[p,E,"$"].join("|")+")",C+"+"+x+"(?="+[p,E+w,"$"].join("|")+")",E+"?"+w+"+"+k,E+"+"+x,y,T].join("|"),"g"),M=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U="object"==l(n.g)&&n.g&&n.g.Object===Object&&n.g,V="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,j=U||V||Function("return this")(),R=(r={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==r?void 0:r[e]}),F=Object.prototype.toString,L=j.Symbol,B=L?L.prototype:void 0,_=B?B.toString:void 0;function W(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==l(e)||function(e){return!!e&&"object"==l(e)}(e)&&"[object Symbol]"==F.call(e)}(e))return _?_.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}var q,H=(q=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)n=t(n,e[r],r,e);return n}(function(e){return function(e){return M.test(e)}(e=W(e))?function(e){return e.match(O)||[]}(e):function(e){return e.match(a)||[]}(e)}(function(e){return(e=W(e))&&e.replace(i,R).replace(D,"")}(e).replace(N,"")),q,"")});e.exports=H},937:function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&o&&"function"==typeof o.get?o.get:null,i=r&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=c&&u&&"function"==typeof u.get?u.get:null,d=c&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,v=Object.prototype.toString,h=Function.prototype.toString,b=String.prototype.match,g=String.prototype.slice,S=String.prototype.replace,E=String.prototype.toUpperCase,w=String.prototype.toLowerCase,C=RegExp.prototype.test,k=Array.prototype.concat,x=Array.prototype.join,A=Array.prototype.slice,P=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,N="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==l(Symbol.iterator),O="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,U=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function V(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||C.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-P(-e):P(e);if(r!==e){var o=String(r),a=g.call(t,o.length+1);return S.call(o,n,"$&_")+"."+S.call(S.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return S.call(t,n,"$&_")}var j=n(634),R=j.custom,F=q(R)?R:null;function L(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function B(e){return S.call(String(e),/"/g,"&quot;")}function _(e){return!("[object Array]"!==K(e)||O&&"object"==l(e)&&O in e)}function W(e){return!("[object RegExp]"!==K(e)||O&&"object"==l(e)&&O in e)}function q(e){if(D)return e&&"object"==l(e)&&e instanceof Symbol;if("symbol"==l(e))return!0;if(!e||"object"!=l(e)||!N)return!1;try{return N.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,o,c){var u=r||{};if(z(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=!z(u,"customInspect")||u.customInspect;if("boolean"!=typeof v&&"symbol"!==v)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var E=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var C=String(t);return E?V(t,C):C}if("bigint"==typeof t){var P=String(t)+"n";return E?V(t,P):P}var T=void 0===u.depth?5:u.depth;if(void 0===o&&(o=0),o>=T&&T>0&&"object"==l(t))return _(t)?"[Array]":"[Object]";var R,H=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=x.call(Array(e.indent+1)," ")}return{base:n,prev:x.call(Array(t+1),n)}}(u,o);if(void 0===c)c=[];else if(G(c,t)>=0)return"[Circular]";function Y(t,n,r){if(n&&(c=A.call(c)).push(n),r){var a={depth:u.depth};return z(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),e(t,a,o+1,c)}return e(t,u,o+1,c)}if("function"==typeof t&&!W(t)){var te=function(e){if(e.name)return e.name;var t=b.call(h.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ne=ee(t,Y);return"[Function"+(te?": "+te:" (anonymous)")+"]"+(ne.length>0?" { "+x.call(ne,", ")+" }":"")}if(q(t)){var re=D?S.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(t);return"object"!=l(t)||D?re:J(re)}if((R=t)&&"object"==l(R)&&("undefined"!=typeof HTMLElement&&R instanceof HTMLElement||"string"==typeof R.nodeName&&"function"==typeof R.getAttribute)){for(var oe="<"+w.call(String(t.nodeName)),ae=t.attributes||[],ie=0;ie<ae.length;ie++)oe+=" "+ae[ie].name+"="+L(B(ae[ie].value),"double",u);return oe+=">",t.childNodes&&t.childNodes.length&&(oe+="..."),oe+"</"+w.call(String(t.nodeName))+">"}if(_(t)){if(0===t.length)return"[]";var le=ee(t,Y);return H&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(le)?"["+Z(le,H)+"]":"[ "+x.call(le,", ")+" ]"}if(function(e){return!("[object Error]"!==K(e)||O&&"object"==l(e)&&O in e)}(t)){var ce=ee(t,Y);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===ce.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(ce,", ")+" }":"{ ["+String(t)+"] "+x.call(k.call("[cause]: "+Y(t.cause),ce),", ")+" }"}if("object"==l(t)&&v){if(F&&"function"==typeof t[F]&&j)return j(t,{depth:T-o});if("symbol"!==v&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!=l(e))return!1;try{a.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ue=[];return i&&i.call(t,(function(e,n){ue.push(Y(n,t,!0)+" => "+Y(e,t))})),Q("Map",a.call(t),ue,H)}if(function(e){if(!s||!e||"object"!=l(e))return!1;try{s.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return d&&d.call(t,(function(e){se.push(Y(e,t))})),Q("Set",s.call(t),se,H)}if(function(e){if(!f||!e||"object"!=l(e))return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!p||!e||"object"!=l(e))return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!m||!e||"object"!=l(e))return!1;try{return m.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if(function(e){return!("[object Number]"!==K(e)||O&&"object"==l(e)&&O in e)}(t))return J(Y(Number(t)));if(function(e){if(!e||"object"!=l(e)||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return J(Y(I.call(t)));if(function(e){return!("[object Boolean]"!==K(e)||O&&"object"==l(e)&&O in e)}(t))return J(y.call(t));if(function(e){return!("[object String]"!==K(e)||O&&"object"==l(e)&&O in e)}(t))return J(Y(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==K(e)||O&&"object"==l(e)&&O in e)}(t)&&!W(t)){var de=ee(t,Y),fe=U?U(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",me=!fe&&O&&Object(t)===t&&O in t?g.call(K(t),8,-1):pe?"Object":"",ye=(fe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(me||pe?"["+x.call(k.call([],me||[],pe||[]),": ")+"] ":"");return 0===de.length?ye+"{}":H?ye+"{"+Z(de,H)+"}":ye+"{ "+x.call(de,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return H.call(e,t)}function K(e){return v.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return $(g.call(e,0,t.maxStringLength),t)+r}return L(S.call(S.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+E.call(t.toString(16))}function J(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function Q(e,t,n,r){return e+" ("+t+") {"+(r?Z(n,r):x.call(n,", "))+"}"}function Z(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+x.call(e,","+n)+"\n"+t.prev}function ee(e,t){var n=_(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=z(e,o)?t(e[o],e):""}var a,i="function"==typeof T?T(e):[];if(D){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var c in e)z(e,c)&&(n&&String(Number(c))===c&&c<e.length||D&&a["$"+c]instanceof Symbol||(C.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof T)for(var u=0;u<i.length;u++)M.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}},647:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},882:function(e,t,n){"use strict";var r=n(402),o=n(662),a=n(647),i=Object.prototype.hasOwnProperty,c={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,s=Array.prototype.push,d=function(e,t){s.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,p=a.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},y={},v=function e(t,n,a,i,c,s,f,p,v,h,b,g,S,E,w,C,k,x){for(var A,P=t,I=x,T=0,N=!1;void 0!==(I=I.get(y))&&!N;){var D=I.get(t);if(T+=1,void 0!==D){if(D===T)throw new RangeError("Cyclic object value");N=!0}void 0===I.get(y)&&(T=0)}if("function"==typeof h?P=h(n,P):P instanceof Date?P=S(P):"comma"===a&&u(P)&&(P=o.maybeMap(P,(function(e){return e instanceof Date?S(e):e}))),null===P){if(s)return v&&!C?v(n,m.encoder,k,"key",E):n;P=""}if("string"==typeof(A=P)||"number"==typeof A||"boolean"==typeof A||"symbol"==l(A)||"bigint"==typeof A||o.isBuffer(P))return v?[w(C?n:v(n,m.encoder,k,"key",E))+"="+w(v(P,m.encoder,k,"value",E))]:[w(n)+"="+w(String(P))];var O,M=[];if(void 0===P)return M;if("comma"===a&&u(P))C&&v&&(P=o.maybeMap(P,v)),O=[{value:P.length>0?P.join(",")||null:void 0}];else if(u(h))O=h;else{var U=Object.keys(P);O=b?U.sort(b):U}var V=p?String(n).replace(/\./g,"%2E"):String(n),j=i&&u(P)&&1===P.length?V+"[]":V;if(c&&u(P)&&0===P.length)return j+"[]";for(var R=0;R<O.length;++R){var F=O[R],L="object"==l(F)&&F&&void 0!==F.value?F.value:P[F];if(!f||null!==L){var B=g&&p?String(F).replace(/\./g,"%2E"):String(F),_=u(P)?"function"==typeof a?a(j,B):j:j+(g?"."+B:"["+B+"]");x.set(t,T);var W=r();W.set(y,x),d(M,e(L,_,a,i,c,s,f,p,"comma"===a&&C&&u(P)?null:v,h,b,g,S,E,w,C,k,W))}}return M};e.exports=function(e,t){var n,o=e,s=function(e){if(!e)return m;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||m.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if(void 0!==e.format){if(!i.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,o=a.formatters[n],l=m.filter;if(("function"==typeof e.filter||u(e.filter))&&(l=e.filter),r=e.arrayFormat in c?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":m.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=void 0===e.allowDots?!0===e.encodeDotInKeys||m.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?m.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:m.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:m.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:l,format:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof s.filter?o=(0,s.filter)("",o):u(s.filter)&&(n=s.filter);var f=[];if("object"!=l(o)||null===o)return"";var p=c[s.arrayFormat],y="comma"===p&&s.commaRoundTrip;n||(n=Object.keys(o)),s.sort&&n.sort(s.sort);for(var h=r(),b=0;b<n.length;++b){var g=n[b],S=o[g];s.skipNulls&&null===S||d(f,v(S,g,p,y,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,h))}var E=f.join(s.delimiter),w=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),E.length>0?w+E:""}},662:function(e,t,n){"use strict";var r=n(647),o=Object.prototype.hasOwnProperty,a=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),c=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},u=1024;e.exports={arrayToObject:c,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],c=Object.keys(i),u=0;u<c.length;++u){var s=c[u],d=i[s];"object"==l(d)&&null!==d&&-1===n.indexOf(d)&&(t.push({obj:i,prop:s}),n.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,o,a){if(0===e.length)return e;var c=e;if("symbol"==l(e)?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",d=0;d<c.length;d+=u){for(var f=c.length>=u?c.slice(d,d+u):c,p=[],m=0;m<f.length;++m){var y=f.charCodeAt(m);45===y||46===y||95===y||126===y||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||a===r.RFC1738&&(40===y||41===y)?p[p.length]=f.charAt(m):y<128?p[p.length]=i[y]:y<2048?p[p.length]=i[192|y>>6]+i[128|63&y]:y<55296||y>=57344?p[p.length]=i[224|y>>12]+i[128|y>>6&63]+i[128|63&y]:(m+=1,y=65536+((1023&y)<<10|1023&f.charCodeAt(m)),p[p.length]=i[240|y>>18]+i[128|y>>12&63]+i[128|y>>6&63]+i[128|63&y])}s+=p.join("")}return s},isBuffer:function(e){return!(!e||"object"!=l(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=l(n)&&"function"!=typeof n){if(a(t))t.push(n);else{if(!t||"object"!=l(t))return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=l(t))return[t].concat(n);var i=t;return a(t)&&!a(n)&&(i=c(t,r)),a(t)&&a(n)?(n.forEach((function(n,a){if(o.call(t,a)){var i=t[a];i&&"object"==l(i)&&n&&"object"==l(n)?t[a]=e(i,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var i=n[a];return o.call(t,a)?t[a]=e(t[a],i,r):t[a]=i,t}),i)}}},255:function(e,t,n){"use strict";var r=n(651),o=n(295),a=n(890)(),i=n(109),l=n(785),c=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new l("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new l("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in e&&i){var s=i(e,"length");s&&!s.configurable&&(r=!1),s&&!s.writable&&(u=!1)}return(r||u||!n)&&(a?o(e,"length",t,!0,!0):o(e,"length",t)),e}},402:function(e,t,n){"use strict";var r=n(651),o=n(913),a=n(937),i=n(785),c=r("%WeakMap%",!0),u=r("%Map%",!0),s=o("WeakMap.prototype.get",!0),d=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),m=o("Map.prototype.set",!0),y=o("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new i("Side channel does not contain "+a(e))},get:function(r){if(c&&r&&("object"==l(r)||"function"==typeof r)){if(e)return s(e,r)}else if(u){if(t)return p(t,r)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,r)},has:function(r){if(c&&r&&("object"==l(r)||"function"==typeof r)){if(e)return f(e,r)}else if(u){if(t)return y(t,r)}else if(n)return function(e,t){return!!v(e,t)}(n,r);return!1},set:function(r,o){c&&r&&("object"==l(r)||"function"==typeof r)?(e||(e=new c),d(e,r,o)):u?(t||(t=new u),m(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},634:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":l(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":l(window)))return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";n.d(r,{default:function(){return k}});var e,t,o,a=n(882),i=n.n(a);function l(e){switch(e){case"development":return o.Development;case"staging":return o.Staging;case"canary":return o.Canary;default:return o.Production}}!function(e){e.Cancel="exit",e.Complete="complete",e.Error="error",e.Fail="fail",e.Load="load",e.Ready="ready",e.Start="start",e.Success="success",e.DocumentCameraSelect="document-camera-select",e.DocumentCameraCapture="document-camera-capture",e.DocumentUpload="document-upload",e.OneTimeLinkSent="one-time-link-sent",e.OneTimeLinkStart="one-time-link-start",e.OneTimeLinkExit="one-time-link-exit",e.SelfieCameraSelect="selfie-camera-select",e.SelfieCameraCapture="selfie-camera-capture",e.SelfieRecordUpload="selfie-record-upload",e.LoadCameraFailed="load-camera-failed",e.PageChange="page-change",e.InquiryLoad="inquiry-load",e.CountrySelect="country-select",e.VerificationChange="verification-change"}(e||(e={})),function(e){e.Open="open",e.Exit="exit",e.Destroy="destroy"}(t||(t={})),function(e){e.Development="http://localhost:3000",e.Staging="https://inquiry.withpersona-staging.com",e.Canary="https://canary.withpersona.com",e.Production="https://inquiry.withpersona.com"}(o||(o={}));var c=n(709),u=n.n(c),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function d(e){return Array.isArray(e)?e.map(d):function(e){return null!=e&&e.constructor===Object}(e)?Object.keys(e).reduce((function(t,n){var r;return s(s({},t),((r={})[u()(n)]=d(e[n]),r))}),{}):e}var f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},m=function(){function e(e){this.id=e}return e.prototype.isMounted=function(){return null!=document.getElementById(this.id)},e.prototype.mount=function(e){if(document.getElementById(this.id))console.warn("persona: stylesheet ".concat(this.id," already appended. skipping."));else{var t=v("style",{id:this.id},[document.createTextNode(e)]);document.head.appendChild(t)}},e.prototype.unmount=function(){var e,t=document.getElementById(this.id);null!=t?null===(e=t.parentNode)||void 0===e||e.removeChild(t):console.warn("persona: no stylesheet ".concat(this.id," to remove. skipping."))},e}();function y(e,t,n){var r,o,a,i;void 0===n&&(n=[]);var l=document.createElementNS("http://www.w3.org/2000/svg",e);try{for(var c=f(Object.entries(t)),u=c.next();!u.done;u=c.next()){var s=p(u.value,2),d=s[0],m=s[1];"className"===d&&(d="class"),l.setAttribute(d,m)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var y=f(n),v=y.next();!v.done;v=y.next()){var h=v.value;!1!==h&&l.appendChild(h)}}catch(e){a={error:e}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}return l}function v(e,t,n){var r,o,a,i;void 0===n&&(n=[]);var l=document.createElement(e);try{for(var c=f(Object.entries(t)),u=c.next();!u.done;u=c.next()){var s=p(u.value,2),d=s[0],m=s[1];"className"===d&&(d="class"),l.setAttribute(d,m)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var y=f(n),v=y.next();!v.done;v=y.next()){var h=v.value;!1!==h&&("string"==typeof h?l.appendChild(document.createTextNode(h)):l.appendChild(h))}}catch(e){a={error:e}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}return l}function h(e){return"string"==typeof e?e:"number"==typeof e?"".concat(e,"px"):""}var b=["allow-scripts","allow-same-origin","allow-popups"],g=["allow-forms","allow-modals","allow-top-navigation-by-user-activation"];function S(e,t,n,r){var o=r.accountId,a=r.accountTypeId,c=r.environment,u=r.environmentId,s=r.fields,f=r.frameAncestors,p=r.frameHeight,m=r.frameWidth,y=r.host,v=r.iframeTitle,S=r.inquiryId,E=r.language,w=r.messageTargetOrigin,C=r.referenceId,k=r.routingCountry,x=r.sandboxAttributes,A=void 0===x?g:x,P=r.sessionToken,I=r.styleVariant,T=r.templateId,N=r.templateVersionId,D=r.themeSetId,O=r.widgetPadding,M=!(!T&&!N),U=null==T?void 0:T.startsWith("itmpl_");if(!M&&!S)throw new Error("Either templateId/templateVersionId or inquiryId must be specified to start a flow");if(M&&S)throw new Error("Only one of templateId/templateVersionId or inquiryId should be specified to start a flow");if(o){if(C)throw new Error("Cannot pass both accountId and referenceId");if(a)throw new Error("Cannot pass both accountId and accountTypeId")}var V=l(y),j=i()({"client-version":"5.1.5","container-id":t,"flow-type":n,"routing-country":k,"template-id":(U?null:T)||null,"inquiry-template-id":(U?T:null)||null,"inquiry-template-version-id":N||null,environment:c,"environment-id":u,"iframe-origin":window.location.origin,"frame-ancestors":null!=f?f:null,"message-target-origin":w||null,"inquiry-id":S||null,language:E,"session-token":P,"reference-id":C,"account-id":o,"account-type-id":a,fields:d(null!=s?s:{}),"style-variant":I||null,"theme-set-id":D,"widget-padding":O},{addQueryPrefix:!0,skipNulls:!0});return e.style.maxHeight=h(p),e.style.maxWidth=h(m),e.setAttribute("data-testid","persona-widget__iframe"),"embedded"===n&&e.setAttribute("aria-modal","true"),e.title=null!=v?v:"Verify your identity",e.className="persona-widget__iframe",e.allow="camera;microphone;clipboard-write",e.setAttribute("sandbox",b.concat(A).join(" ")),e.frameBorder="0",e.src=V+"/widget"+j,e.onload=function(){},e}var E=function(){function e(){}return e.log=function(e,t){void 0===t&&(t="info")},e}(),w=function(e){return e.split(".").slice(-2).join(".")};function C(t,n){var r=n.onLoad,o=n.onReady,a=n.onComplete,i=n.onEvent,c=n.onCancel,u=n.onError,s=n.templateId,d=n.templateVersionId,f=n.host,p=function(n){var p,m=l(null!=f?f:"production");if(""!==n.origin)try{if(w(new URL(n.origin).host)!==w(new URL(m).host))return}catch(e){return}if(!(s&&s!==n.data.templateId||d&&d!==n.data.templateVersionId||n.data.containerId&&t!==n.data.containerId))switch(null==i||i(n.data.name,n.data.metadata),n.data.name){case e.Load:null==r||r();break;case e.Ready:null==o||o();break;case e.Complete:case e.Fail:null==a||a({inquiryId:n.data.metadata.inquiryId,status:n.data.metadata.status,fields:null!==(p=n.data.metadata.fields)&&void 0!==p?p:n.data.metadata.scopes});break;case e.Cancel:null==c||c({inquiryId:n.data.metadata.inquiryId,sessionToken:n.data.metadata.sessionToken});break;case e.Error:null==u||u(n.data.error)}};return window.addEventListener("message",p),function(){window.removeEventListener("message",p)}}var k={Client:function(){function e(e){var t,n,r,o,a,i,l,c,u,s,d,f=this;this._isLoading=!0,this._isOpen=!1,this.personaCSS=new m("persona-widget-styles"),this.globalCSS=new m("persona-global-styles"),this.onLoad=function(){var e,t;f._isLoading=!1,f.render(),null===(t=(e=f.options).onLoad)||void 0===t||t.call(e)},this.onReady=function(){var e,t;null===(t=(e=f.options).onReady)||void 0===t||t.call(e)},this.onComplete=function(e){var t,n,r=e.inquiryId,o=e.status,a=e.fields;f._isOpen=!1,f.render(),null===(n=(t=f.options).onComplete)||void 0===n||n.call(t,{inquiryId:r,status:o,fields:a})},this.onCancel=function(e){var t,n,r=e.inquiryId,o=e.sessionToken;f._isOpen=!1,f.render(),null===(n=(t=f.options).onCancel)||void 0===n||n.call(t,{inquiryId:r,sessionToken:o})},this.options=e,this.containerParent=null!==(n=null!==(t=e.parent)&&void 0!==t?t:document.body)&&void 0!==n?n:document.children[0],this.containerElement=v("div",{class:"persona-widget__overlay",style:"display: ".concat(this._isOpen?"block":"none")}),this.containerId="persona-widget-"+new Array(16).fill(void 0).map((function(){return Math.floor(35*Math.random()).toString(35)})).join(""),this.containerElement.setAttribute("id",this.containerId),this.loadingElement=v("div",{class:"persona-widget__centered-frame"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"114",height:"114",class:"persona-widget__loading-spinner"},[y("path",{fill:"none",stroke:"#0F2B72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M25.887 10.432a56.275 56.275 0 0 0-15.455 15.455 55.86 55.86 0 0 0-5.183 9.678A55.576 55.576 0 0 0 2.066 46.07m-.8 5.438A56.678 56.678 0 0 0 1 57m4.249 21.435a55.86 55.86 0 0 0 5.183 9.678 56.275 56.275 0 0 0 6.97 8.485m8.485 6.97a55.86 55.86 0 0 0 9.678 5.183 55.576 55.576 0 0 0 10.506 3.183c3.535.7 7.19 1.066 10.929 1.066 3.74 0 7.394-.367 10.929-1.066a55.576 55.576 0 0 0 10.506-3.183 55.86 55.86 0 0 0 9.678-5.183 56.275 56.275 0 0 0 15.455-15.455 55.86 55.86 0 0 0 5.183-9.678 55.576 55.576 0 0 0 3.183-10.506A56.274 56.274 0 0 0 113 57c0-3.74-.367-7.394-1.066-10.929a55.576 55.576 0 0 0-3.183-10.506M96.598 17.402a56.275 56.275 0 0 0-8.485-6.97 55.86 55.86 0 0 0-9.678-5.183A55.576 55.576 0 0 0 67.93 2.066 56.274 56.274 0 0 0 57 1c-3.74 0-7.394.367-10.929 1.066m-34.94 30.418A51.76 51.76 0 0 0 7.225 41.9a51.633 51.633 0 0 0-1.98 10 52.63 52.63 0 0 0 .744 15.247 51.633 51.633 0 0 0 7.768 18.743 52.188 52.188 0 0 0 10.254 11.308 52.188 52.188 0 0 0 8.472 5.67m9.417 3.905a51.633 51.633 0 0 0 10 1.98 52.63 52.63 0 0 0 10.197 0 51.939 51.939 0 0 0 10-1.98 51.61 51.61 0 0 0 9.418-3.904 51.984 51.984 0 0 0 8.472-5.671m3.782-3.43a52.308 52.308 0 0 0 3.429-3.78m9.575-17.89a51.633 51.633 0 0 0 1.98-10 52.63 52.63 0 0 0-.744-15.247 51.633 51.633 0 0 0-7.768-18.743 52.188 52.188 0 0 0-10.254-11.308m-4.097-3.043a51.984 51.984 0 0 0-4.375-2.628M67.148 5.99a51.939 51.939 0 0 0-5.05-.743 52.63 52.63 0 0 0-15.246.743 51.633 51.633 0 0 0-18.743 7.768M24.012 16.8a52.308 52.308 0 0 0-3.782 3.43"})])]),this.containerElement.append(this.loadingElement),this.isLoading?this.loadingElement.style.display="block":this.loadingElement.style.display="none",this.iframeElement=document.createElement("iframe"),this.unsubscribeFromEvents=C(this.containerId,{onLoad:null!==(r=this.onLoad)&&void 0!==r?r:null,onReady:null!==(o=this.onReady)&&void 0!==o?o:null,onComplete:null!==(a=this.onComplete)&&void 0!==a?a:null,onCancel:null!==(i=this.onCancel)&&void 0!==i?i:null,onEvent:null!==(l=this.options.onEvent)&&void 0!==l?l:null,onError:null!==(c=this.options.onError)&&void 0!==c?c:null,templateId:null!==(u=this.options.templateId)&&void 0!==u?u:null,templateVersionId:null!==(s=this.options.templateVersionId)&&void 0!==s?s:null,host:null!==(d=this.options.host)&&void 0!==d?d:null}),this.containerElement.appendChild(this.iframeElement),this.containerParent.appendChild(this.containerElement),this.personaCSS.mount("@keyframes persona-widget__fadeIn {\n  from {\n    background-color: rgba(0, 0, 0, 0);\n    opacity: 0;\n  }\n  to {\n    /* persona-widget__overlay opacity = 0.7 */\n    background-color: rgba(0, 0, 0, 0.7);\n    opacity: 1;\n  }\n}\n\n@keyframes persona-widget__genieSlideIn {\n  from {\n    transform: translate(-50%, -40%) scale(0.8);\n  }\n  90% {\n    transform: translate(-50%, -51%) scale(1.01);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n@keyframes persona-widget__slideDown {\n  from {\n    transform: translate(-50%, -55%);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n.persona-widget__overlay {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  animation: persona-widget__fadeIn 0.3s;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n\n.persona-widget__overlay .persona-widget__centered-frame {\n  width: 120px;\n  height: 120px;\n  position: absolute;\n  left: calc(50% - 60px);\n  top: calc(50% - 60px);\n  z-index: 9999;\n}\n\n.persona-widget__overlay .persona-widget__loading-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.persona-widget__overlay .persona-widget__iframe {\n  animation: persona-widget__genieSlideIn 0.3s, persona-widget__slideDown ease-out 0.3s;\n\n  width: 100%;\n  height: 100%;\n\n  margin-left: auto;\n  margin-right: auto;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  background-color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 12px 40px 2px rgba(0, 0, 0, 0.4);\n\n  @media only screen and (min-width: 600.02px) and (min-height: 600.02px) {\n    max-width: 400px;\n    max-height: 650px;\n  }\n}\n");try{this.iframeElement=S(this.iframeElement,this.containerId,"embedded",this.options)}catch(e){throw console.error("Persona",e),this.destroy(),e}this.render()}return e.preload=function(e){return void 0===e&&(e="production"),new Promise((function(t){var n=l(e),r=document.createElement("iframe");r.frameBorder="0",r.style.height="0px",r.style.width="0px",r.style.display="none",r.src=n+"/preload",document.body.appendChild(r),r.onload=function(){document.body.removeChild(r),t()}}))},e.prototype.render=function(){var e;null!=this.containerElement?(this.loadingElement.style.display=this.isLoading?"block":"none",this.containerElement.style.display=this.isOpen?"block":"none",this.isOpen&&!this.globalCSS.isMounted()?this.globalCSS.mount((e=this.containerId,"\n  /* Don't allow scrolling when widget is open */\n  html body {\n    overflow: hidden !important;\n  }\n\n  /* When the widget takes the full screen, hide everything else to prevent iOS scroll issues. */\n  @media ".concat("(max-width: 600px), (max-height: 420px)"," {\n    html body > *:not(#").concat(e,") {\n      display: none !important;\n    }\n  }\n"))):!this.isOpen&&this.globalCSS.isMounted()&&this.globalCSS.unmount()):E.log("Cannot render client that has been destroyed","error")},e.prototype.open=function(){var e;null===(e=this.iframeElement.contentWindow)||void 0===e||e.postMessage({action:t.Open,metadata:{}},this.baseUrl),this._isOpen=!0,this.render()},e.prototype.cancel=function(e){var n;null===(n=this.iframeElement.contentWindow)||void 0===n||n.postMessage({action:t.Exit,metadata:{force:e}},this.baseUrl),this.render()},e.prototype.destroy=function(){var e;null===(e=this.iframeElement.contentWindow)||void 0===e||e.postMessage({action:t.Destroy,metadata:{}},this.baseUrl),this.personaCSS.unmount(),this.globalCSS.unmount(),this.containerParent.removeChild(this.containerElement),this.unsubscribeFromEvents()},Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return l(this.options.host)},enumerable:!1,configurable:!0}),e}(),setupIframe:S,setupEvents:C}}(),r.default}()},"object"==l(t)&&"object"==l(e)?e.exports=i():(o=[],void 0===(a="function"==typeof(r=i)?r.apply(t,o):r)||(e.exports=a))},870:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},594:function(e){"use strict";e.exports=React}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(594),t=n.n(e),r=Roblox,o=n.n(r),a=ReactDOM,i=CoreUtilities,l="access-management-upsell-container",c=ReactUtilities,u=n(676),s=n(390);var d=function(e){e()},f=function(){return d},p=Symbol.for("react-redux-context"),m="undefined"!=typeof globalThis?globalThis:{};function y(){var t;if(!e.createContext)return{};var n=null!=(t=m[p])?t:m[p]=new Map,r=n.get(e.createContext);return r||(r=e.createContext(null),n.set(e.createContext,r)),r}var v=y();function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return function(){return(0,e.useContext)(t)}}var b=h();var g=function(){throw new Error("uSES not initialized!")},S=function(e,t){return e===t};function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=t===v?b:h(t);return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="function"==typeof r?{equalityFn:r}:r,a=o.equalityFn,i=void 0===a?S:a,l=o.stabilityCheck,c=void 0===l?void 0:l;o.noopCheck;var u,s,d,f=n(),p=f.store,m=f.subscription,y=f.getServerState,v=f.stabilityCheck,h=(f.noopCheck,(0,e.useRef)(!0),(0,e.useCallback)((u={},s=t.name,d=function(e){return t(e)},s in u?Object.defineProperty(u,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[s]=d,u)[t.name],[t,v,c])),b=g(m.addNestedSub,p.getState,y||p.getState,h,i);return(0,e.useDebugValue)(b),b}}var w=E();n(56),n(625);var C={notify:function(){},get:function(){return[]}};function k(e,t){var n,r=C;function o(){i.onStateChange&&i.onStateChange()}function a(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=f(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var i={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=C)},getListeners:function(){return r}};return i}var x=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect;var A=function(t){var n=t.store,r=t.context,o=t.children,a=t.serverState,i=t.stabilityCheck,l=void 0===i?"once":i,c=t.noopCheck,u=void 0===c?"once":c,s=e.useMemo((function(){var e=k(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:l,noopCheck:u}}),[n,a,l,u]),d=e.useMemo((function(){return n.getState()}),[n]);x((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),d!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,d]);var f=r||v;return e.createElement(f.Provider,{value:s},o)};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e===v?b:h(e);return function(){return t().store}}var I=P();function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e===v?I:P(e);return function(){return t().dispatch}}var N,D=T();!function(e){g=e}(s.useSyncExternalStoreWithSelector),function(e){0}(u.useSyncExternalStore),N=a.unstable_batchedUpdates,d=N;var O=ReactStyleGuide;function M(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function U(e){return!!e&&!!e[Ce]}function V(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ke}(e)||Array.isArray(e)||!!e[we]||!!(null===(t=e.constructor)||void 0===t?void 0:t[we])||W(e)||q(e))}function j(e,t,n){void 0===n&&(n=!1),0===R(e)?(n?Object.keys:xe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function R(e){var t=e[Ce];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:W(e)?2:q(e)?3:0}function F(e,t){return 2===R(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return 2===R(e)?e.get(t):e[t]}function B(e,t,n){var r=R(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function _(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function W(e){return be&&e instanceof Map}function q(e){return ge&&e instanceof Set}function H(e){return e.o||e.t}function z(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ae(e);delete t[Ce];for(var n=xe(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function K(e,t){return void 0===t&&(t=!1),$(e)||U(e)||!V(e)||(R(e)>1&&(e.set=e.add=e.clear=e.delete=G),Object.freeze(e),t&&j(e,(function(e,t){return K(t,!0)}),!0)),e}function G(){M(2)}function $(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Y(e){var t=Pe[e];return t||M(18,e),t}function J(e,t){Pe[e]||(Pe[e]=t)}function X(){return ve}function Q(e,t){t&&(Y("Patches"),e.u=[],e.s=[],e.v=t)}function Z(e){ee(e),e.p.forEach(ne),e.p=null}function ee(e){e===ve&&(ve=e.l)}function te(e){return ve={p:[],l:ve,h:e,m:!0,_:0}}function ne(e){var t=e[Ce];0===t.i||1===t.i?t.j():t.g=!0}function re(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Y("ES5").S(t,e,r),r?(n[Ce].P&&(Z(t),M(4)),V(e)&&(e=oe(t,e),t.l||ie(t,e)),t.u&&Y("Patches").M(n[Ce].t,e,t.u,t.s)):e=oe(t,n,[]),Z(t),t.u&&t.v(t.u,t.s),e!==Ee?e:void 0}function oe(e,t,n){if($(t))return t;var r=t[Ce];if(!r)return j(t,(function(o,a){return ae(e,r,t,o,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=z(r.k):r.o,a=o,i=!1;3===r.i&&(a=new Set(o),o.clear(),i=!0),j(a,(function(t,a){return ae(e,r,o,t,a,n,i)})),ie(e,o,!1),n&&e.u&&Y("Patches").N(r,n,e.u,e.s)}return r.o}function ae(e,t,n,r,o,a,i){if(U(o)){var l=oe(e,o,a&&t&&3!==t.i&&!F(t.R,r)?a.concat(r):void 0);if(B(n,r,l),!U(l))return;e.m=!1}else i&&n.add(o);if(V(o)&&!$(o)){if(!e.h.D&&e._<1)return;oe(e,o),t&&t.A.l||ie(e,o)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&K(t,n)}function le(e,t){var n=e[Ce];return(n?H(n):e)[t]}function ce(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ue(e){e.P||(e.P=!0,e.l&&ue(e.l))}function se(e){e.o||(e.o=z(e.t))}function de(e,t,n){var r=W(t)?Y("MapSet").F(t,n):q(t)?Y("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:X(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,a=Ie;n&&(o=[r],a=Te);var i=Proxy.revocable(o,a),l=i.revoke,c=i.proxy;return r.k=c,r.j=l,c}(t,n):Y("ES5").J(t,n);return(n?n.A:X()).p.push(r),r}function fe(e){return U(e)||M(22,e),function e(t){if(!V(t))return t;var n,r=t[Ce],o=R(t);if(r){if(!r.P&&(r.i<4||!Y("ES5").K(r)))return r.t;r.I=!0,n=pe(t,o),r.I=!1}else n=pe(t,o);return j(n,(function(t,o){r&&L(r.t,t)===o||B(n,t,e(o))})),3===o?new Set(n):n}(e)}function pe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return z(e)}function me(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ce];return Ie.get(t,e)},set:function(t){var n=this[Ce];Ie.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][Ce];if(!o.P)switch(o.i){case 5:r(o)&&ue(o);break;case 4:n(o)&&ue(o)}}}function n(e){for(var t=e.t,n=e.k,r=xe(n),o=r.length-1;o>=0;o--){var a=r[o];if(a!==Ce){var i=t[a];if(void 0===i&&!F(t,a))return!0;var l=n[a],c=l&&l[Ce];if(c?c.t!==i:!_(l,i))return!0}}var u=!!t[Ce];return r.length!==xe(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};J("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var a=Ae(n);delete a[Ce];for(var i=xe(a),l=0;l<i.length;l++){var c=i[l];a[c]=e(c,t||!!a[c].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:X(),P:!1,I:!1,R:{},l:n,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Ce,{value:a,writable:!0}),o},S:function(e,n,o){o?U(n)&&n[Ce].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ce];if(n){var o=n.t,a=n.k,i=n.R,l=n.i;if(4===l)j(a,(function(t){t!==Ce&&(void 0!==o[t]||F(o,t)?i[t]||e(a[t]):(i[t]=!0,ue(n)))})),j(o,(function(e){void 0!==a[e]||F(a,e)||(i[e]=!1,ue(n))}));else if(5===l){if(r(n)&&(ue(n),i.length=!0),a.length<o.length)for(var c=a.length;c<o.length;c++)i[c]=!1;else for(var u=o.length;u<a.length;u++)i[u]=!0;for(var s=Math.min(a.length,o.length),d=0;d<s;d++)a.hasOwnProperty(d)||(i[d]=!0),void 0===i[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var ye,ve,he="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),be="undefined"!=typeof Map,ge="undefined"!=typeof Set,Se="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ee=he?Symbol.for("immer-nothing"):((ye={})["immer-nothing"]=!0,ye),we=he?Symbol.for("immer-draftable"):"__$immer_draftable",Ce=he?Symbol.for("immer-state"):"__$immer_state",ke=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),xe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ae=Object.getOwnPropertyDescriptors||function(e){var t={};return xe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Pe={},Ie={get:function(e,t){if(t===Ce)return e;var n=H(e);if(!F(n,t))return function(e,t,n){var r,o=ce(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!V(r)?r:r===le(e.t,t)?(se(e),e.o[t]=de(e.A.h,r,e)):r},has:function(e,t){return t in H(e)},ownKeys:function(e){return Reflect.ownKeys(H(e))},set:function(e,t,n){var r=ce(H(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=le(H(e),t),a=null==o?void 0:o[Ce];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(_(n,o)&&(void 0!==n||F(e.t,t)))return!0;se(e),ue(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==le(e.t,t)||t in e.t?(e.R[t]=!1,se(e),ue(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=H(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){M(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){M(12)}},Te={};j(Ie,(function(e,t){Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Te.set.call(this,e,t,void 0)},Te.set=function(e,t,n){return Ie.set.call(this,e[0],t,n,e[0])};var Ne=function(){function e(e){var t=this;this.O=Se,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&M(6),void 0!==r&&"function"!=typeof r&&M(7),V(e)){var l=te(t),c=de(t,e,void 0),u=!0;try{i=n(c),u=!1}finally{u?Z(l):ee(l)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Q(l,r),re(e,l)}),(function(e){throw Z(l),e})):(Q(l,r),re(i,l))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===Ee&&(i=void 0),t.D&&K(i,!0),r){var s=[],d=[];Y("Patches").M(e,i,s,d),r(s,d)}return i}M(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,a=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,o]})):[a,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){V(e)||M(8),U(e)&&(e=fe(e));var t=te(this),n=de(this,e,void 0);return n[Ce].C=!0,ee(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ce]).A;return Q(n,t),re(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Se&&M(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Y("Patches").$;return U(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),De=new Ne,Oe=De.produce,Me=(De.produceWithPatches.bind(De),De.setAutoFreeze.bind(De),De.setUseProxies.bind(De),De.applyPatches.bind(De),De.createDraft.bind(De),De.finishDraft.bind(De),Oe),Ue=Redux,Ve=ReduxThunk,je=n.n(Ve);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}var Fe,Le=(Fe=function(e,t){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Fe(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Be=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},_e=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},We=Object.defineProperty,qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,$e=function(e,t,n){return t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ye=function(e,t){for(var n in t||(t={}))Ke.call(t,n)&&$e(e,n,t[n]);if(ze)for(var r=0,o=ze(t);r<o.length;r++){n=o[r];Ge.call(t,n)&&$e(e,n,t[n])}return e},Je=function(e,t){return qe(e,He(t))},Xe=function(e,t,n){return new Promise((function(r,o){var a=function(e){try{l(n.next(e))}catch(e){o(e)}},i=function(e){try{l(n.throw(e))}catch(e){o(e)}},l=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,i)};l((n=n.apply(e,t)).next())}))},Qe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===Re(arguments[0])?Ue.compose:Ue.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ze(e){if("object"!==Re(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var et=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Le(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,_e([void 0],e[0].concat(this)))):new(t.bind.apply(t,_e([void 0],e.concat(this))))},t}(Array),tt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Le(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,_e([void 0],e[0].concat(this)))):new(t.bind.apply(t,_e([void 0],e.concat(this))))},t}(Array);function nt(e){return V(e)?Me(e,(function(){})):e}function rt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new et);n&&(!function(e){return"boolean"==typeof e}(n)?r.push(je().withExtraArgument(n.extraArgument)):r.push(je()));0;return r}(e)}}function ot(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ye(Ye({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function at(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}function it(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:nt(e.initialState),o=e.reducers||{},a=Object.keys(o),i={},l={},c={};function u(){var t="function"==typeof e.extraReducers?at(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,a=t[1],i=void 0===a?[]:a,c=t[2],u=void 0===c?void 0:c,s=Ye(Ye({},o),l);return function(e,t,n,r){void 0===n&&(n=[]);var o,a="function"==typeof t?at(t):[t,n,r],i=a[0],l=a[1],c=a[2];if(function(e){return"function"==typeof e}(e))o=function(){return nt(e())};else{var u=nt(e);o=function(){return u}}function s(e,t){void 0===e&&(e=o());var n=_e([i[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(U(e))return void 0===(r=n(e,t))?e:r;if(V(e))return Me(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return s.getInitialState=o,s}(r,(function(e){for(var t in s)e.addCase(t,s[t]);for(var n=0,r=i;n<r.length;n++){var o=r[n];e.addMatcher(o.matcher,o.reducer)}u&&e.addDefaultCase(u)}))}return a.forEach((function(e){var n,r,a=o[e],u=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,i[e]=n,l[u]=n,c[e]=r?ot(u,r):ot(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:c,caseReducers:i,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}var lt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ct=["name","message","stack","code"],ut=function(e,t){this.payload=e,this.meta=t},st=function(e,t){this.payload=e,this.meta=t},dt=function(e){if("object"===Re(e)&&null!==e){for(var t={},n=0,r=ct;n<r.length;n++){var o=r[n];"string"==typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}},ft=function(){function e(e,t,n){var r=ot(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Je(Ye({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),o=ot(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Je(Ye({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=ot(e+"/rejected",(function(e,t,r,o,a){return{payload:o,error:(n&&n.serializeError||dt)(e||"Rejected"),meta:Je(Ye({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),i="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(l,c,u){var s,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):lt(),f=new i;function p(e){s=e,f.abort()}var m=function(){return Xe(this,null,(function(){var i,m,y,v,h,b;return Be(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),v=null==(i=null==n?void 0:n.condition)?void 0:i.call(n,e,{getState:c,extra:u}),null===(S=v)||"object"!==Re(S)||"function"!=typeof S.then?[3,2]:[4,v];case 1:v=g.sent(),g.label=2;case 2:if(!1===v||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:s||"Aborted"})}))})),l(o(d,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:d,arg:e},{getState:c,extra:u}))),[4,Promise.race([h,Promise.resolve(t(e,{dispatch:l,getState:c,extra:u,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new ut(e,t)},fulfillWithValue:function(e,t){return new st(e,t)}})).then((function(t){if(t instanceof ut)throw t;return t instanceof st?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return y=g.sent(),[3,5];case 4:return b=g.sent(),y=b instanceof ut?a(null,d,e,b.payload,b.meta):a(b,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(y)&&y.meta.condition||l(y),[2,y]}var S}))}))}();return Object.assign(m,{abort:p,requestId:d,arg:e,unwrap:function(){return m.then(pt)}})}}),{pending:o,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function pt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var mt="listenerMiddleware";ot(mt+"/add"),ot(mt+"/removeAll"),ot(mt+"/remove");"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis);var yt,vt,ht=function(e){return function(t){setTimeout(t,e)}};"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ht(10);me(),function(e){e.Granted="Granted",e.Denied="Denied",e.Actionable="Actionable"}(vt||(vt={}));var bt,gt=vt;!function(e){e.VerificationStarted="VERIFICATION_STARTED",e.verificationInProgress="VERIFICATION_IN_PROGRESS",e.VerificationPending="VERIFICATION_PENDING",e.VerificationFailed="VERIFICATION_FAILED",e.VerificationSucceded="VERIFICATION_SUCCEEDED",e.AMPCheckFailed="AMP_CHECK_FAILED",e.EmailUpdateFailed="EMAIL_UPDATE_FAILED"}(bt||(bt={}));var St,Et=bt;!function(e){e.GovernmentId="GovernmentId",e.Phone="PHONE",e.Email="EMAIL",e.AddedEmail="AddedEmail",e.ParentConsentRequest="ParentConsent",e.ParentLinkRequest="ParentLink",e.AgeEstimation="AgeEstimation",e.UserSettings="UserSettings"}(St||(St={}));var wt,Ct=St;!function(e){e.Embedded="EMBEDDED",e.Hosted="HOSTED"}(wt||(wt={}));var kt,xt,At,Pt,It,Tt=wt;!function(e){e.Prologue="PROLOGUE",e.Verification="VERIFICATION",e.Epilogue="EPILOGUE"}(kt||(kt={})),function(e){e[e.VendorLink=0]="VendorLink",e[e.Checklist=1]="Checklist",e[e.Complete=2]="Complete"}(xt||(xt={})),function(e){e[e.Unknown=0]="Unknown",e[e.Success=1]="Success",e[e.Failure=2]="Failure",e[e.RequiresManualReview=3]="RequiresManualReview",e[e.RequiresRetry=4]="RequiresRetry",e[e.Started=5]="Started",e[e.Submitted=6]="Submitted",e[e.Stored=7]="Stored",e[e.Expired=8]="Expired"}(At||(At={})),function(e){e[e.NoError=0]="NoError",e[e.UnknownError=1]="UnknownError",e[e.InvalidDocument=2]="InvalidDocument",e[e.InvalidSelfie=3]="InvalidSelfie",e[e.BelowMinimumAge=4]="BelowMinimumAge",e[e.LowQualityMedia=5]="LowQualityMedia",e[e.DocumentUnsupported=6]="DocumentUnsupported"}(Pt||(Pt={})),function(e){e[e.LANDING=0]="LANDING",e[e.EMAIL=1]="EMAIL",e[e.MODAL=2]="MODAL",e[e.SUCCESS_GENERIC=3]="SUCCESS_GENERIC",e[e.FAILURE=4]="FAILURE",e[e.PENDING=5]="PENDING",e[e.POLLING=6]="POLLING",e[e.EMAIL_CONTINUE=7]="EMAIL_CONTINUE",e[e.EXTERNAL_EMAIL=8]="EXTERNAL_EMAIL",e[e.ERROR=9]="ERROR",e[e.TEMP_BAN=10]="TEMP_BAN",e[e.VENDOR_LINK=11]="VENDOR_LINK"}(It||(It={}));var Nt,Dt,Ot,Mt=CoreRobloxUtilities,Ut=function(e,t,n){Mt.eventStreamService.sendEventWithTarget(e,t,n)},Vt=r.EnvironmentUrls.apiGatewayUrl,jt=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=function(e,t,n,r){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),{retryable:!0,withCredentials:!0,url:Vt+"/access-management/v1/upsell-feature-access?featureName="+e+(t?"&extraParameters="+t:"")+(n?"&successfulActions="+n:"")+(r?"&namespace="+encodeURIComponent(r):"")}}(e,t?btoa(JSON.stringify(t)):null,n,r);return new Promise((function(e){i.httpService.get(o).then((function(t){var n=t.data;e(n)}),(function(e){throw e}))}))},Rt=function(){return Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rt.apply(this,arguments)},Ft=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Lt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Bt={featureName:null,ampFeatureCheckData:void 0,stage:null,verificationStageRecourse:null,featureAccess:{loading:!1,data:null,error:null},showUpsell:!1,redirectLink:null,loading:!1,prologueUsed:!1,namespace:null},_t=ft("accessManagement/fetchFeatureAccess",(function(e,t){return Ft(void 0,void 0,void 0,(function(){var n,r,o,a,i;return Lt(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=e.featureName,r=e.ampFeatureCheckData,o=e.successfulAction,a=e.namespace,[4,jt(n,r,o,a)];case 1:return[2,l.sent()];case 2:return i=l.sent(),Ut(Et.AMPCheckFailed,null,{error:JSON.stringify(i)}),[2,t.rejectWithValue("Failed to fetch AMP response")];case 3:return[2]}}))}))})),Wt=it({name:"accessManagement",initialState:Bt,reducers:{resetAccessManagementStore:function(){return Bt},setFeatureName:function(e,t){e.featureName=t.payload},setAmpFeatureCheckData:function(e,t){e.ampFeatureCheckData=t.payload},showUpsell:function(e,t){e.showUpsell=t.payload},setFeatureAccess:function(e,t){e.featureAccess=t.payload},setRedirectLink:function(e,t){e.redirectLink=t.payload},setStage:function(e,t){e.stage=t.payload},setVerificationStageRecourse:function(e,t){e.verificationStageRecourse=t.payload},setPrologueUsed:function(e,t){e.prologueUsed=t.payload},setLoading:function(e,t){e.loading=t.payload},setNamespace:function(e,t){e.namespace=t.payload}},extraReducers:function(e){e.addCase(_t.pending,(function(e){e.featureAccess.loading=!0})).addCase(_t.fulfilled,(function(e,t){var n=t.payload;e.featureAccess=Rt(Rt({},e.featureAccess),{loading:!1,data:n}),e.featureName=n.featureName,n.access!==gt.Granted&&(e.showUpsell=!0),n.access===gt.Actionable&&(e.verificationStageRecourse=n.recourses[0])})).addCase(_t.rejected,(function(e,t){e.featureAccess=Rt(Rt({},e.featureAccess),{loading:!1,error:t.error.message||"Something went wrong"})}))}}),qt=(Nt=Wt.actions).resetAccessManagementStore,Ht=(Nt.setFeatureAccess,Nt.setFeatureName,Nt.setAmpFeatureCheckData),zt=Nt.setRedirectLink,Kt=Nt.setVerificationStageRecourse,Gt=(Nt.showUpsell,Nt.setStage),$t=Nt.setPrologueUsed,Yt=Nt.setNamespace,Jt=function(e){return e.accessManagement},Xt=function(e){return e.accessManagement.showUpsell},Qt=function(e){return e.accessManagement.featureName},Zt=function(e){return e.accessManagement.ampFeatureCheckData},en=function(e){return e.accessManagement.featureAccess},tn=function(e){return e.accessManagement.stage},nn=function(e){return e.accessManagement.verificationStageRecourse},rn=function(e){return e.accessManagement.prologueUsed},on=function(e){return e.accessManagement.namespace},an=Wt.reducer,ln=function(){return ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ln.apply(this,arguments)},cn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},un=[{label:"Label.ConnectingToMobile",statusCode:[At.Unknown]},{label:"Label.VerifyingYou",statusCode:[At.Started]},{label:"Label.VerificationWaitingForResults",statusCode:[At.Submitted]},{label:"Label.UpdatingRoblox",statusCode:[At.Success,At.Stored]}],sn=function(e,t){void 0===t&&(t=[]);var n={heading:"Heading.VerificationSuccessful",icon:"success-icon",bodyText:["Label.DateOfBirthUpdated"],buttonText:"Action.Close",footerText:null};switch(e){case It.SUCCESS_GENERIC:break;case It.FAILURE:n=ln(ln({},n),{heading:"Heading.VerificationFailed",icon:"failure-icon",bodyText:["Label.FailedVerification"],buttonText:"Action.Close"});break;case It.PENDING:n=ln(ln({},n),{heading:"Heading.VerificationPending",icon:"failure-icon",bodyText:["Label.PendingVerification"],buttonText:"Action.Close"});break;case It.ERROR:n=ln(ln({},n),{heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.GenericError"]});break;case It.TEMP_BAN:n=ln(ln({},n),{heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.VerificationDeclined"]});case It.LANDING:case It.EMAIL:case It.MODAL:case It.POLLING:case It.EMAIL_CONTINUE:case It.EXTERNAL_EMAIL:case It.VENDOR_LINK:}return n.bodyText=cn(cn([],n.bodyText),t),n},dn="Heading.VerifyYourAge",fn="Heading.CheckYourAge",pn="Action.RestartSession",mn="Action.ContinueInBrowser",yn="Label.PleaseDoNotClose",vn="Label.VerificationDataSubmitted",hn="Label.VerifyInBrowser",bn="Label.FAEModal",gn="Label.IDVModal",Sn="Label.IDVModalDisclaimer",En="Label.FAEModalDisclaimer",wn=r.EnvironmentUrls.apiGatewayUrl,Cn=function(e){var t={retryable:!0,withCredentials:!0,url:wn+"/age-verification-service/v1/persona-id-verification/start-verification"},n={generateLink:!0,ageEstimation:e};return i.httpService.post(t,n).then((function(e){return e.data})).catch((function(e){var t=i.httpService.parseErrorCode(e);throw new Error("Error to start ID verification: "+(t||"unknown"))}))},kn=function(e){var t={retryable:!0,withCredentials:!0,url:wn+"/age-verification-service/v1/persona-id-verification/verified-status"},n={token:e};return i.httpService.get(t,n).then((function(e){return e.data})).catch((function(e){var t=i.httpService.parseErrorCode(e);throw new Error("Error to get ID verification status: "+(t||"unknown"))}))},xn=function(){return xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xn.apply(this,arguments)},An=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Pn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},In={verified:null,IDVerificationState:{page:xt.VendorLink,vendorVerificationData:{daysUntilNextVerification:0,sessionIdentifier:null,verificationLink:null,qrCode:null,loading:!1},loading:null,status:null,completionPageState:null,error:null,isAgeEstimation:!1},loading:null},Tn=function(e){return e.verification.IDVerificationState},Nn=function(e){return e.verification.loading},Dn=ft("verification/startIDVerification",(function(e,t){return An(void 0,void 0,void 0,(function(){var n,r;return Pn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Cn(e)];case 1:return[2,o.sent()];case 2:return n=o.sent(),r=e?Ct.AgeEstimation:Ct.GovernmentId,Ut(Et.VerificationFailed,r,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to start ID Verification")];case 3:return[2]}}))}))})),On=ft("verification/fetchIDVerificationStatus",(function(e,t){return An(void 0,void 0,void 0,(function(){var n,r,o,a;return Pn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,kn(e)];case 1:return[2,i.sent()];case 2:return n=i.sent(),r=t.getState(),o=r.verification.IDVerificationState.isAgeEstimation,a=o?Ct.AgeEstimation:Ct.GovernmentId,Ut(Et.VerificationFailed,a,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to fetch ID Verification status")];case 3:return[2]}}))}))})),Mn=it({name:"verification",initialState:In,reducers:{resetVerificationStore:function(){return In},setVerified:function(e,t){e.verified=t.payload},setIDVerificationState:function(e,t){e.IDVerificationState=xn({},t.payload)},setIDVPage:function(e,t){e.IDVerificationState.page=t.payload},setLoading:function(e,t){e.loading=t.payload}},extraReducers:function(e){e.addCase(Dn.pending,(function(e,t){var n=e.IDVerificationState.vendorVerificationData;n.loading=!0,e.IDVerificationState=xn(xn({},e.IDVerificationState),{vendorVerificationData:n,loading:!0})})).addCase(Dn.fulfilled,(function(e,t){var n=t.payload,r=n.daysUntilNextVerification,o=t.meta.arg,a=null;n.loading=!1,null!=r&&r>0&&(a=sn(It.TEMP_BAN,["Label.FailedVerificationInvalidDocument"])),e.IDVerificationState=xn(xn({},e.IDVerificationState),{vendorVerificationData:n,completionPageState:a,loading:!1,isAgeEstimation:o})})).addCase(Dn.rejected,(function(e,t){var n=e.IDVerificationState.vendorVerificationData;n.loading=!1,e.IDVerificationState=xn(xn({},e.IDVerificationState),{vendorVerificationData:n,loading:!1,error:t.error.message||"Something went wrong"})})).addCase(On.pending,(function(e){e.IDVerificationState=xn(xn({},e.IDVerificationState),{loading:!0})})).addCase(On.fulfilled,(function(e,t){if(e.IDVerificationState.isAgeEstimation){var n=t.payload;e.IDVerificationState=xn(xn({},e.IDVerificationState),{loading:!1,status:n})}else{n=t.payload;var r=void 0,o=e.IDVerificationState.page;switch(n.sessionStatus){case At.RequiresRetry:case At.Failure:switch(o=xt.Complete,n.sessionErrorCode){case Pt.InvalidDocument:case Pt.BelowMinimumAge:r=sn(It.FAILURE,["Label.FailedVerificationInvalidDocument"]);break;case Pt.LowQualityMedia:case Pt.InvalidSelfie:r=sn(It.FAILURE,["Label.FailedVerificationLowQuality"]);break;case Pt.DocumentUnsupported:r=sn(It.FAILURE,["Label.FailedVerificationUnsupportedDocument"]);break;default:r=sn(It.FAILURE)}break;case At.RequiresManualReview:o=xt.Complete,r=sn(It.PENDING);break;case At.Success:case At.Stored:o=xt.Complete,r=sn(It.SUCCESS_GENERIC);break;case At.Started:o=xt.Checklist,Ut(Et.VerificationStarted,Ct.GovernmentId,{session:e.IDVerificationState.vendorVerificationData.sessionIdentifier});break;case At.Submitted:Ut(Et.verificationInProgress,Ct.GovernmentId,{session:e.IDVerificationState.vendorVerificationData.sessionIdentifier})}e.IDVerificationState=xn(xn({},e.IDVerificationState),{loading:!1,status:n,completionPageState:r,page:o})}})).addCase(On.rejected,(function(e,t){e.IDVerificationState=xn(xn({},e.IDVerificationState),{loading:!1,error:t.error.message||"Something went wrong"})}))}}),Un=(Dt=Mn.actions).resetVerificationStore,Vn=(Dt.setVerified,Dt.setIDVerificationState,Dt.setIDVPage,Dt.setLoading),jn=Mn.reducer,Rn=(r.EnvironmentUrls.apiGatewayUrl,r.EnvironmentUrls.accountSettingsApi),Fn=(r.EnvironmentUrls.voiceApi,function(){return{retryable:!0,withCredentials:!0,url:Rn+"/v1/email"}}),Ln=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Bn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},_n={emailAddress:null,isEmailVerified:!1,isEmailAdded:!1,loading:!1,error:!1},Wn=ft("emailVerification/updateUserEmail",(function(e,t){return Ln(void 0,void 0,void 0,(function(){var n;return Bn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(o={emailAddress:e},a=Fn(),i.httpService.post(a,o).then((function(){return!0})).catch((function(e){throw new Error("Error to update email address: "+JSON.stringify(e))})))];case 1:return[2,r.sent()];case 2:return n=r.sent(),Ut(Et.EmailUpdateFailed,Ct.AddedEmail,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to update email address")];case 3:return[2]}var o,a}))}))})),qn=ft("emailVerification/getUserEmailStatus",(function(e,t){return Ln(void 0,void 0,void 0,(function(){var e;return Bn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(r=Fn(),i.httpService.get(r).then((function(e){return e.data})).catch((function(e){throw new Error("Error to get email address: "+JSON.stringify(e))})))];case 1:return[2,n.sent()];case 2:return e=n.sent(),Ut(Et.EmailUpdateFailed,Ct.AddedEmail,{error:JSON.stringify(e)}),[2,t.rejectWithValue("Failed to fetch email address")];case 3:return[2]}var r}))}))})),Hn=it({name:"emailVerification",initialState:_n,reducers:{resetEmailVerificationStore:function(){return _n},setUserEmailData:function(e,t){e.emailAddress=t.payload}},extraReducers:function(e){e.addCase(Wn.pending,(function(e){e.loading=!0})).addCase(Wn.fulfilled,(function(e,t){e.isEmailAdded=!0,e.loading=!1})).addCase(Wn.rejected,(function(e,t){e.loading=!1,e.error=!0})).addCase(qn.pending,(function(e){e.loading=!0})).addCase(qn.fulfilled,(function(e,t){var n=t.payload;e.emailAddress=n.emailAddress,e.isEmailVerified=n.isEmailVerified,e.loading=!1})).addCase(qn.rejected,(function(e){e.loading=!1}))}}),zn=(Ot=Hn.actions).resetEmailVerificationStore,Kn=(Ot.setUserEmailData,function(e){return e.emailVerification}),Gn=function(e){var t,n=rt(),r=e||{},o=r.reducer,a=void 0===o?void 0:o,i=r.middleware,l=void 0===i?n():i,c=r.devTools,u=void 0===c||c,s=r.preloadedState,d=void 0===s?void 0:s,f=r.enhancers,p=void 0===f?void 0:f;if("function"==typeof a)t=a;else{if(!Ze(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,Ue.combineReducers)(a)}var m=l;"function"==typeof m&&(m=m(n));var y=Ue.applyMiddleware.apply(void 0,m),v=Ue.compose;u&&(v=Qe(Ye({trace:!1},"object"===Re(u)&&u)));var h=new tt(y),b=h;Array.isArray(p)?b=_e([y],p):"function"==typeof p&&(b=p(h));var g=v.apply(void 0,b);return(0,Ue.createStore)(t,d,g)}({reducer:{accessManagement:an,verification:jn,emailVerification:Hn.reducer}}),$n=function(){return D()},Yn="StartAccessManagementUpsell",Jn={Continue:"Action.Continue",Cancel:"Action.Cancel",EmailMyParent:"Action.EmailMyParent",VerifyID:"Action.VerifyID",AskNow:"Action.AskNowLowercase"},Xn={AskYourParent:"Title.AskYourParent",VerifyYourAge:"Title.VerifyYourAge",CheckYourAge:"Title.CheckYourAge"},Qn={Vpc:"Description.PrologueTextVpc",Idv:"Description.PrologueTextIdv",Fae:"Description.PrologueTextFae",IdvConnectingText:"Description.PrologueConnectingTextIdv",IdvAndVpc:"Description.PrologueTextIdvAndVpc",IdvAndVpcAgeCorrection:"Description.PrologueIdvAndVpcAgeCorrection",VpcEnablePurchase:"Description.PrologueEnablePurchase",VpcEnablePurchaseExpT1:"Description.PrologueEnablePurchaseExpT1",VpcUnblockUser:"Description.PrologueUnblockUser",VpcUnblockExperience:"Description.PrologueUnblockExperience",VpcAllowFacialAgeEstimation:"Description.CommsAgeCheck.VPCForFAEModal",VpcContentAgeRestriction:"Description.PrologueJoinExperience",VpcWhisperChatWithMeInExperiences:"Description.CommsAgeCheck.VPCForExperienceDirectChatModal",VpcExperienceChat:"Description.CommsAgeCheck.VPCForExperienceChatModal",VpcStudioCollaboration:"Description.CommsAgeCheck.VPCForStudioCollaborationModal",FaeExperienceChat:"Description.CommsAgeCheck.FaeForExperienceChatModal",FaeExperienceWhisperChat:"Description.CommsAgeCheck.FaeForExperienceWhisperChatModal",FaeStudioCollaboration:"Description.CommsAgeCheck.FaeForStudioCollaborationModal",PrologueFetchParentExperiment:"Description.PrologueFetchParentExperiment"},Zn={LearnMore:"Action.LearnMore"},er={VerifyYourAge:"Title.VerifyYourAge"},tr={VpcNotEligible:"Description.PrologueTextVpcNotEligible"},nr=Mt.eventStreamService.eventTypes,rr="ageVerification",or={emailRegex:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",translationKeys:{addEmailToAccountKeys:{btnText:"Action.Continue",ActionChangeEmail:"Action.ChangeEmail",ActionSent:"Action.Sent",ActionContinue:"Action.Continue",ActionGenericSkip:"Action.GenericSkip",DescriptionAddEmailTextOver13:"Description.IDVerificationAddEmailText",DescriptionAddEmailTextUnder13:"Description.IDVerificationAddEmailText",HeadingAddEmail:"Heading.AddEmail",LabelEmailInputPlaceholderOver13:"Label.EmailInputPlaceholderOver13",LabelEmailInputPlaceholderUnder13:"Label.EmailInputPlaceholderUnder13",MessageInvalidEmailAddress:"Message.InvalidEmailAddress"}},events:{showAddEmailModal:{name:"showAddEmailModal",type:nr.modalAction,context:rr,params:{aType:"shown",field:"addEmail"}},useAddEmailField:{name:"useAddEmailField",type:nr.formInteraction,context:rr,params:{btn:"emailAddress",field:"addEmail"}},addEmailConfirm:{name:"addEmailConfirm",type:nr.buttonClick,context:rr,params:{btn:"continue",field:"addEmail"}}}},ar=function(){return ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ar.apply(this,arguments)},ir=or.events,lr={useAddEmailToAccountEvent:function(e){var t=ir.useAddEmailField;Mt.eventStreamService.sendEventWithTarget(t.type,t.context,ar(ar({},t.params),{origin:e}))},addEmailToAccountEvent:function(e){var t=ir.addEmailConfirm;Mt.eventStreamService.sendEventWithTarget(t.type,t.context,ar(ar({},t.params),{origin:e}))}},cr=function(n,r){var o=$n(),a=(0,e.useState)(!1),i=a[0],l=a[1],c=(0,e.useState)(!1),u=c[0],s=(c[1],(0,e.useState)(!0)),d=s[0],f=s[1],p=(0,e.useState)(""),m=p[0],y=p[1],v=(0,e.useState)(""),h=v[0],b=v[1],g=(0,e.useMemo)((function(){return{open:function(){return l(!0)},close:function(){o(zn()),l(!1)}}}),[]),S=or.emailRegex,E=or.translationKeys.addEmailToAccountKeys,w=(0,e.useState)(""),C=w[0],k=w[1],x=new RegExp(S),A=function(){o(zn()),l(!1),r()},P=function(e){y(e),k("");var t,r=(t=e,x.test(t)?C?n(C):"":n(E.MessageInvalidEmailAddress));b(r),f(u||e.length<=0||r.length>0)},I=t().createElement(t().Fragment,null,t().createElement("div",{className:"email-upsell-image"}),t().createElement("p",{className:"email-upsell-text-body"},n(E.DescriptionAddEmailTextOver13,{emailAddress:m})),t().createElement("input",{id:"email-upsell-modal-input",type:"email",autoComplete:"email",className:(h?"input-field-error":"")+" form-control input-field email-upsell-modal-input",placeholder:n(E.LabelEmailInputPlaceholderOver13),value:m,onFocus:function(){return lr.useAddEmailToAccountEvent("")},onChange:function(e){return P(e.target.value)}}),h&&t().createElement("p",{className:"text-error modal-error-message"},n(h)));return[t().createElement(O.Modal,{show:i,onHide:A,backdrop:!0,className:"mail-upsell-android-modal",size:"sm","aria-labelledby":"contained-modal-title-vcenter",scrollable:"true",centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"email-upsell-title-container"},t().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:A},t().createElement("span",{className:"close icon-close"})),t().createElement(O.Modal.Title,{id:"contained-modal-title-vcenter"},n(E.HeadingAddEmail)))),t().createElement(O.Modal.Body,null,I),t().createElement(O.Modal.Footer,null,t().createElement(O.Button,{className:"modal-button email-upsell-btn",variant:O.Button.variants.cta,size:O.Button.sizes.medium,isDisabled:d,onClick:function(){k(""),o(Wn(m))}},n(E.btnText)))),g]},ur=(0,c.withTranslations)((function(n){var r=n.translate,o=n.onHide,a=$n(),i=w(Kn),l=w(Qt),c=w(Zt),u=cr(r,o),s=u[0],d=u[1];return(0,e.useEffect)((function(){d.open()}),[]),(0,e.useEffect)((function(){i.error&&(d.close(),o())}),[d,i]),(0,e.useEffect)((function(){i.isEmailAdded&&(d.close(),a(_t({featureName:l,ampFeatureCheckData:c,successfulAction:"AddedEmail"})))}),[i]),t().createElement("div",null,s)}),{common:["CommonUI.Controls"],feature:"Feature.VerificationUpsell"}),sr=n(373),dr=n.n(sr);function fr(e){var t;if(e){var n=null!==(t=r.DeviceMeta&&(0,r.DeviceMeta)().isIosApp)&&void 0!==t&&t?"_blank":"_self",o=(new r.Intl).getLocale(),a=e;if(o&&(a=e+"&language="+o),"_blank"===n){var i=window.open(a,"_blank");i&&(i.opener=null)}else window.location.href=a}}var pr=function(){return t().createElement(O.Loading,null)},mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mr.apply(this,arguments)};function yr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function vr(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=vr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var hr=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=vr(e))&&(r&&(r+=" "),r+=t);return r},br={XSmall:"size-[var(--icon-size-xsmall)]",Small:"size-[var(--icon-size-small)]",Medium:"size-[var(--icon-size-medium)]",Large:"size-[var(--icon-size-large)]",XLarge:"size-[var(--icon-size-xlarge)]"},gr=t().forwardRef((function(e,n){var r=e.name,o=e.size,a=void 0===o?"Medium":o,i=e.className;e.children;var l=yr(e,["name","size","className","children"]);return t().createElement("span",mr({ref:n,role:"presentation",className:hr("grow-0 shrink-0 basis-auto icon",r,br[a],i)},l))}));gr.displayName="Icon";var Sr=function(e){var n=e.translate,o=e.onHide,a=e.onButtonClick,i=w(Tn),l=i.vendorVerificationData,c=i.isAgeEstimation,u=l.loading,s=l.verificationLink||"",d=(new r.Intl).getLocale(),f=s&&d?s+"&language="+d:s,p=n(c?fn:dn),m=n(c?bn:gn),y=n(c?En:Sn);return t().createElement(t().Fragment,null,u?t().createElement(O.Loading,null):t().createElement(O.Modal.Body,{className:"verification-link-page-content verification-link-page-content-no-padding"},t().createElement("div",{className:"new-verification-link-page-content-header"},t().createElement("button",{type:"button",className:"verification-close-button",onClick:o},t().createElement("span",{className:"icon-close"})),t().createElement("div",{className:"new-verification-link-upsell"},t().createElement("h3",{className:"new-age-verification-title"},p)),t().createElement("div",{className:"new-verification-link-description"},m)),t().createElement("div",{className:"new-verification-link-page-content-body"},t().createElement("a",{href:f,target:"_blank",rel:"noreferrer"},t().createElement(O.Button,{onClick:function(){a&&a()},className:"primary-link",variant:O.Button.variants.primary,size:O.Button.sizes.medium,width:O.Button.widths.full},t().createElement("span",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"}},t().createElement(gr,{name:"icon-regular-arrow-up-right-from-square",size:"Small"}),n(mn)))),t().createElement("p",{className:"new-verification-link-legal"},y))))};var Er=function(e){var n=e.translate,r=e.onHide,o=w(Tn),a=o.completionPageState,i=o.status,l=o.vendorVerificationData.daysUntilNextVerification,c=a.heading,u=a.bodyText,s=a.icon,d=a.footerText,f=a.buttonText,p=i.sessionStatus===At.Failure;return t().createElement(t().Fragment,null,t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"email-upsell-title-container"},t().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:r},t().createElement("span",{className:"close icon-close"})),t().createElement(O.Modal.Title,{id:"contained-modal-title-vcenter"},n(c)))),t().createElement(O.Modal.Body,null,s&&t().createElement("div",{className:s}),t().createElement("ul",{className:p?"content-list error-text":"content-list"},u.map((function(e){return t().createElement("li",null,n(e,{age:18,days:l}))})))),t().createElement(O.Modal.Footer,null,d&&t().createElement("p",{className:"small"},t().createElement("b",null,n(d))),t().createElement("span",{key:f},t().createElement(O.Button,{className:"button-stack-button primary-link",variant:O.Button.variants.primary,size:O.Button.sizes.medium,onClick:r},n(f)))))};var wr=function(e){var n=e.translate,r=e.onHide,o=w(Tn),a=o.status,i=o.vendorVerificationData,l=a.sessionStatus,c=un.findIndex((function(e){return e.statusCode.includes(l)}));return t().createElement(t().Fragment,null,t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"email-upsell-title-container"},t().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:r},t().createElement("span",{className:"close icon-close"})),t().createElement(O.Modal.Title,{id:"contained-modal-title-vcenter"},n("Heading.IdentityVerification")))),t().createElement(O.Modal.Body,{className:"verification-checklist-page-content"},t().createElement("div",{className:"cta"},n(l===At.Success||l===At.Stored||l===At.Submitted?vn:hn)),t().createElement("ul",{className:"checklist-wrapper"},un.map((function(e,r){return r<=c?t().createElement("li",{className:"checklist-item"},t().createElement("span",{className:"check-wrapper"},t().createElement("span",{className:r===c?"spinner spinner-sm":"icon-checkmark"})),t().createElement("span",{className:"checklist-text"},n(e.label))):null}))),t().createElement("a",{href:i.verificationLink,target:"_blank",rel:"noreferrer"},t().createElement(O.Button,{onClick:function(){Ut(Et.VerificationStarted,Ct.GovernmentId,{session:i.sessionIdentifier})},className:"primary-link",variant:O.Button.variants.primary,size:O.Button.sizes.medium,width:O.Button.widths.full},n(pn))),t().createElement("div",{className:"footer-text"},n(yn))))},Cr=function(){return Cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cr.apply(this,arguments)},kr=18e5;var xr=function(n){var o,a,i=n.translate,l=n.onHidecallback,u=n.ageEstimation,s=n.featureSpecificParams,d=(0,e.useRef)(Number(new Date)+kr),f=$n(),p=w(Tn),m=w(Nn),y=w(Qt),v=w(Zt),h=w(Tn).page,b=(0,e.useRef)(h),g=(0,e.useRef)(!1),S=(0,e.useRef)(!1),E=(0,e.useRef)(null),C=null!==(o=r.DeviceMeta&&(0,r.DeviceMeta)().isInApp)&&void 0!==o&&o,k=null!==(a=r.DeviceMeta&&(0,r.DeviceMeta)().isIosApp)&&void 0!==a&&a,x=p.vendorVerificationData,A=x.sessionIdentifier,P=x.verificationLink,I=(0,c.useTheme)();function T(){f(Un()),clearTimeout(E.current),l()}(0,e.useEffect)((function(){return f(Vn(!0)),f(Dn(u)),C&&(d.current=Number(new Date)+kr),function(){E.current&&clearTimeout(E.current)}}),[]);var N=null;if(C||h===xt.Complete)switch(h){case xt.VendorLink:N=P&&k?t().createElement(Sr,{translate:i,onHide:T}):t().createElement(pr,null);break;case xt.Checklist:N=t().createElement(wr,{translate:i,onHide:T});break;case xt.Complete:N=t().createElement(Er,{translate:i,onHide:T});break;default:N=!0===(null==s?void 0:s.hideIDVPrologue)?t().createElement(pr,null):t().createElement(Sr,{translate:i,onHide:T})}return(0,e.useEffect)((function(){C&&(k||A&&null!=P&&!S.current&&!0===(null==s?void 0:s.hideIDVPrologue)&&(S.current=!0,fr(P)))}),[C,k,A,P,null==s?void 0:s.hideIDVPrologue]),(0,e.useEffect)((function(){C&&!p.loading&&null!=x.verificationLink&&p.page!==xt.Complete&&Number(new Date)<d.current&&setTimeout((function(){f(On(x.sessionIdentifier))}),1e4)}),[p]),(0,e.useEffect)((function(){h===xt.Complete&&f(_t({featureName:y,ampFeatureCheckData:v}))}),[h]),(0,e.useEffect)((function(){if(!C&&A)var e=(new r.Intl).getLocale(),t=new(dr().Client)(Cr(Cr({inquiryId:A,styleVariant:I||"dark"},e&&{language:e}),{onReady:function(){t.open(),f(Vn(!1))},onComplete:function(e){e.inquiryId,e.status,e.fields;if(!g.current){f(Vn(!0)),g.current=!0;var t=setInterval((function(){b.current!==xt.Complete&&f(On(A))}),5e3);E.current=setTimeout((function(){clearInterval(t),f(Vn(!1))}),3e4)}},onCancel:function(e){e.inquiryId,e.sessionToken;T()},onError:function(e){f(On(x.sessionIdentifier)),console.error(e)}}))}),[A]),t().createElement(t().Fragment,null,C||h===xt.Complete?N:m&&t().createElement(pr,null))},Ar={eventName:{authPageLoad:"authPageload",authButtonClick:"authButtonClick",authFormInteraction:"authFormInteraction",authMsgShown:"authMsgShown",authModalShown:"authModalShown"},state:{sessionId:"sessionId"},field:{webEmbededFaeStart:"webEmbededFaeStart",webEmbededFaeError:"webEmbededFaeError",webEmbededFaeCancel:"webEmbededFaeCancel",webFaeStatus:"webFaeStatus",webHostedFaeStart:"webHostedFaeStart"},btn:{cancelFae:"cancelFae"},text:{}},Pr=function(e,t,n){try{Mt.eventStreamService.sendEventWithTarget(e,t,n)}catch(e){}},Ir=function(e,t,n){Pr(Ar.eventName.authPageLoad,e,{state:t,origin:n,os_time:Date.now()})},Tr=function(){return Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tr.apply(this,arguments)},Nr=18e5,Dr="AgeEstimation";var Or=function(n){var o,a,i,l=n.translate,u=n.onHidecallback,s=n.ageEstimation,d=n.featureSpecificParams,f=$n(),p=w(Tn),m=w(Nn),y=w(Qt),v=w(on),h=w(Zt),b=w(en),g=p.vendorVerificationData,S=p.status,E=(d||{}).context,C=void 0===E?"defaultContext":E,k=(0,e.useRef)(!1),x=(0,e.useRef)(null),A=(0,e.useRef)(null),P=(0,e.useRef)(null),I=(0,e.useRef)(0),T=(0,e.useRef)(!1),N=(0,e.useRef)(Number(new Date)+Nr),D=(0,e.useRef)(S);D.current=S;var O=(0,e.useRef)(b);O.current=b;var M=(0,e.useRef)(null),U=g.sessionIdentifier,V=g.verificationLink,j=(0,c.useTheme)(),R=null!==(o=r.DeviceMeta&&(0,r.DeviceMeta)().isInApp)&&void 0!==o&&o,F=null!==(a=r.DeviceMeta&&(0,r.DeviceMeta)().isIosApp)&&void 0!==a&&a,L=null!==(i=r.DeviceMeta&&(0,r.DeviceMeta)().isAndroidApp)&&void 0!==i&&i,B=R?Tt.Hosted:Tt.Embedded,_=function(){x.current&&(clearInterval(x.current),x.current=null)},W=function(){P.current&&(clearInterval(P.current),P.current=null)};function q(e){return!!e&&(e.sessionStatus===At.Stored||e.sessionStatus===At.RequiresRetry||e.sessionStatus===At.Failure)}function H(){_(),W(),f(Un()),clearTimeout(A.current)}function z(){H(),u()}function K(){if(!T.current){T.current=!0,I.current=Number(new Date)+1e4,f(Vn(!0)),function(e,t,n,r){Pr(Ar.eventName.authMsgShown,e,{state:t,field:n,errorCode:r})}(C,U,Ar.field.webFaeStatus,At[S.sessionStatus]);var e=function(){f(_t({featureName:y,ampFeatureCheckData:h,namespace:v,successfulAction:Dr}))};e();var t=setInterval((function(){var n,r,o,a=O.current,i=(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.access)===gt.Actionable,l=null===(o=null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.recourses)||void 0===o?void 0:o.find((function(e){return e.action===Dr})),c=Number(new Date)>=I.current;l?!i||c?(clearInterval(t),P.current=null,f(Vn(!1)),z()):e():(clearInterval(t),P.current=null,f(Vn(!1)),H())}),1e3);P.current=t}}function G(){var e=(new r.Intl).getLocale();M.current=new(dr().Client)(Tr(Tr({inquiryId:U,styleVariant:j||"dark"},e&&{language:e}),{onReady:function(){var e;null===(e=M.current)||void 0===e||e.open(),function(e,t,n){Pr(Ar.eventName.authModalShown,e,{state:t,field:n,os_time:Date.now()})}(C,U,Ar.field.webEmbededFaeStart),f(Vn(!1))},onComplete:function(e){e.inquiryId,e.status,e.fields;if(!k.current){f(Vn(!0)),k.current=!0;var t=setInterval((function(){q(D.current)?clearInterval(t):f(On(U))}),2e3);A.current=setTimeout((function(){clearInterval(t),f(Un()),z()}),3e4)}},onCancel:function(e){var t=e.inquiryId;e.sessionToken;!function(e,t,n,r){Pr(Ar.eventName.authButtonClick,e,{btn:n,state:t,origin:r,os_time:Date.now()})}(C,t,Ar.btn.cancelFae,Ar.field.webEmbededFaeCancel),z()},onError:function(e){f(On(g.sessionIdentifier)),function(e,t,n){Pr(Ar.eventName.authFormInteraction,e,{state:t,field:n})}(C,U,Ar.field.webEmbededFaeError),console.error(e)}}))}return(0,e.useEffect)((function(){return f(Vn(!0)),f(Dn(s)),B===Tt.Embedded&&dr().Client.preload().catch((function(e){console.error("Failed to preload Persona client:",e)})),B===Tt.Hosted&&(N.current=Number(new Date)+Nr),function(){H(),_(),M.current&&(M.current.destroy(),M.current=null)}}),[]),(0,e.useEffect)((function(){B===Tt.Embedded&&U?G():B===Tt.Hosted&&U&&null!=V&&function(){var e=F||L;e&&g.verificationLink&&f(Vn(!1));var t=setInterval((function(){Number(new Date)<N.current?f(On(g.sessionIdentifier)):(clearInterval(t),u())}),1e4);x.current=t,g.verificationLink&&!e&&(Ir(C,U,Ar.field.webHostedFaeStart),fr(g.verificationLink))}()}),[U,V]),(0,e.useEffect)((function(){q(S)&&K()}),[S]),(0,e.useEffect)((function(){var e;if(T.current&&!(null==b?void 0:b.loading)){var t=null===(e=null==b?void 0:b.data)||void 0===e?void 0:e.access;P.current&&t&&t!==gt.Actionable&&(W(),f(Vn(!1)),z())}}),[b]),t().createElement(t().Fragment,null,m?t().createElement(pr,null):R&&(F||L)&&V?t().createElement(Sr,{translate:l,onHide:z,onButtonClick:function(){Ir(C,U,Ar.field.webHostedFaeStart)}}):null)},Mr=n(870),Ur=n.n(Mr),Vr=function(n){var r=n.translate,o=n.title,a=n.body,i=n.actionButtonTranslateKey,l=void 0===i?"":i,c=n.neutralButtonTranslateKey,u=n.footer,s=n.size,d=void 0===s?"sm":s,f=n.onAction,p=n.disableActionButton,m=n.disabledNeutralButton,y=n.dualActionButton,v=void 0!==y&&y,h=n.onHide,b=void 0===h?function(){}:h,g=n.onNeutral,S=(0,e.useState)(!1),E=S[0],w=S[1],C=(0,e.useMemo)((function(){return{open:function(){return w(!0)},close:function(){return w(!1)}}}),[]),k=Ur()({"modal-half-width-button":c,"modal-full-width-button":!c});return[t().createElement(O.Modal,{show:E,onHide:function(){C.close(),b()},backdrop:!0,className:"access-management-upsell-inner-modal",size:d,"aria-labelledby":"access-management-upsell-inner-modal-title",scrollable:!0,centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"access-management-upsell-inner-modal-title-container"},t().createElement(O.Modal.Title,{id:"access-management-upsell-inner-modal-title"},o)),t().createElement("button",{type:"button",className:"close close-button",onClick:function(){C.close(),b()}},t().createElement("span",{className:"icon-close"}))),t().createElement(O.Modal.Body,null,a),t().createElement(O.Modal.Footer,null,l&&t().createElement(O.Button,{className:k,variant:O.Button.variants.primary,size:O.Button.sizes.medium,isDisabled:p,onClick:function(){null==f||f(),C.close()}},r(l)),c&&t().createElement(O.Button,{className:k,variant:v?O.Button.variants.primary:O.Button.variants.secondary,size:O.Button.sizes.medium,isDisabled:m,onClick:function(){null==g||g(),C.close()}},r(c))),u&&t().createElement("div",{className:"text-footer access-management-upsell-inner-modal-text-footer border-top"},u)),C]},jr={U13To18:"U13To18",U13To1318:"U13To1318",U13ToU13:"U13ToU13",U13ToU13NotEligible:"U13ToU13NotEligible"},Rr={IdvOrVpc:"Verify Your Age/Parent Permission Needed",VPC:"Parent Permission Needed",VpcNotEligible:"Parent Permission Not Eligible",AskYourParent:"Ask Your Parent",VerifyId:"Verify ID",EmailMyParent:"Email My Parent",AskNow:"Ask Now",Cancel:'X icon or "Cancel"'},Fr={VerifyId:"verifyId",EmailParent:"emailParent",verifyCancel:"verifyCancel",VpcNotEligibleModalClose:"vpcNotEligibleModalClose",VpcNotEligibleLearnMore:"vpcNotEligibleLearnMore"},Lr={SettingsAgeChangeVerify:"settingsAgeChangeVerify",SettingsAgeChangeVpcNotEligible:"settingsAgeChangeVpcNotEligible",UpdateSetting:"parentalEntrySettings"},Br={AuthPageload:"authPageload",AuthButtonClick:"authButtonClick"},_r=function(e,t){return""+(e?e+", ":"")+(t?"settingName: "+t+", ":"")};function Wr(e,t){"CanCorrectAge"===e&&Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.SettingsAgeChangeVerify,{btn:Fr.VerifyId,state:t?jr.U13To18:jr.U13To1318,associatedText:Rr.VerifyId})}function qr(e,t,n,r){"CanCorrectAge"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.SettingsAgeChangeVerify,{btn:Fr.EmailParent,state:t?jr.U13ToU13:jr.U13To1318,associatedText:Rr.EmailMyParent}):"CanChangeSetting"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.UpdateSetting,{btn:Fr.EmailParent,state:_r(void 0,n),associatedText:Rr.EmailMyParent}):"CanRemoveParentManagedUserBlocks"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.UpdateSetting,{btn:Fr.EmailParent,state:"unblockUser "+(null==r?void 0:r.friendUserId),associatedText:Rr.AskNow}):"CanRemoveParentManagedExperienceBlocks"===e&&Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.UpdateSetting,{btn:Fr.EmailParent,state:"unblockExperience "+(null==r?void 0:r.universeId),associatedText:Rr.AskNow})}function Hr(e){var t;switch(e){case"Idv":t=jr.U13To18;break;case"Vpc":t=jr.U13ToU13;break;case"IdvOrVpc":t=jr.U13To1318;break;case"VpcNotEligible":t=jr.U13ToU13NotEligible}return t}function zr(e,t,n,r){if("CanCorrectAge"===e){var o=Hr(t);Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.SettingsAgeChangeVerify,{btn:Fr.verifyCancel,state:o,associatedText:Rr.Cancel})}else"CanChangeSetting"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.UpdateSetting,{btn:Fr.verifyCancel,state:_r(void 0,n),associatedText:Rr.Cancel}):"CanRemoveParentManagedUserBlocks"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.UpdateSetting,{btn:Fr.verifyCancel,state:"unblockUser "+(null==r?void 0:r.friendUserId),associatedText:Rr.Cancel}):"CanRemoveParentManagedExperienceBlocks"===e&&Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.UpdateSetting,{btn:Fr.verifyCancel,state:"unblockExperience "+(null==r?void 0:r.universeId),associatedText:Rr.Cancel})}function Kr(e,t,n,r){if("CanCorrectAge"===e){var o=Hr(t);Mt.eventStreamService.sendEventWithTarget(Br.AuthPageload,Lr.SettingsAgeChangeVerify,{state:o,associatedText:Rr.IdvOrVpc})}else"CanChangeSetting"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthPageload,Lr.UpdateSetting,{state:_r(void 0,n),associatedText:Rr.VPC}):"CanRemoveParentManagedUserBlocks"===e?Mt.eventStreamService.sendEventWithTarget(Br.AuthPageload,Lr.UpdateSetting,{state:"unblockUser "+(null==r?void 0:r.friendUserId),associatedText:Rr.AskYourParent}):"CanRemoveParentManagedExperienceBlocks"===e&&Mt.eventStreamService.sendEventWithTarget(Br.AuthPageload,Lr.UpdateSetting,{state:"unblockExperience "+(null==r?void 0:r.experienceId),associatedText:Rr.AskYourParent})}var Gr,$r=function(n){var r=n.translate,o=n.onHide,a=w(Qt),i=r(er.VerifyYourAge),l=t().createElement("div",null,t().createElement("div",{className:"text-description"},r(tr.VpcNotEligible))),c=Vr({translate:r,title:i,body:l,actionButtonTranslateKey:Zn.LearnMore,onAction:function(){!function(e){"CanCorrectAge"===e&&Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.SettingsAgeChangeVpcNotEligible,{btn:Fr.VpcNotEligibleLearnMore,state:jr.U13ToU13,associatedText:Rr.VpcNotEligible})}(a),window.open("https://help.roblox.com/hc/articles/30428367965460","_blank")},size:"sm",onHide:function(){o(),function(e){"CanCorrectAge"===e&&Mt.eventStreamService.sendEventWithTarget(Br.AuthButtonClick,Lr.SettingsAgeChangeVpcNotEligible,{btn:Fr.VpcNotEligibleModalClose,state:jr.U13ToU13,associatedText:Rr.VpcNotEligible})}(a),s.close()}}),u=c[0],s=c[1];return(0,e.useEffect)((function(){s.open(),Kr(a,"VpcNotEligible")}),[a,s]),[u,s]},Yr=function(t){var n,r,o=t.translate,a=t.onHide,i=[null,null],l=i[0],c=i[1],u=w(en);if("CanCorrectAge"===(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.featureName))l=(n=$r({translate:o,onHide:a}))[0],c=n[1];return(0,e.useEffect)((function(){c.open()}),[l,c]),l},Jr=r.EnvironmentUrls.apiGatewayUrl+"/child-requests-api/v1/send-request-to-new-parent",Xr=r.EnvironmentUrls.apiGatewayUrl+"/child-requests-api/v1/send-request-to-all-parents",Qr=r.EnvironmentUrls.userSettingsApi+"/v1/account-insights/parent-emails",Zr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},eo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},to={sendRequestToNewParent:function(e){return Zr(void 0,void 0,Promise,(function(){var t,n,r,o;return eo(this,(function(a){switch(a.label){case 0:return t={url:Jr,withCredentials:!0},n=e.requestDetails,[4,i.httpService.post(t,e)];case 1:return r=a.sent(),n&&(o=Object.keys(n)[0],Mt.localStorageService.setLocalStorage("Roblox.ParentalRequest."+o+"CooldownExpirationTime",r.data.lockedUntil)),[2,r.data]}}))}))},sendRequestToAllParents:function(e){return Zr(void 0,void 0,Promise,(function(){var t,n,r,o;return eo(this,(function(a){switch(a.label){case 0:return t={url:Xr,withCredentials:!0},n=e.requestDetails,[4,i.httpService.post(t,e)];case 1:return r=a.sent(),n&&(o=Object.keys(n)[0],Mt.localStorageService.setLocalStorage("Roblox.ParentalRequest."+o+"CooldownExpirationTime",r.data.lockedUntil)),[2,r.data]}}))}))}},no=to,ro={privacyPolicyUrl:r.EnvironmentUrls.websiteUrl+"/info/privacy",chargebackWizardSessionTokenLocalStorageKey:"Roblox.ChargebackWizardSessionToken",defaultCooldownTimeInMs:9e5,emailRegex:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",isChildSubjectToPCFeatureName:"IsChildSubjectToParentalControls",translationKeys:{gatherParentEmail:{title:"Title.EnterParentEmailV2",permissionNeededTitle:"Title.PermissionNeeded",askYourParentTitle:"Title.AskYourParent",body:"Description.EnterParentEmailV4",bodyWithPC:"Description.EnterParentEmailV5",combinedBody:"Description.EnterParentEmailExp",bodyWithoutPC:"Description.EnterParentEmailWithoutParentalControl",bodyForTeens:"Description.EnterParentEmailWithoutParentalControlV2",combinedBodyWithoutPC:"Description.EnterParentEmailExpWithoutParentalControl",combinedBodyExpT1:"Description.EnterParentEmailExpT1",combinedBodyWithoutPCExpT1:"Description.EnterParentEmailWithoutParentalControlExpT1",combinedBodyExpT3:"Description.EnterParentEmailExpT3",combinedBodyWithoutPCExpT3:"Description.EnterParentEmailWithoutParentalControlExpT3",footer:"Description.ParentalEmailFooter",unknownError:"Message.SomethingWentWrong",invalidEmailError:"Message.InvalidEmail",btnText:"Action.SendEmail",emailPlaceholder:"Label.EmailCapitalized",parentEmailLabel:"Label.ParentEmail",emailTooManyChildrenError:"Message.EmailIneligible",childTooManyParentsError:"Message.ExistAccountWithEmail",emailTooManyRequest:"Message.TooManyAttempts",senderFlooded:"Message.TooManyAttemptAskParent",alreadyApplied:"Description.AllSet",seeRequestAfterLink:"Message.RequestCreatedEmailNotSent",alreadyLinked:"Message.AlreadyLinked"},emailSentConfirmation:{title:"Title.RequestSent",oneParentBody:"Message.EmailSent",pluralParentBody:"Message.EmailSentPluralParent",emailNotSentBody:"Message.RequestCreatedEmailNotSent",btnText:"Action.OK"},exitWarning:{title:"Title.AreYouSure",body:"Description.ExitEnterEmail",actionBtnText:"Action.EnterEmail",neutralBtnText:"Action.Cancel"}},events:{chargebackContext:{parentalEntry:"parentalEntry",settingsAge:"settingsAgeChargeback",settingsRequestSent:"settingsChargebackRequestSent"},savePaymentMethodsContext:{parentalEntry:"parentalEntryDevsubs",settingsAge:"settingsAgeSavePaymentMethods",settingsRequestSent:"settingsSavePaymentMethodsRequestSent"},changeBirthdayContext:{parentalEntry:"parentalEntryAgeChange",settingsAge:"settingsAgeChangeBirthday",settingsRequestSent:"settingsAgeChangeVerifyRequestSent"},updateUserSettingContext:{parentalEntry:"parentalEntrySettings",settingsAge:"settingsAgeSettings",settingsRequestSent:"settingsRequestSent"},eventName:{authPageLoad:"authPageload",authButtonClick:"authButtonClick",authFormInteraction:"authFormInteraction",authMsgShown:"authMsgShown",authModalShown:"authModalShown"},state:{sessionId:"sessionId",unknown:"unknown",changeBirthday:{U13To18:"U13To18",U13To1318:"U13To1318",U13ToU13:"U13ToU13"}},field:{email:"email",errorMessage:"errorMessage",logoutPopup:"logoutPopup",parentalEmailMismatch:"parentalEmailMismatch"},btn:{verifyCancel:"verifyCancel",continue:"continue",submit:"submit"},text:{enterParentEmail:"Enter Parent's Email",sendEmail:"Send Email",submit:"Submit",ok:"OK",requestSent:"Request Sent"},vpc:"Vpc"},settingName:{enablePurchases:"enablePurchases"}};!function(e){e.Unknown="Unknown",e.InvalidUserID="InvalidUserID",e.InvalidParameter="InvalidParameter",e.ServiceUnavailable="ServiceUnavailable",e.NoLinkedParents="NoLinkedParents",e.ConsentAlreadyApplied="ConsentAlreadyApplied",e.SenderFlooded="SenderFlooded",e.ReceiverFlooded="ReceiverFlooded",e.SenderFloodedRequestCreated="SenderFloodedRequestCreated",e.IllegalState="IllegalState",e.InvalidEmailAddress="InvalidEmailAddress",e.EmailNotUnique="EmailNotUnique",e.LinkingIneligible="LinkingIneligible",e.AlreadyLinked="AlreadyLinked",e.ChildAtLinkLimit="ChildAtLinkLimit",e.ParentAtLinkLimit="ParentAtLinkLimit",e.UpdateUserSettingRequestInvalid="UpdateUserSettingRequestInvalid",e.ConsentAlreadyRequestedConflictingData="ConsentAlreadyRequestedConflictingData",e.ReceiverNotWhitelisted="ReceiverNotWhitelisted",e.InvalidComplianceFeature="InvalidComplianceFeature",e.ChildTooOld="ChildTooOld",e.UserForgotten="UserForgotten"}(Gr||(Gr={}));var oo,ao=Gr,io={data:{code:"UnknownError"}},lo=ro.translationKeys.gatherParentEmail,co=function(e){switch(e){case ao.ChildAtLinkLimit:return lo.childTooManyParentsError;case ao.ParentAtLinkLimit:return lo.emailTooManyChildrenError;case ao.SenderFlooded:return lo.senderFlooded;case ao.ReceiverFlooded:return lo.emailTooManyRequest;case ao.ConsentAlreadyApplied:return lo.alreadyApplied;case ao.AlreadyLinked:return lo.alreadyLinked;case ao.InvalidEmailAddress:return lo.invalidEmailError;default:return lo.unknownError}};!function(e){e.LiftPunishment="LiftPunishment",e.SavePaymentMethods="SavePaymentMethods",e.UpdateUserSetting="UpdateUserSetting",e.UpdateBirthdate="UpdateBirthdate",e.LinkToChild="LinkToChild",e.Unknown="Unknown"}(oo||(oo={}));var uo,so=oo;!function(e){e.Chargeback="Chargeback"}(uo||(uo={}));var fo,po=uo,mo=ro.events,yo=function(e,t,n,r){var o=n?n+", ":"",a=t?"sessionId: "+t+", ":"",i=r?"settingName: "+Object.keys(r)[0]+", ":"",l=r?Object.entries(r).map((function(e){var t=e[0],n=e[1];return t+": "+String(n)})).join(", "):"";return e===so.UpdateUserSetting?""+o+i+a:""+o+l+a},vo=function(e,t){var n;switch(e){case so.LiftPunishment:(null==t?void 0:t.punishmentType)===po.Chargeback&&(n=mo.chargebackContext);break;case so.SavePaymentMethods:n=mo.savePaymentMethodsContext;break;case so.UpdateBirthdate:n=mo.changeBirthdayContext;break;case so.UpdateUserSetting:n=mo.updateUserSettingContext;break;default:n=mo.chargebackContext}return n},ho=function(e,t,n){try{Mt.eventStreamService.sendEventWithTarget(e,t,n)}catch(e){}},bo=function(e){var t=e.requestType,n=e.sessionId,r=e.extraState,o=e.details,a=vo(t,o);ho(mo.eventName.authButtonClick,a.parentalEntry,{btn:mo.btn.continue,associatedText:mo.text.ok,state:yo(t,n,r,o)})},go={dateInUTCToBirthdate:function(e){var t=e.getUTCFullYear(),n=e.getUTCMonth()+1;return{birthDay:e.getUTCDate(),birthMonth:n,birthYear:t}},calculateAge:function(e){if(!e||!e.birthYear||0===e.birthYear)return 0;var t=new Date,n=go.dateInUTCToBirthdate(t);return n.birthDay-e.birthDay<0&&(n.birthMonth-=1),n.birthMonth-e.birthMonth<0&&(n.birthYear-=1),n.birthYear-e.birthYear},getAgeRange:function(e){var t=ro.events.state.changeBirthday,n=go.dateInUTCToBirthdate(e);return go.calculateAge(n)<13?t.U13ToU13:t.U13To1318}},So=go,Eo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},wo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Co=function(n){var r=n.translate,o=n.consentType,a=n.successCallBack,i=n.onHideCallback,l=n.value,c=void 0===l?null:l,u=(0,e.useState)(ro.translationKeys.gatherParentEmail.unknownError),s=u[0],d=u[1],f=ro.translationKeys.emailSentConfirmation,p=Vr({translate:r,title:r(ro.translationKeys.gatherParentEmail.unknownError),body:t().createElement("p",null,r(s)),actionButtonTranslateKey:f.btnText,onAction:function(){d(""),y.close(),i()},onHide:i}),m=p[0],y=p[1],v=function(){return Eo(void 0,void 0,void 0,(function(){var e,t,n,r,i,l,u,s;return wo(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,no.sendRequestToAllParents({requestType:o,requestDetails:c})];case 1:return e=f.sent(),t=null==c?void 0:c.newBirthdate,n=new Date(t),r=o===so.UpdateBirthdate?So.getAgeRange(n):void 0,function(e){var t=e.requestType,n=e.sessionId,r=e.extraState,o=e.details,a=vo(t,o);ho(mo.eventName.authPageLoad,a.settingsRequestSent,{state:yo(t,n,r,o),associatedText:mo.text.requestSent})}({requestType:o,extraState:r,sessionId:e.sessionId,details:c}),a(e.sessionId),[3,3];case 2:return i=f.sent(),l=null!==(s=i)&&void 0!==s?s:io,(u=co(l.data.code))===ao.SenderFloodedRequestCreated?a(l.data.sessionId,void 0,!0):(d(u),y.open()),[3,3];case 3:return[2]}}))}))};return(0,e.useEffect)((function(){v()}),[]),t().createElement("div",null,m)};!function(e){e.control="control",e.askYourParentTitle="askYourParentTitle",e.permissionNeededTitle="permissionNeededTitle",e.visualized="visualized",e.newPrologueNoVisual="newPrologueNoVisual",e.newPrologueVisual="newPrologueVisual",e.newOneScreenVisual="newOneScreenVisual"}(fo||(fo={}));var ko=fo,xo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ao=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Po={getVpcLaunchStatus:function(){return xo(void 0,void 0,Promise,(function(){return Ao(this,(function(e){return[2,r.Guac.callBehaviour("vpc-launch-status")]}))}))}},Io=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},To=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},No=function(n,r,o,a,i,l){var c=ro.privacyPolicyUrl,u=ro.chargebackWizardSessionTokenLocalStorageKey,s=ro.emailRegex,d=ro.translationKeys.gatherParentEmail,f=(0,e.useState)(!1),p=f[0],m=f[1],y=(0,e.useState)(!1),v=y[0],h=y[1],b=(0,e.useState)(!1),g=b[0],S=b[1],E=(0,e.useState)(!1),w=E[0],C=E[1],k=(0,e.useState)(""),x=k[0],A=k[1],P=(0,e.useState)(n(d.title)),I=P[0],T=P[1],N=(0,e.useState)(t().createElement("span",{dangerouslySetInnerHTML:{__html:n(d.bodyWithoutPC,{lineBreak:"<br /><br />"})}})),D=N[0],M=N[1],U=(0,e.useMemo)((function(){return{open:function(){return m(!0)},close:function(){return m(!1)}}}),[]),V=(0,e.useState)(""),j=V[0],R=V[1],F=(0,e.useMemo)((function(){if(r===so.UpdateUserSetting)return Object.keys(i)[0]}),[r,i]);(0,e.useEffect)((function(){Io(void 0,void 0,void 0,(function(){var e;return To(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,jt(ro.isChildSubjectToPCFeatureName)];case 1:return e=t.sent(),h(e.access===gt.Granted),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}),[]),(0,e.useEffect)((function(){Io(void 0,void 0,void 0,(function(){var e;return To(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Po.getVpcLaunchStatus()];case 1:return(e=t.sent().isTeenLaunchEnabled)&&S(e),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}),[]);var L=new RegExp(s),B=function(){return x.length>0&&!L.test(x)?n(d.invalidEmailError):j?n(j):""},_=function(){return Io(void 0,void 0,void 0,(function(){var e,t,n,a,l;return To(this,(function(c){switch(c.label){case 0:R(""),Mt.localStorageService.removeLocalStorage(u),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,no.sendRequestToNewParent({email:x,requestType:r,requestDetails:i})];case 2:return e=c.sent(),function(e){var t=e.requestType,n=e.sessionId,r=e.details,o=vo(t,r);ho(mo.eventName.authButtonClick,o.parentalEntry,{btn:mo.btn.submit,associatedText:mo.text.sendEmail,state:yo(t,n,void 0,r)})}({requestType:r,sessionId:e.sessionId,details:i}),C(!1),U.close(),o(e.sessionId,x),[3,4];case 3:return t=c.sent(),A(""),C(!1),n=null!==(l=t)&&void 0!==l?l:io,(a=co(n.data.code))===ao.SenderFloodedRequestCreated&&o(n.data.sessionId,void 0,!0),R(a),[3,4];case 4:return[2]}}))}))};(0,e.useEffect)((function(){var e=d.bodyWithoutPC;v&&g?e=d.bodyWithPC:v?e=d.body:g&&(e=d.bodyForTeens);var r=v?d.combinedBody:d.combinedBodyWithoutPC,o=v?d.combinedBodyExpT1:d.combinedBodyWithoutPCExpT1,a=v?d.combinedBodyExpT3:d.combinedBodyWithoutPCExpT3;if(F===ro.settingName.enablePurchases)switch(l){case ko.askYourParentTitle:return T(n(d.askYourParentTitle)),void M(t().createElement("span",null,t().createElement("span",null,n(Qn.VpcEnablePurchase)),t().createElement("br",null),t().createElement("br",null),t().createElement("span",null,n(r))));case ko.permissionNeededTitle:return T(n(d.permissionNeededTitle)),void M(t().createElement("span",null,t().createElement("span",null,n(Qn.VpcEnablePurchase)),t().createElement("br",null),t().createElement("br",null),t().createElement("span",null,n(r))));case ko.visualized:return T(n(d.askYourParentTitle)),void M(t().createElement("div",null,t().createElement("div",{className:"parent-email-image"}),t().createElement("span",null,n(Qn.VpcEnablePurchase)),t().createElement("br",null),t().createElement("br",null),t().createElement("span",null,n(r))));case ko.newOneScreenVisual:return T(n(d.askYourParentTitle)),void M(t().createElement("div",null,t().createElement("div",{className:"parent-email-image"}),t().createElement("span",null,n(a,{lineBreak:"<br /><br />"}))))}switch(l){case ko.newPrologueNoVisual:T(n(d.askYourParentTitle)),M(t().createElement("span",{dangerouslySetInnerHTML:{__html:n(o,{lineBreak:"<br /><br />"})}}));break;case ko.newPrologueVisual:T(n(d.askYourParentTitle)),M(t().createElement("div",null,t().createElement("div",{className:"parent-email-image"}),t().createElement("span",{dangerouslySetInnerHTML:{__html:n(o,{lineBreak:"<br /><br />"})}})));break;default:M(t().createElement("span",{dangerouslySetInnerHTML:{__html:n(e,{lineBreak:"<br /><br />"})}}))}}),[l,v,g,F]);var W=t().createElement(t().Fragment,null,t().createElement("div",{className:"parental-consent-modal-body"},D),t().createElement("form",{className:"form-horizontal",autoComplete:"off"},t().createElement("div",{id:"parent-email-container",className:"form-group"},t().createElement("label",{htmlFor:"parent-email-address",className:"form-control-label"},n(d.parentEmailLabel)),t().createElement("input",{id:"parent-email-address",type:"email",className:"form-control input-field",placeholder:n(d.emailPlaceholder),autoComplete:"off",value:x,onChange:function(e){A(e.target.value),R("")},onFocus:function(){return function(e){var t=e.requestType,n=e.details,r=vo(t,n);ho(mo.eventName.authFormInteraction,r.parentalEntry,{field:mo.field.email,associatedText:mo.text.enterParentEmail,state:yo(t,void 0,void 0,n)})}({requestType:r,details:i})}})),t().createElement("input",{type:"text",className:"hidden",name:"fake-username"}),t().createElement("input",{type:"password",className:"hidden",name:"fake-password",autoComplete:"new-password"})),t().createElement("div",{className:"form-group"},t().createElement("p",{className:"text-error form-control-label"},B())),t().createElement("div",{className:"text-footer access-management-upsell-inner-modal-text-footer",dangerouslySetInnerHTML:{__html:n(d.footer,{linkStart:"<a class='text-link' rel='noreferrer' target='_blank' href='"+c+"'>",linkEnd:"</a>"})}})),q=t().createElement(O.Modal,{show:p,onHide:function(){U.close(),a()},backdrop:!0,className:"access-management-upsell-inner-modal",size:"sm","aria-labelledby":"access-management-upsell-inner-modal-title",centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"access-management-upsell-inner-modal-title-container"},t().createElement(O.Modal.Title,{id:"access-management-upsell-inner-modal-title"},I)),t().createElement("button",{type:"button",className:"close close-button",onClick:function(){U.close(),a()}},t().createElement("span",{className:"icon-close"}))),t().createElement(O.Modal.Body,null,W),t().createElement(O.Modal.Footer,null,t().createElement(O.Button,{variant:O.Button.variants.primary,size:O.Button.sizes.medium,width:O.Button.widths.full,isDisabled:""===x||""!==B(),isLoading:w,onClick:function(){return Io(void 0,void 0,void 0,(function(){return To(this,(function(e){switch(e.label){case 0:return C(!0),[4,_()];case 1:return e.sent(),[2]}}))}))}},n(d.btnText))));return[q,U]},Do=function(n){var r=n.translate,o=n.consentType,a=n.successCallback,i=n.onHidecallback,l=n.isPrologueUsed,c=n.value,u=n.expChildModalType,s=void 0===u?null:u,d=w(Qt),f=No(r,o,a,i,c,s),p=f[0],m=f[1];return(0,e.useEffect)((function(){if(!l){var e=Object.keys(c)[0];Kr(d,ro.events.vpc,e,c)}m.open()}),[]),t().createElement(t().Fragment,null,p)},Oo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Mo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Uo={getLinkedParentEmails:function(){return Oo(void 0,void 0,Promise,(function(){var e;return Mo(this,(function(t){switch(t.label){case 0:return e={url:Qr,withCredentials:!0},[4,i.httpService.get(e)];case 1:return[2,t.sent().data]}}))}))}},Vo=Uo,jo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ro=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Fo=(0,c.withTranslations)((function(n){var r=n.translate,o=n.recourse,a=n.onHidecallback,i=n.isPrologueUsed,l=n.value,c=void 0===l?null:l,u=n.expChildModalType,s=void 0===u?null:u,d=ro.translationKeys.emailSentConfirmation,f=o.action,p=o.parentConsentTypes,m=null==p?void 0:p[0],y=(0,e.useState)([]),v=y[0],h=y[1],b=(0,e.useState)(!0),g=b[0],S=b[1],E=t().createElement("p",{dangerouslySetInnerHTML:{__html:r(d.oneParentBody,{parentEmail:v[0]})}}),w=t().createElement("p",null,r(d.pluralParentBody)),C=t().createElement("p",null,r(d.emailNotSentBody)),k=(0,e.useMemo)((function(){return g?1===v.length?E:w:C}),[g,v]),x=Vr({translate:r,title:r(d.title),body:k,actionButtonTranslateKey:d.btnText,onAction:function(){P.close(),a()},onHide:a}),A=x[0],P=x[1];(0,e.useEffect)((function(){f===Ct.ParentConsentRequest&&jo(void 0,void 0,void 0,(function(){return Ro(this,(function(e){switch(e.label){case 0:return[4,Vo.getLinkedParentEmails().then((function(e){h(e.parentEmails)}))];case 1:return e.sent(),[2]}}))}))}),[f]);var I=function(e,t,n){if(t&&h([t]),n&&S(!1),P.open(),m===so.UpdateBirthdate){var r=null==c?void 0:c.newBirthdate,o=new Date(r),a=So.getAgeRange(o);bo({requestType:so.UpdateBirthdate,extraState:a,sessionId:e})}else bo({requestType:m,sessionId:e,details:c})};return t().createElement("div",null,f===Ct.ParentConsentRequest&&t().createElement(Co,{translate:r,consentType:m,successCallBack:I,onHideCallback:a,value:c}),f===Ct.ParentLinkRequest&&t().createElement(Do,{translate:r,consentType:m,successCallback:I,onHidecallback:a,value:c,expChildModalType:s,isPrologueUsed:i}),A)}),{common:["CommonUI.Controls","CommonUI.Features","Amp.Upsell"],feature:"Feature.Parents"}),Lo={CanCorrectAge:"CanCorrectAge"},Bo={};function _o(e,t,n){var r=function(e){return Bo[e]}(e);return n(r||t)}function Wo(e,t,n,r,o,a){var i=n(t);if(r.includes(Ct.GovernmentId)&&r.includes(Ct.ParentConsentRequest))if(e===Lo.CanCorrectAge)i=n(Qn.IdvAndVpcAgeCorrection);else i=n(t);if(1===r.length&&r.includes(Ct.ParentConsentRequest)){switch(!0){case void 0!==(null==o?void 0:o.enablePurchases):i=n(Qn.VpcEnablePurchase);break;case"Unblock"===(null==o?void 0:o.friendManagementAction):i=n(Qn.VpcUnblockUser,{displayName:o.displayName});break;case"Unblock"===(null==o?void 0:o.experienceManagementAction):i=n(Qn.VpcUnblockExperience,{experienceName:o.experienceName});break;case void 0!==(null==o?void 0:o.allowFacialAgeEstimation):i=n(Qn.VpcAllowFacialAgeEstimation);break;case void 0!==(null==o?void 0:o.contentAgeRestriction):i=n(Qn.VpcContentAgeRestriction);break;case void 0!==(null==o?void 0:o.whoCanWhisperChatWithMeInExperiences):i=n(Qn.VpcWhisperChatWithMeInExperiences);break;case void 0!==(null==o?void 0:o.whoCanChatWithMeInExperiences):i=n(Qn.VpcExperienceChat);break;case void 0!==(null==o?void 0:o.allowCrossAgeGroupStudioCollaboration):i=n(Qn.VpcStudioCollaboration);break;default:i=n(t)}if(a===ko.newPrologueNoVisual||a===ko.newPrologueVisual)return i+"<br /><br />"+n(Qn.PrologueFetchParentExperiment)}if(1===r.length&&r.includes(Ct.AgeEstimation))switch(!0){case void 0!==(null==o?void 0:o.whoCanChatWithMeInExperiences):i=n(Qn.FaeExperienceChat);break;case void 0!==(null==o?void 0:o.whoCanWhisperChatWithMeInExperiences):i=n(Qn.FaeExperienceWhisperChat);break;case void 0!==(null==o?void 0:o.allowCrossAgeGroupStudioCollaboration):i=n(Qn.FaeStudioCollaboration);break;default:i=n(t)}return i}var qo=function(n){var r=n.translate,o=n.onHide,a=n.recourseParameters,i=n.expChildModalType,l=$n(),c=w(Qt),u=w(en).data.recourses,s=a?Object.keys(a)[0]:void 0,d=Qn.Vpc,f=Wo(c,d,r,[Ct.ParentConsentRequest],a,i),p=t().createElement("div",null,i===ko.newPrologueVisual&&t().createElement("div",{className:"ask-your-parent-lock"}),t().createElement("div",{className:"text-description",dangerouslySetInnerHTML:{__html:f}})),m=Xn.AskYourParent,y=_o(c,m,r),v=Jn.AskNow,h=Jn.Cancel,b=Vr({translate:r,title:y,body:p,actionButtonTranslateKey:v,neutralButtonTranslateKey:h,onAction:function(){qr(c,!0,s,a),l(Kt(u[0])),l(Gt(kt.Verification)),S.close()},size:"sm",onHide:function(){zr(c,"Vpc",s,a),o()},onNeutral:function(){zr(c,"Vpc",s,a),o()}}),g=b[0],S=b[1];return(0,e.useEffect)((function(){S.open(),Kr(c,"Vpc",s,a)}),[]),[g,S]},Ho=function(n){var r=n.translate,o=n.onHide,a=$n(),i=w(Qt),l=w(en).data.recourses,c=Qn.IdvAndVpc,u=Wo(i,c,r,[Ct.GovernmentId,Ct.ParentConsentRequest]),s=t().createElement("div",null,t().createElement("div",{className:"text-description"}," ",u," ")),d=Xn.VerifyYourAge,f=_o(i,d,r),p=Jn.VerifyID,m=Jn.EmailMyParent,y=Vr({translate:r,title:f,body:s,dualActionButton:!0,actionButtonTranslateKey:p,neutralButtonTranslateKey:m,onAction:function(){Wr(i,!1);var e=l.filter((function(e){return e.action===Ct.GovernmentId}))[0];a(Kt(e)),a(Gt(kt.Verification)),h.close()},size:"sm",onHide:function(){zr(i,"IdvOrVpc"),o()},onNeutral:function(){qr(i,!1);var e=l.filter((function(e){return e.action!==Ct.GovernmentId}))[0];a(Kt(e)),a(Gt(kt.Verification)),h.close()}}),v=y[0],h=y[1];return(0,e.useEffect)((function(){h.open(),Kr(i,"IdvOrVpc")}),[]),[v,h]},zo=function(n){var r=n.translate,o=n.onHide,a=$n(),i=w(Qt),l=w(en).data.recourses,c=Qn.Idv,u=Wo(i,c,r,[Ct.GovernmentId]),s=t().createElement("div",null,t().createElement("div",{className:"text-description"}," ",u," ")),d=Xn.VerifyYourAge,f=_o(i,d,r),p=Jn.VerifyID,m=Jn.Cancel,y=Vr({translate:r,title:f,body:s,actionButtonTranslateKey:p,neutralButtonTranslateKey:m,onAction:function(){Wr(i,!0),a(Kt(l[0])),a(Gt(kt.Verification)),h.close()},size:"sm",onHide:function(){zr(i,"Idv"),o()},onNeutral:function(){zr(i,"Idv"),o()}}),v=y[0],h=y[1];return(0,e.useEffect)((function(){h.open(),Kr(i,"Idv")}),[]),[v,h]},Ko=function(n){var r=n.translate,o=n.onHide,a=n.recourseParameters,i=$n(),l=w(Qt),c=w(en).data.recourses,u=a?Object.keys(a)[0]:void 0,s=Qn.Fae,d=Wo(l,s,r,[Ct.AgeEstimation],a),f=t().createElement("div",{className:"text-description",dangerouslySetInnerHTML:{__html:d}}),p=Xn.CheckYourAge,m=_o(l,p,r),y=Jn.Continue,v=Jn.Cancel,h=Vr({translate:r,title:m,body:f,actionButtonTranslateKey:y,neutralButtonTranslateKey:v,onAction:function(){i(Kt(c[0])),i(Gt(kt.Verification)),g.close()},size:"sm",onHide:function(){zr(l,"Fae",u,a),o()},onNeutral:function(){zr(l,"Fae",u,a),o()}}),b=h[0],g=h[1];return(0,e.useEffect)((function(){g.open(),Kr(l,"Fae",u,a)}),[]),[b,g]},Go=function(t){var n,r,o,a,i=t.translate,l=t.onHide,c=t.recourseParameters,u=t.expChildModalType,s=$n(),d=[null,null],f=d[0],p=d[1],m=w(en).data.recourses,y=m.map((function(e){return e.action}));if(1===y.length)switch(y[0]){case Ct.ParentConsentRequest:case Ct.ParentLinkRequest:n=qo({translate:i,onHide:l,recourseParameters:c,expChildModalType:u}),f=n[0],p=n[1];break;case Ct.GovernmentId:r=zo({translate:i,onHide:l}),f=r[0],p=r[1];break;case Ct.AgeEstimation:o=Ko({translate:i,onHide:l,recourseParameters:c}),f=o[0],p=o[1]}return 2===y.length&&y.includes(Ct.GovernmentId)&&(y.includes(Ct.ParentConsentRequest)||y.includes(Ct.ParentLinkRequest))&&(a=Ho({translate:i,onHide:l}),f=a[0],p=a[1]),(0,e.useEffect)((function(){f?p.open():s(Gt(kt.Verification))}),[s,f,p,m]),f},$o=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Yo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Jo=function(t){var n=(0,e.useState)({}),o=n[0],a=n[1];return(0,e.useEffect)((function(){(function(e){return $o(void 0,void 0,Promise,(function(){return Yo(this,(function(t){switch(t.label){case 0:return(null===r.ExperimentationService||void 0===r.ExperimentationService?void 0:r.ExperimentationService.getAllValuesForLayer)?[4,r.ExperimentationService.getAllValuesForLayer(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,{}]}}))}))})(t).then((function(e){a(e)}),(function(){a({})}))}),[t]),o},Xo=function(){return t().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var Qo,Zo=function(e){var n=e.width,r=e.height;return t().createElement("svg",{className:"foundation-web-loading-spinner",width:n,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))},ea={Large:24,Medium:20,Small:16,XSmall:12},ta={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},na={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},ra={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},oa=function(e){var n=e.children,r=e.className,o=e.style,a=e.as,i=e.isDisabled,l=void 0!==i&&i,c=e.isLoading,u=void 0!==c&&c,s=e.size,d=void 0===s?"Large":s,f=e.variant,p=void 0===f?"Emphasis":f,m=yr(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),y=null!=a?a:"button",v=m.href,h=yr(m,["href"]);return t().createElement(y,mr({type:"button"===y?"button":void 0,disabled:l,"aria-disabled":l,href:l?void 0:v},h,{className:hr("foundation-web-button","relative clip group/interactable focus-visible:outline-focus disabled:outline-none",l?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",ta[d],l?ra[p]:na[p],r),style:mr({textDecoration:"none"},o)}),t().createElement(Xo,null),u&&t().createElement("div",{"aria-hidden":"true",className:"absolute flex"},t().createElement(Zo,{width:ea[d],height:ea[d]})),t().createElement("span",{className:hr("padding-y-xsmall text-truncate-end text-no-wrap",u&&"invisible")},n))},aa="Action.Close";!function(e){e.Checkbox="checkbox",e.Toggle="toggle",e.Notice="notice"}(Qo||(Qo={}));var ia,la=Qo,ca=function(e){var n=e.isChecked,r=e.setIsChecked,o=e.wordsOfConsent;return t().createElement("div",{className:"small text"},t().createElement("input",{id:"consent-checkbox",type:"checkbox",checked:n,onChange:function(){return null==r?void 0:r(!n)}}),t().createElement("label",{htmlFor:"consent-checkbox",className:"checkbox-label"},o))};ca.displayName="CheckboxConsentForm";var ua=function(){return null};ua.displayName="ToggleConsentForm";var sa=function(e){var n=e.wordsOfConsent;return t().createElement(t().Fragment,null,n)};sa.displayName="NoticeConsentForm";var da,fa=((ia={})[la.Checkbox]=ca,ia[la.Toggle]=ua,ia[la.Notice]=sa,ia);!function(e){e.contentAgeRestriction="contentAgeRestriction",e.phoneNumberDiscoverability="phoneNumberDiscoverability",e.whoCanChatWithMe="whoCanChatWithMe",e.whoCanChatWithMeInApp="whoCanChatWithMeInApp",e.whoCanJoinMeInExperiences="whoCanJoinMeInExperiences",e.whoCanSeeMyInventory="whoCanSeeMyInventory",e.whoCanTradeWithMe="whoCanTradeWithMe",e.themeType="themeType",e.canUploadContacts="canUploadContacts",e.updateFriendsAboutMyActivity="updateFriendsAboutMyActivity",e.privateServerPrivacy="privateServerPrivacy",e.allowSellShareData="allowSellShareData",e.allowPersonalizedAdvertising="allowPersonalizedAdvertising",e.monthlySpendLimit="monthlySpendLimit",e.monthlySpendLimitCurrencyCode="monthlySpendLimitCurrencyCode",e.monthlySpendLimitNotificationType="monthlySpendLimitNotificationType",e.enablePurchases="enablePurchases",e.whoCanGroupChatWithMeInApp="whoCanGroupChatWithMeInApp",e.whoCanWhisperChatWithMeInExperiences="whoCanWhisperChatWithMeInExperiences",e.whoCanChatWithMeInExperiences="whoCanChatWithMeInExperiences",e.dailyScreenTimeLimit="dailyScreenTimeLimit",e.whoCanSeeMySocialNetworks="whoCanSeeMySocialNetworks",e.allowThirdPartyAppPermissions="allowThirdPartyAppPermissions",e.allowEnablePushNotifications="allowEnablePushNotifications",e.allowEnableEmailNotifications="allowEnableEmailNotifications",e.allowEnableGroupNotifications="allowEnableGroupNotifications",e.allowEnableExperienceNotifications="allowEnableExperienceNotifications",e.whoCanOneOnOnePartyWithMe="whoCanOneOnOnePartyWithMe",e.whoCanGroupPartyWithMe="whoCanGroupPartyWithMe",e.phoneNumberDiscoverabilityV2="phoneNumberDiscoverabilityV2"}(da||(da={}));var pa,ma=da;!function(e){e.phoneNumberDiscoverabilitySetting="phoneNumberDiscoverabilitySetting",e.phoneNumberDiscoverabilitySettingParentSide="phoneNumberDiscoverabilitySettingParentSide",e.phoneNumberDiscoverabilityUpsell="phoneNumberDiscoverabilityUpsell",e.personalizedAdsSetting="personalizedAdsSetting",e.sellShareDataSetting="sellShareDataSetting",e.allowMarketingEmailCheckboxEmailVerification="allowMarketingEmailCheckboxEmailVerification",e.voiceDataConsentSetting="voiceDataConsentSetting",e.voiceDataConsentSettingParentSide="voiceDataConsentSettingParentSide"}(pa||(pa={}));var ya,va=pa,ha={phoneNumberDiscoverabilityV2:va.phoneNumberDiscoverabilityUpsell};!function(e){e.ModalShown="ModalShown",e.Confirm="Confirm",e.Cancel="Cancel",e.CloseModal="CloseModal"}(ya||(ya={}));var ba,ga,Sa="authButtonClick",Ea="authModalShown",wa=function(e){return{name:Ea,context:e,params:{field:"phoneDiscoverability",associatedText:"Turn on friend discovery"}}},Ca=function(e){return{name:Sa,context:e,params:{btn:"phoneDiscoverabilityConfirm",associatedText:"Turn on"}}},ka=function(e){return{name:Sa,context:e,params:{btn:"phoneDiscoverabilityNotNow",associatedText:"Not now"}}},xa=function(e){return{name:Sa,context:e,params:{btn:"phoneDiscoverabilityClose",associatedText:"X"}}},Aa=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,t)}catch(e){}}},Pa=Aa((function(e){var t=wa(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),Ia=Aa((function(e){var t=Ca(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),Ta=Aa((function(e){var t=ka(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),Na=Aa((function(e){var t=xa(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),Da=((ba={})[ma.phoneNumberDiscoverabilityV2]=((ga={})[ya.ModalShown]=Pa,ga[ya.Confirm]=Ia,ga[ya.Cancel]=Ta,ga[ya.CloseModal]=Na,ga),ba),Oa=function(e,t,n){var r=Da[t];return r&&r[e]&&r[e](n),null},Ma=function(n,o,a){var i,l=o.title,c=o.body,u=o.actionButtonText,s=o.neutralButtonText,d=o.onAction,f=o.onHide,p=o.onNeutral,m=o.consentFormType,y=o.surface,v=o.context,h=(i=a.settingName,ha[i]),b=r.LegallySensitiveContentService.useLegallySensitiveContentAndActions(h,y),g=b[0],S=b[1],E=(0,e.useState)(!1),w=E[0],C=E[1],k=(0,e.useMemo)((function(){return{open:function(){return C(!0)},close:function(){return C(!1)}}}),[]),x=(0,e.useState)(!1),A=x[0],P=x[1];(0,e.useEffect)((function(){m===la.Notice&&P(!0)}),[m]);var I,T=t().createElement(O.Modal,{show:w,onHide:function(){k.close(),f()},backdrop:!0,className:"access-management-upsell-inner-modal user-settings-modal",size:"md","aria-labelledby":"user-settings-modal-title",scrollable:!0,centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"user-settings-modal-title-container"},t().createElement(O.Modal.Title,{id:"user-settings-modal-title"},g.wordsOfConsent.title||l)),t().createElement("button",{type:"button",className:"close close-button",title:n(aa),onClick:function(){!function(e,t){Oa(ya.CloseModal,e,t)}(a.settingName,v),k.close(),f()}},t().createElement("span",{className:"icon-close"}))),t().createElement(O.Modal.Body,null,c,(I=fa[m])?t().createElement("div",{className:"consent-form"},t().createElement(I,{isChecked:A,setIsChecked:P,wordsOfConsent:g.wordsOfConsent.consent})):t().createElement(t().Fragment,null)),t().createElement(O.Modal.Footer,null,t().createElement(oa,{className:"modal-half-width-button",variant:"Standard",size:"Medium",onClick:function(){!function(e,t){Oa(ya.Cancel,e,t)}(a.settingName,v),k.close(),null==p||p(),f()}},g.wordsOfConsent.neutralButtonText||s),t().createElement(oa,{className:"modal-half-width-button modal-primary-button",variant:"Emphasis",size:"Medium",disabled:!A,onClick:function(){!function(e,t){Oa(ya.Confirm,e,t)}(a.settingName,v),k.close(),S.updateSettingWithAuditing(function(e){return e===ma.phoneNumberDiscoverabilityV2?ma.phoneNumberDiscoverability:e}(a.settingName),a.settingValue),null==d||d(),f()}},g.wordsOfConsent.actionButtonText||u)));return[T,k]},Ua=(0,c.withTranslations)((function(n){var r=n.translate,o=n.recourse,a=n.updateSettingsModalProps,i=Ma(r,a,o.userSettings),l=i[0],c=i[1];return(0,e.useEffect)((function(){var e,t;e=o.userSettings.settingName,t=o.userSettings.settingValue,Oa(ya.ModalShown,e,t),c.open()}),[]),t().createElement("div",null,l)}),{common:["CommonUI.Controls"],feature:"Feature.LegallySensitiveContent"}),Va=function(){return Va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Va.apply(this,arguments)},ja=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ra=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};var Fa,La=function(n){var r,o,a=n.translate,i=$n(),l=w(tn),c=w(en),u=w(Xt),s=w(rn),d=w(Jt).loading,f=w(nn),p=(0,e.useState)((function(e){return e})),m=p[0],y=p[1],v=(0,e.useState)({}),h=v[0],b=v[1],g=(0,e.useState)(),S=g[0],E=g[1],C=(0,e.useState)(!1),k=C[0],x=C[1],A=(0,e.useState)(!1),P=A[0],I=A[1],T=null!==(r=Jo("AccountManagement.VerifiedParentalConsent.ChildExperience").expNewChildModal)&&void 0!==r?r:ko.control;function N(e){return ja(this,void 0,void 0,(function(){var t,n,r,o,a,l,c,u,s,d,f;return Ra(this,(function(p){switch(p.label){case 0:t=e.detail,n=t.featureName,r=t.redirectLink,o=t.ampFeatureCheckData,a=t.isAsyncCall,l=t.usePrologue,c=t.ampRecourseData,u=t.featureSpecificData,s=t.closeCallback,d=t.namespace,y((function(){return function(e){return s(e)}})),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,i(_t({featureName:n,ampFeatureCheckData:o,namespace:d}))];case 2:return p.sent(),[3,4];case 3:return p.sent(),[3,4];case 4:return i(zt(r)),x(a),o&&i(Ht(o)),d&&i(Yt(d)),c&&b(c),u&&E(u),f=T===ko.control||T===ko.newPrologueNoVisual||T===ko.newPrologueVisual,l&&f?(i($t(!0)),I(!0)):i(Gt(kt.Verification)),[2]}}))}))}function D(){m(c.data.access),i(qt())}(0,e.useEffect)((function(){var e=N;return window.addEventListener(Yn,e),function(){return window.removeEventListener(Yn,e)}}),[T]),(0,e.useEffect)((function(){var e,t,n,r,o,a,l,u,s,d,f=[gt.Granted,gt.Denied];(null==c?void 0:c.loading)||((null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.access)&&f.includes(c.data.access)&&"CanCorrectAge"!==(null===(t=null==c?void 0:c.data)||void 0===t?void 0:t.featureName)&&m(c.data.access),(null===(r=null===(n=null==c?void 0:c.data)||void 0===n?void 0:n.recourses)||void 0===r?void 0:r.length)>0&&P&&i(Gt(kt.Prologue)),"CanCorrectAge"!==(null===(o=null==c?void 0:c.data)||void 0===o?void 0:o.featureName)||c.data.access!==gt.Denied||null!==(null===(a=null==c?void 0:c.data)||void 0===a?void 0:a.recourses)&&0!==(null===(u=null===(l=null==c?void 0:c.data)||void 0===l?void 0:l.recourses)||void 0===u?void 0:u.length)?"CanCorrectAge"===(null===(s=null==c?void 0:c.data)||void 0===s?void 0:s.featureName)&&(null===(d=null==c?void 0:c.data)||void 0===d?void 0:d.access)===gt.Granted&&m(c.data.access):i(Gt(kt.Epilogue)))}),[c,P]);var M=k?function(){i(qt()),m(gt.Denied)}:D;function U(){if(f)switch(f.action){case Ct.AddedEmail:return t().createElement(ur,{translate:a,onHide:D});case Ct.AgeEstimation:return t().createElement(Or,{translate:a,onHidecallback:M,featureSpecificParams:S,ageEstimation:!0});case Ct.GovernmentId:return t().createElement(xr,{translate:a,onHidecallback:M,ageEstimation:!1,featureSpecificParams:S});case Ct.ParentConsentRequest:case Ct.ParentLinkRequest:return t().createElement(Fo,{recourse:f,translate:a,onHidecallback:M,value:h,expChildModalType:T,isPrologueUsed:s});case Ct.UserSettings:return t().createElement(Ua,{translate:a,recourse:f,updateSettingsModalProps:Va({onHide:function(){var e;M(),null===(e=S.onHide)||void 0===e||e.call(S)}},S)});default:return t().createElement(Yr,{translate:a})}return t().createElement(Yr,{translate:a})}if((0,e.useEffect)((function(){o=U()}),[f]),d)o=t().createElement(pr,null);else switch(l){case kt.Prologue:null!=c.data&&(o=t().createElement(Go,{translate:a,onHide:M,recourseParameters:h,expChildModalType:T}));break;case kt.Verification:null!=c.data&&(o=U());break;case kt.Epilogue:o=t().createElement(Yr,{translate:a,onHide:M});break;default:o=t().createElement(pr,null)}return t().createElement(t().Fragment,null,t().createElement(O.Modal,{show:u,onHide:D,size:"sm","aria-labelledby":"access-management-modal-title",className:"access-management-upsell-modal",scrollable:"true",centered:"true"},o))},Ba=((Fa={})[va.phoneNumberDiscoverabilitySetting]={titleTranslationKey:"Heading.FriendDiscovery",titleSourceContentId:"4063304",consentTranslationKey:"Description.PhoneNumberDiscoverabilityConsent",consentSourceContentId:"4054088"},Fa[va.phoneNumberDiscoverabilitySettingParentSide]={titleTranslationKey:"Heading.FriendDiscovery",titleSourceContentId:"4063304",consentTranslationKey:"Description.ParentSide.PhoneNumberDiscoverabilityConsent",consentSourceContentId:"4102472"},Fa[va.phoneNumberDiscoverabilityUpsell]={titleTranslationKey:"Heading.TurnOnFriendDiscovery",titleSourceContentId:"4123720",consentTranslationKey:"Description.PhoneNumberDiscoverabilityUpsellConsent",consentSourceContentId:"4123464",actionButtonTextTranslationKey:"Action.FriendDiscovery.TurnOn",actionButtonTextSourceContentId:"4123208",neutralButtonTextTranslationKey:"Action.FriendDiscovery.NotNow",neutralButtonTextSourceContentId:"4122952"},Fa[va.personalizedAdsSetting]={titleTranslationKey:"Heading.PersonalizeYourAds",titleSourceContentId:"4190024",consentTranslationKey:"Description.PersonalizeAds",consentSourceContentId:"4190536",linkStart:'<a href="https://en.help.roblox.com/hc/articles/28943243301780" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Fa[va.sellShareDataSetting]={titleTranslationKey:"Heading.DataSellingAndSharing",titleSourceContentId:"4190280",consentTranslationKey:"Description.DataSellingAndSharing",consentSourceContentId:"4190792",linkStart:'<a href="https://en.help.roblox.com/hc/articles/28943243301780" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Fa[va.allowMarketingEmailCheckboxEmailVerification]={consentTranslationKey:"Description.EmailNotificationsOptIn",consentSourceContentId:"4557640"},Fa[va.voiceDataConsentSetting]={titleTranslationKey:"Heading.VoiceDataConsent",titleSourceContentId:"4565320",consentTranslationKey:"Description.VoiceDataConsent",consentSourceContentId:"4565576",linkStart:'<a href="https://en.help.roblox.com/hc/articles/5704050147604" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Fa[va.voiceDataConsentSettingParentSide]={titleTranslationKey:"Heading.VoiceDataConsent",titleSourceContentId:"4565320",consentTranslationKey:"Description.ParentSide.VoiceDataConsent",consentSourceContentId:"4565832",linkStart:'<a href="https://en.help.roblox.com/hc/articles/5704050147604" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Fa),_a=r.EnvironmentUrls.userSettingsApi,Wa=function(){return{retryable:!0,withCredentials:!0,url:_a+"/v1/user-settings"}},qa=function(){return qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qa.apply(this,arguments)},Ha=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},za=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Ka=function(e,t,n){return Ha(void 0,void 0,Promise,(function(){var r,o;return za(this,(function(a){return r=qa(qa({},Wa()),{headers:{"rbx-audit-data":n}}),[2,i.httpService.post(r,(o={},o[e]=t,o))]}))}))},Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ga.apply(this,arguments)},$a=function(e,t){switch(e){case va.phoneNumberDiscoverabilitySetting:return[{consentStringTemplate:t(Ba.phoneNumberDiscoverabilitySetting.titleTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilitySetting.titleSourceContentId},{consentStringTemplate:t(Ba.phoneNumberDiscoverabilitySetting.consentTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilitySetting.consentSourceContentId}];case va.phoneNumberDiscoverabilitySettingParentSide:return[{consentStringTemplate:t(Ba.phoneNumberDiscoverabilitySettingParentSide.titleTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilitySettingParentSide.titleSourceContentId},{consentStringTemplate:t(Ba.phoneNumberDiscoverabilitySettingParentSide.consentTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilitySettingParentSide.consentSourceContentId}];case va.phoneNumberDiscoverabilityUpsell:return[{consentStringTemplate:t(Ba.phoneNumberDiscoverabilityUpsell.titleTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilityUpsell.titleSourceContentId},{consentStringTemplate:t(Ba.phoneNumberDiscoverabilityUpsell.consentTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilityUpsell.consentSourceContentId},{consentStringTemplate:t(Ba.phoneNumberDiscoverabilityUpsell.actionButtonTextTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilityUpsell.actionButtonTextSourceContentId},{consentStringTemplate:t(Ba.phoneNumberDiscoverabilityUpsell.neutralButtonTextTranslationKey),sourceContentId:Ba.phoneNumberDiscoverabilityUpsell.neutralButtonTextSourceContentId}];case va.personalizedAdsSetting:return[{consentStringTemplate:t(Ba.personalizedAdsSetting.titleTranslationKey),sourceContentId:Ba.personalizedAdsSetting.titleSourceContentId},{consentStringTemplate:t(Ba.personalizedAdsSetting.consentTranslationKey,{linkStart:Ba.personalizedAdsSetting.linkStartParam,linkEnd:Ba.personalizedAdsSetting.linkEndParam}),sourceContentId:Ba.personalizedAdsSetting.consentSourceContentId,vars:{linkStart:Ba.personalizedAdsSetting.linkStart,linkEnd:Ba.personalizedAdsSetting.linkEnd}}];case va.sellShareDataSetting:return[{consentStringTemplate:t(Ba.sellShareDataSetting.titleTranslationKey),sourceContentId:Ba.sellShareDataSetting.titleSourceContentId},{consentStringTemplate:t(Ba.sellShareDataSetting.consentTranslationKey,{linkStart:Ba.sellShareDataSetting.linkStartParam,linkEnd:Ba.sellShareDataSetting.linkEndParam}),sourceContentId:Ba.sellShareDataSetting.consentSourceContentId,vars:{linkStart:Ba.sellShareDataSetting.linkStart,linkEnd:Ba.sellShareDataSetting.linkEnd}}];case va.allowMarketingEmailCheckboxEmailVerification:return[{consentStringTemplate:t(Ba.allowMarketingEmailCheckboxEmailVerification.consentTranslationKey),sourceContentId:Ba.allowMarketingEmailCheckboxEmailVerification.consentSourceContentId}];case va.voiceDataConsentSetting:return[{consentStringTemplate:t(Ba.voiceDataConsentSetting.titleTranslationKey),sourceContentId:Ba.voiceDataConsentSetting.titleSourceContentId},{consentStringTemplate:t(Ba.voiceDataConsentSetting.consentTranslationKey,{linkStart:Ba.voiceDataConsentSetting.linkStartParam,linkEnd:Ba.voiceDataConsentSetting.linkEndParam}),sourceContentId:Ba.voiceDataConsentSetting.consentSourceContentId,vars:{linkStart:Ba.voiceDataConsentSetting.linkStart,linkEnd:Ba.voiceDataConsentSetting.linkEnd}}];case va.voiceDataConsentSettingParentSide:return[{consentStringTemplate:t(Ba.voiceDataConsentSettingParentSide.titleTranslationKey),sourceContentId:Ba.voiceDataConsentSettingParentSide.titleSourceContentId},{consentStringTemplate:t(Ba.voiceDataConsentSettingParentSide.consentTranslationKey,{linkStart:Ba.voiceDataConsentSettingParentSide.linkStartParam,linkEnd:Ba.voiceDataConsentSettingParentSide.linkEndParam}),sourceContentId:Ba.voiceDataConsentSettingParentSide.consentSourceContentId,vars:{linkStart:Ba.voiceDataConsentSettingParentSide.linkStart,linkEnd:Ba.voiceDataConsentSettingParentSide.linkEnd}}];default:return[]}},Ya=function(e,t,n){var r=function(e,t,n){var r=Ga({content:e.reduce((function(e,t){var n;return Ga(Ga({},e),((n={})[t.sourceContentId]=Ga({hash:Mt.cryptoUtil.hashStringWithFnv1a32(t.consentStringTemplate)},t.vars),n))}),{}),surface:t},n);return r}(e,t,n),o=JSON.stringify(r);return Mt.cryptoUtil.stringToUrlSafeBase64(o)},Ja=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Xa=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Qa=function(e,t,n){var r={updateSettingWithAuditing:function(r,o,a){return Ja(void 0,void 0,void 0,(function(){var i,l;return Xa(this,(function(c){switch(c.label){case 0:i=$a(t,e),l=Ya(i,n,a),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Ka(r,o,l)];case 2:return c.sent(),[3,4];case 3:return c.sent(),[3,4];case 4:return[2]}}))}))},getBase64EncodedAuditHeader:function(r){var o=$a(t,e);return Ya(o,n,r)}};return[function(){var n;switch(t){case va.phoneNumberDiscoverabilitySetting:return n=Ba.phoneNumberDiscoverabilitySetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey)}};case va.phoneNumberDiscoverabilitySettingParentSide:return n=Ba.phoneNumberDiscoverabilitySettingParentSide,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey)}};case va.phoneNumberDiscoverabilityUpsell:return n=Ba.phoneNumberDiscoverabilityUpsell,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey),actionButtonText:e(n.actionButtonTextTranslationKey),neutralButtonText:e(n.neutralButtonTextTranslationKey)}};case va.personalizedAdsSetting:return n=Ba.personalizedAdsSetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};case va.sellShareDataSetting:return n=Ba.sellShareDataSetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};case va.allowMarketingEmailCheckboxEmailVerification:return n=Ba.allowMarketingEmailCheckboxEmailVerification,{wordsOfConsent:{consent:e(n.consentTranslationKey)}};case va.voiceDataConsentSetting:return n=Ba.voiceDataConsentSetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};case va.voiceDataConsentSettingParentSide:return n=Ba.voiceDataConsentSettingParentSide,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};default:return}}(),r]},Za=(0,c.withTranslations)((function(n){var r=n.translate;return(0,e.useEffect)((function(){o().LegallySensitiveContentService={useLegallySensitiveContentAndActions:function(e,t){return Qa(r,e,t)}}}),[]),t().createElement("div",{id:"legally-sensitive-content-component"})}),{common:["CommonUI.Controls"],feature:"Feature.LegallySensitiveContent"});var ei=(0,c.withTranslations)((function(e){var n=e.translate;return t().createElement(A,{store:Gn},t().createElement(La,{translate:n}),t().createElement(Za,{translate:n}))}),{common:["CommonUI.Controls","CommonUI.Features","Amp.Upsell"],feature:"Verification.Identity"}),ti=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},ni=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ri=function(e){var t=e.featureName,n=e.redirectLink,r=void 0===n?null:n,o=e.ampFeatureCheckData,a=void 0===o?[]:o,i=e.isAsyncCall,l=void 0===i||i,c=e.usePrologue,u=void 0!==c&&c,s=e.ampRecourseData,d=void 0===s?null:s,f=e.featureSpecificData,p=void 0===f?null:f,m=e.namespace,y=void 0===m?null:m;return ti(void 0,void 0,Promise,(function(){return ni(this,(function(e){return[2,new Promise((function(e){var n=new CustomEvent(Yn,{detail:{featureName:t,redirectLink:r,ampFeatureCheckData:a,isAsyncCall:l,usePrologue:u,ampRecourseData:d,featureSpecificData:p,namespace:y,closeCallback:function(t){e(function(e){return e===gt.Granted}(t))}}});window.dispatchEvent(n)}))]}))}))};function oi(){var e=document.getElementById(l);e?(0,a.render)(t().createElement(ei,null),e):window.requestAnimationFrame(oi)}o().AccessManagementUpsellV2Service={startAccessManagementUpsell:ri},(0,i.ready)((function(){l&&oi()}))}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/4959af196f6b431021b62a0f0a00e3f7-accessManagementUpsellV2.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AccessManagementUpsellV2");