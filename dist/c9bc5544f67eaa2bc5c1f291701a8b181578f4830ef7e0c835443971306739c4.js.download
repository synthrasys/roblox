!function(){"use strict";var a={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},d:function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},nc:void 0},ge=React,we=a.n(ge),l=ReactDOM,c=a.n(l),Ee=CoreUtilities,e=PropTypes,r=a.n(e),n=ReactUtilities,C=ReactStyleGuide,o={purchasingResources:{common:["IAPExperience.PurchaseError","Feature.NotApproved"],feature:"Purchasing.PurchaseDialog"},itemResources:{common:[],feature:"Feature.Item"},itemModelResources:{common:[],feature:"Feature.ItemModel"}},t={transactionFailure:"TransactionFailureView",insufficientFunds:"InsufficientFundsView",priceChanged:"PriceChangedView",pendingProductsLimitExceeded:"PendingProductsLimitExceeded"},i={badRequest:"Bad Request"},s={startItemPurchase:"ItemPurchaseStart",NEW_UPSELL_FAILED_DUE_TO_ERROR:"ReactBuyButtonNewUpsellProcessFailedDueToError",NEW_UPSELL_FAILED_DUE_TO_LOADING:"ReactBuyButtonNewUpsellProcessFailedDueToNotLoaded",NEW_UPSELL_FROM_REACT_BUY_BUTTON:"ReactBuyButtonNewUpsellProcessNewUpsellFromReactBuyButton"},u={Plugin:38,Decal:13,Model:10,Video:62,MeshPart:40,Place:9,Badge:21,GamePass:34,Animation:24},d={Catalog:0,Library:1},f={LookId:"lookId"},m={insufficientFunds:"InsufficientFunds",retryErrorMessage:"Failed to determine purchasability status. Please try again by refreshing.",notForSale:"NotForSale",unauthorizedMessage:"Unauthorized",twoStepVerificationRequired:"TwoStepVerificationRequired"},p={FraudPaymentAuthorizationAttempt:"Label.Sublabel.FraudPaymentAbuse",FraudVirtualEconomyAbuse:"Label.Sublabel.FraudVirtualEconomyAbuse",FraudAbuseOfAffiliateSystem:"Label.Sublabel.FraudAbuseOfTheAffiliateSystem",FraudAttemptedUnauthorizedPaymentMethodUse:"Label.Sublabel.FraudAttemptedUnauthorizedPaymentMethodUse",FraudRepeatedRefundRequests:"Label.Sublabel.FraudRepeatedRefundRequests",FraudSuspiciousRefundRequests:"Label.Sublabel.FraudSuspiciousRefundRequests",FraudUnauthorizedPurchase:"Label.Sublabel.FraudUnauthorizedPurchase",FraudUseOfUnauthorizedOffPlatformTransactions:"Label.Sublabel.FraudUseOfUnauthorizedOffPlatformTransactions",FraudUseOfUnauthorizedPaymentMethod:"Label.Sublabel.FraudUseOfUnauthorizedPaymentMethod",FraudSuspiciousAccountPatterns:"Label.Sublabel.FraudSuspiciousAccountPatterns",FraudChargeback:"Label.AbuseType.Chargeback"},v={shouldShowUnifiedPurchaseModal:"shouldShowUnifiedPurchaseModal"},b=3,h=5,y=5;function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=go={freeLabel:"Label.Free",okAction:"Action.Ok",insufficientFundsHeading:"Heading.InsufficientFunds",insufficientFundsMessage:"Message.InsufficientFunds",doneAction:"Action.Done",cancelAction:"Action.Cancel",buyRobuxAction:"Action.BuyRobux",buyAccessAction:"Action.BuyAccess",buyItemHeading:"Heading.BuyItem",buyNowAction:"Action.BuyNow",buyExperience:"Title.BuyExperience",getItemHeading:"Heading.GetItem",getNowAction:"Action.GetNow",priceChangedHeading:"Heading.PriceChanged",priceChangedMessage:"Message.PriceChanged",balanceAfterMessage:"Message.BalanceAfter",agreeAndPayLabel:"Label.AgreeAndPay",promptGetFreeAccessMessage:"Message.PromptGetFreeAccess",promptGetFreeMessage:"Message.PromptGetFree",promptBuyAccessMessage:"Message.PromptBuyAccess",promptBuyMessage:"Message.PromptBuy",promptBuySimplifiedMessage:"Message.PromptBuySimplified",configureAction:"Action.Customize",notNowAction:"Action.NotNow",customizeAction:"Action.Customize",continueAction:"Action.Continue",purchaseCompleteHeading:"Heading.PurchaseComplete",successfullyBoughtAccessMessage:"Message.SuccessfullyBoughtAccess",successfullyBoughtMessage:"Message.SuccessfullyBought",successfullyRenewedAccessMessage:"Message.SuccessfullyRenewedAccess",successfullyRenewedMessage:"Message.SuccessfullyRenewed",successfullyAcquiredAccessMessage:"Message.SuccessfullyAcquiredAccess",successfullyAcquiredMessage:"Message.SuccessfullyAcquired",itemGrantDelayMessage:"Message.ItemGrantDelay",errorOccuredHeading:"Heading.ErrorOccured",purchasingUnavailableMessage:"Message.PurchasingUnavailable",buyAction:"Action.Buy",installAction:"Action.Install",getAction:"Action.Get",bestPriceLabel:"Label.BestPrice",priceLabel:"Label.Price",premiumDiscountOpportunityPromptLabel:"Label.PremiumDiscountOpportunityPrompt",premiumDiscountSavingsLabel:"Label.PremiumDiscountSavings",premiumExclusiveEligiblePromptLabel:"Label.PremiumExclusiveEligiblePrompt",premiumExclusiveIneligiblePromptLabel:"Label.PremiumExclusiveIneligiblePrompt",getPremiumAction:"Action.GetPremium",itemNotCurrentlyForSaleLabel:"Label.ItemNotCurrentlyForSale",itemNoLongerForSaleLabel:"Label.ItemNoLongerForSale",purchasingTemporarilyUnavailableLabel:"Label.PurchasingTemporarilyUnavailable",itemAvailableInventoryLabel:"Label.ItemAvailableInventory",noOneCurrentlySellingLabel:"Label.NoOneCurrentlySelling",inventoryAction:"Action.Inventory",OffsaleCountdownHourMinuteSecondLabel:"Label.OffsaleCountdownHourMinuteSecond",CountdownTimerDayHourMinute:"Label.CountdownTimerDayHourMinute",batchBuyItemHeading:"Heading.BuyItems",batchBuyPromptMessage:"Message.PromptBatchBuy",batchBuyBalanceAfterMessage:"Message.BalanceAfter",purchaseCompletedMessage:"Heading.PurchaseCompleted",generalPurchaseErrorMessage:"Heading.GeneralError",batchBuyPartialSuccessGeneralFailureMessage:"Heading.PartialSuccessGeneralFailure",batchBuyPartialSuccessItemsOwnedFailureMessage:"Heading.PartialSuccessItemsOwnedFailure",batchBuyPartialSuccessInsufficientFundsFailureMessage:"Heading.PartialSuccessInsufficientFundsFailure",batchBuyPartialSuccessNetworkErrorFailureMessage:"Heading.PartialSuccessNetworkErrorFailure",batchBuyPartialSuccessFloodcheckFailureMessage:"Heading.PartialSuccessFloodcheckFailure",purchaseErrorFailureMessage:"Heading.PurchaseFailure",batchBuyItemsOwnedFailureMessage:"Heading.ItemsOwnedFailure",insufficientFundsFailureMessage:"Heading.InsufficientFundsFailure",networkErrroFailureMessage:"Heading.NetworkErrorFailure",floodcheckFailureMessage:"Heading.FloodcheckFailure",batchBuyPartialSuccessPremiumNeededFailureMessage:"Heading.PartialSuccessPremiumNeededFailure",batchBuyPartialSuccessNoSellersFailureMessage:"Heading.PartialSuccessNoSellersFailure",premiumNeededFailureMessage:"Heading.PremiumNeededFailure",noSellersFailureMessage:"Heading.NoSellersFailure",batchBuyPartialSuccessInExperienceOnlyFailureMessage:"Heading.PartialSuccessInExperienceOnlyFailure",inExperienceOnlyFailureMessage:"Heading.InExperienceOnlyFailure",redirectToPartnerWebsiteMessage:"Description.RedirectToPartnerWebsite",continueToPaymentAction:"Action.ContinueToPayment",leavingRobloxHeading:"Heading.LeavingRoblox",pendingDeveloperProductLimitReachedMessage:"Message.PendingDeveloperProductLimitReached",pendingDeveloperProductLimitReachedHeading:"Heading.PendingDeveloperProductLimitReached",additionalRobuxNeeded:"Message.AdditionalRobux",economicRestrictionsErrorHeading:"Heading.EconomicRestrictionsError"};function S(){var e=g((0,C.createModal)(),2),a=e[0],e=e[1];function t(e){var t=e.translate,r=e.title,n=e.message,e=e.onDecline,n=we().createElement("div",{className:"modal-message"},n);return we().createElement(a,{title:r,body:n,thumbnail:we().createElement("span",{className:"icon-warning-orange-150x150"}),neutralButtonText:t(E.okAction),onNeutral:e,actionButtonShow:!1})}return t.defaultProps={onDecline:null},t.propTypes={translate:r().func.isRequired,title:r().string.isRequired,message:r().string.isRequired,onDecline:r().func},[(0,n.withTranslations)(t,o.purchasingResources),e]}var I=ReactDOMServer,P=CoreRobloxUtilities,Se=Roblox,x=Se.EnvironmentUrls.economyApi,A=Se.EnvironmentUrls.catalogApi,R=Se.EnvironmentUrls.apiGatewayUrl,T=Se.EnvironmentUrls.twoStepVerificationApi,N=Se.EnvironmentUrls.vngGamesShopUrl,M={getRobuxUpgradesUrl:function(e){return Ee.urlService.getUrlWithQueries("/Upgrades/Robux.aspx",{ctx:e})},getAvatarPageUrl:function(){return Ee.urlService.getAbsoluteUrl("/my/avatar")},getPurchaseItemUrl:function(e){return x+"/v1/purchases/products/"+e},getItemDetailsUrl:function(e,t){return A+"/v1/catalog/items/"+e+"/details?itemType="+t},postItemDetailsUrl:function(){return A+"/v1/catalog/items/details"},getPurchaseableDetailUrl:function(e){return x+"/v1/products/"+e+"?showPurchasable=true"},getPremiumConversionUrl:function(e,t){return"/premium/membership?ctx=WebItemDetail&upsellTargetType="+t+"&upsellTargetId="+e},getResellerDataUrl:function(e){return x+"/v1/assets/"+e+"/resellers?limit=10"},getInventoryUrl:function(e){return"/users/"+e+"/inventory"},getMetaDataUrl:function(){return x+"/v2/metadata"},getCurrentUserBalance:function(e){return x+"/v1/users/"+e+"/currency"},getPurchaseCollectibleItemUrl:function(e){return R+"/marketplace-sales/v1/item/"+e+"/purchase-item"},getPurchaseCollectibleItemInstanceUrl:function(e){return R+"/marketplace-sales/v1/item/"+e+"/purchase-resale"},getCollectibleItemDetailsUrl:function(){return R+"/marketplace-items/v1/items/details"},getTwoStepVerificationConfig:function(e){return T+"/v1/users/"+e+"/configuration"},postGenerateTwoStepVerificationToken:function(e){return x+"/v2/"+e+"/two-step-verification/generate"},postRedeemTwoStepVerificationChallenge:function(e){return x+"/v2/"+e+"/two-step-verification/redeem"},postBulkPurchaseUrl:function(){return R+"/cloud/v2/avatar-marketplace-orders"},getVngShopUrl:function(){return R+"/vng-payments/v1/getVngShopUrl"},getVngShopFallbackUrl:function(){return N},getSubscriptionsMetadataUrl:function(){return R+"/roblox-subscriptions/v1/metadata"},postPurchaseDeveloperProductUrl:function(e){return R+"/developer-products/v1/developer-products/"+e+"/purchase?requestLocationType=ExperienceDetailPage"},postPurchaseGamePassUrl:function(e){return R+"/game-passes/v1/game-passes/"+e+"/purchase"}},O=go;function D(e){var t=e.translate,r=e.price,n=e.color,e=e.useFreeText;return 0===r&&e?we().createElement("span",{className:"text-robux text-free"},t(O.freeLabel)):we().createElement(we().Fragment,null,we().createElement("span",{className:"icon-robux".concat(n?"-".concat(n):"","-16x16")}),we().createElement("span",{className:"text-robux"},Ee.numberFormat.getNumberFormat(r)))}D.defaultProps={color:"",useFreeText:!0},D.propTypes={price:r().number.isRequired,translate:r().func.isRequired,color:r().string,useFreeText:r().bool};var F=(0,n.withTranslations)(D,o.purchasingResources);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=go;function _(){var e=U((0,C.createModal)(),2),i=e[0],e=e[1];function t(e){var t=e.translate,r=e.robuxNeeded,n=e.source,a=e.onAccept,e=we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:t(k.insufficientFundsMessage,{robux:(0,I.renderToString)(we().createElement(F,{price:r}))})}});return r||(e=we().createElement("div",null," ",t(k.additionalRobuxNeeded))),we().createElement(i,L({title:t(k.insufficientFundsHeading),body:e,thumbnail:we().createElement("span",{className:"money-stack-icon"}),neutralButtonText:t(k.cancelAction),actionButtonText:t(k.buyRobuxAction),onAction:function(){return P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX),a?a():window.location=M.getRobuxUpgradesUrl(n),!1},onClose:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL)}},{actionButtonShow:!0}))}return t.defaultProps={onAccept:null,source:""},t.propTypes={translate:r().func.isRequired,source:r().string,onAccept:r().func,robuxNeeded:r().number.isRequired},[(0,n.withTranslations)(t,o.purchasingResources),e]}var Pe=function(){var e=document.getElementById("ItemPurchaseAjaxData");return e?{userRobuxBalance:parseInt(e.getAttribute("data-user-balance-robux"),10),userBc:parseInt(e.getAttribute("data-user-bc"),10),hasCurrencyServiceError:"True"===e.getAttribute("data-has-currency-service-error"),currencyServiceErrorMessage:e.getAttribute("data-currency-service-error-message")}:{}},j=go;function q(e){var t=e.translate,r=e.expectedPrice,e=e.currentRobuxBalance,r=(null!=e?e:Pe().userRobuxBalance)-r;return e?we().createElement("span",{dangerouslySetInnerHTML:{__html:t(j.balanceAfterMessage,{robuxBalance:(0,I.renderToString)(we().createElement(F,{price:r,color:"gray",useFreeText:!1}))})}}):we().createElement("span",null)}q.propTypes={expectedPrice:r().number.isRequired,currentRobuxBalance:r().number,translate:r().func.isRequired},q.defaultProps={currentRobuxBalance:void 0};var H=(0,n.withTranslations)(q,o.purchasingResources);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=go;function X(){var e=z((0,C.createModal)(),2),c=e[0],e=e[1];function t(e){var t=e.translate,r=e.expectedPrice,n=e.currentPrice,a=e.onAction,i=e.loading,e=z((0,ge.useState)(!1),2),o=e[0],l=e[1],r=we().createElement(we().Fragment,null,we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:t(G.priceChangedMessage,{robuxBefore:(0,I.renderToString)(we().createElement(F,{price:r,color:"gray"})),robuxAfter:(0,I.renderToString)(we().createElement(F,{price:n,color:"gray"}))})}}),we().createElement("div",{className:"modal-checkbox checkbox"},we().createElement("input",{id:"modal-checkbox-input",name:"agreementCheckBox",type:"checkbox",checked:o}),we().createElement("label",{onClick:function(){return l(!o)},htmlFor:"modal-checkbox-input"},t(G.agreeAndPayLabel))));return we().createElement(c,V({title:t(G.priceChangedHeading),body:r,neutralButtonText:t(G.cancelAction),actionButtonText:t(G.buyRobuxAction),onAction:a,loading:i,disableActionButton:!o,footerText:we().createElement(H,{expectedPrice:n})},{actionButtonShow:!0}))}return t.defaultProps={loading:!1},t.propTypes={translate:r().func.isRequired,expectedPrice:r().number.isRequired,currentPrice:r().number.isRequired,onAction:r().func.isRequired,loading:r().bool},[(0,n.withTranslations)(t,o.purchasingResources),e]}function Y(e){e=e.name;return we().createElement("span",{className:"font-bold"},e)}Y.propTypes={name:r().string.isRequired};var $=Y;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=go;function Ie(){var e=Q((0,C.createModal)(),2),m=e[0],e=e[1];function t(e){var t,r=e.translate,n=e.title,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=e.assetType,c=e.assetTypeDisplayName,s=e.sellerName,u=e.isPlace,d=e.onAction,f=e.loading,e=e.currentRobuxBalance,c={assetName:(0,I.renderToString)(we().createElement($,{name:o})),assetType:c||l,seller:(0,Ee.escapeHtml)()(s),robux:(0,I.renderToString)(we().createElement(F,{price:a}))},l=u?J.promptBuyAccessMessage:J.promptBuyMessage;u||""!==c.seller||(l=J.promptBuySimplifiedMessage),s=0===a?(t=r(J.getItemHeading),r(J.getNowAction)):(t=r(J.buyItemHeading),r(J.buyNowAction)),u&&(s=r(J.buyAccessAction));c=we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:r(l,c)}});return we().createElement(m,K({title:n||t,body:c,thumbnail:i,neutralButtonText:r(J.cancelAction),actionButtonText:s,onAction:d,footerText:we().createElement(H,{expectedPrice:a,currentRobuxBalance:e}),loading:f},{actionButtonShow:!0}))}return t.defaultProps={isPlace:!1,assetTypeDisplayName:"",title:"",loading:!1,currentRobuxBalance:void 0},t.propTypes={translate:r().func.isRequired,title:r().string,expectedPrice:r().number.isRequired,thumbnail:r().node.isRequired,assetName:r().string.isRequired,assetType:r().string.isRequired,assetTypeDisplayName:r().string,sellerName:r().string.isRequired,isPlace:r().bool,onAction:r().func.isRequired,loading:r().bool,currentRobuxBalance:r().number},[(0,n.withTranslations)(t,o.purchasingResources),e]}(dn=fn=fn||{}).Bought="bought",dn.Renewed="renewed";var ee=fn;function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ne=M.getAvatarPageUrl,ae=go;function xe(){var e=te((0,C.createModal)(),2),y=e[0],e=e[1];function t(e){var t,r,n=e.translate,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=e.assetType,c=e.assetIsWearable,s=e.assetTypeDisplayName,u=e.sellerName,d=e.isPlace,f=e.isPrivateServer,m=e.onAccept,p=e.onDecline,v=e.transactionVerb,b=e.itemDelayed,h=e.currentRobuxBalance,e=n(ae.continueAction);f?(t=n(ae.configureAction),e=n(ae.notNowAction)):b?(t=n(ae.customizeAction),e=n(ae.doneAction)):c&&(t=n(ae.customizeAction),e=n(ae.notNowAction),r=function(){return window.location.href=ne(),!1});u={assetName:(0,I.renderToString)(we().createElement($,{name:o})),assetType:s||l,seller:(0,Ee.escapeHtml)()(u),robux:(0,I.renderToString)(we().createElement(F,{price:a}))},d=v===ee.Bought?d?ae.successfullyAcquiredAccessMessage:ae.successfullyBoughtMessage:v===ee.Renewed?d?ae.successfullyRenewedAccessMessage:ae.successfullyRenewedMessage:d?ae.successfullyAcquiredAccessMessage:ae.successfullyAcquiredMessage,u=we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:"".concat(n(d,u)," ").concat(b?n(ae.itemGrantDelayMessage):"")}});return we().createElement(y,{title:n(ae.purchaseCompleteHeading),body:u,thumbnail:i,neutralButtonText:e,actionButtonText:t,onAction:m||r,onNeutral:p,footerText:!f&&we().createElement(H,{expectedPrice:a,currentRobuxBalance:h}),actionButtonShow:!!t,disableActionButton:b,onClose:function(){return window.location.reload()}})}return t.defaultProps={isPlace:!1,assetTypeDisplayName:"",transactionVerb:"",assetIsWearable:!1,isPrivateServer:!1,onAccept:null,onDecline:null,itemDelayed:!1,currentRobuxBalance:void 0},t.propTypes={translate:r().func.isRequired,transactionVerb:r().string,expectedPrice:r().number.isRequired,thumbnail:r().node.isRequired,assetName:r().string.isRequired,assetType:r().string.isRequired,assetTypeDisplayName:r().string,assetIsWearable:r().bool,sellerName:r().string.isRequired,isPlace:r().bool,isPrivateServer:r().bool,onAccept:r().func,onDecline:r().func,itemDelayed:r().bool,currentRobuxBalance:r().number},[(0,n.withTranslations)(t,o.purchasingResources),e]}var ie=M.getPurchaseItemUrl,oe=M.getPurchaseCollectibleItemUrl,le=M.getPurchaseCollectibleItemInstanceUrl,ce=M.postBulkPurchaseUrl,se=M.postPurchaseDeveloperProductUrl,ue=M.postPurchaseGamePassUrl,Ae={purchaseCollectibleItem:function(e,t){e={url:oe(e),retryable:!0,withCredentials:!0};return Ee.httpService.post(e,t)},purchaseCollectibleItemInstance:function(e,t){e={url:le(e),retryable:!0,withCredentials:!0};return Ee.httpService.post(e,t)},purchaseDeveloperProduct:function(e,t){e={url:se(e),withCredentials:!0};return Ee.httpService.post(e,t)},purchaseGamePass:function(e,t){e={url:ue(e),retryable:!0,withCredentials:!0};return Ee.httpService.post(e,t)},purchaseItem:function(e,t){e={url:ie(e),retryable:!0,withCredentials:!0};return Ee.httpService.post(e,t)},bulkPurchaseItem:function(e,t,r,n){n={url:"".concat(ce(),"?idempotencyKey.key=").concat(n),retryable:!0,withCredentials:!0},r={purchasingUser:"users/".concat(e),context:{productSurface:t},fulfillmentGroups:[r]};return Ee.httpService.post(n,r)}};function de(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var fe=M.getItemDetailsUrl,me=M.postItemDetailsUrl,pe=M.getPurchaseableDetailUrl,ve=M.getResellerDataUrl,be=M.getMetaDataUrl,he=M.getCollectibleItemDetailsUrl,ye=M.getCurrentUserBalance,Re=M.getSubscriptionsMetadataUrl,Te={getItemDetails:function(e,t){t={url:fe(e,t),retryable:!0,withCredentials:!0};return Ee.httpService.get(t)},postItemDetails:function(e){var t={url:me(),retryable:!0,withCredentials:!0},e={items:e};return Ee.httpService.post(t,e)},getItemPurchasableDetail:function(e){e={url:pe(e),retryable:!0,withCredentials:!0};return Ee.httpService.get(e)},getResellerDetail:function(e){e={url:ve(e),retryable:!0,withCredentials:!0};return Ee.httpService.get(e)},getEconomyMetadata:function(){var e={url:be(),retryable:!0,withCredentials:!0};return Ee.httpService.get(e)},getCollectibleItemDetails:function(n){return l=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:he(),retryable:!0,withCredentials:!0},r={itemIds:[n]},e.next=4,Ee.httpService.post(t,r);case 4:return r=e.sent,e.abrupt("return",(null===(r=r.data)||void 0===r?void 0:r[0])||null);case 6:case"end":return e.stop()}},e)}),function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){de(n,t,r,a,i,"next",e)}function i(e){de(n,t,r,a,i,"throw",e)}a(void 0)})}();var l},getCurrentUserBalance:function(e){e={url:ye(e),retryable:!0,withCredentials:!0};return Ee.httpService.get(e)},getSubscriptionsMetadata:function(){var e={url:Re(),retryable:!0,withCredentials:!0};return Ee.httpService.get(e)}},Ce=function(e,o,l,c){return new(l=l||Promise)(function(r,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Ne=function(r,n){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Me=M.getTwoStepVerificationConfig,Oe=M.postGenerateTwoStepVerificationToken,De=M.postRedeemTwoStepVerificationChallenge,Fe=function(){return Ce(void 0,void 0,Promise,function(){var t;return Ne(this,function(e){switch(e.label){case 0:t={url:Oe("spend-friction"),retryable:!0,withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ee.httpService.post(t)];case 2:return[2,e.sent().data||null];case 3:return e.sent(),[2,null];case 4:return[2]}})})},Le=function(n,a){return Ce(void 0,void 0,Promise,function(){var t,r;return Ne(this,function(e){switch(e.label){case 0:t={url:De("spend-friction"),retryable:!0,withCredentials:!0},r={challengeToken:n,verificationToken:a},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ee.httpService.post(t,r)];case 2:return r=e.sent(),[2,null!==(r=r.data)&&void 0!==r&&r];case 3:return e.sent(),[2,!1];case 4:return[2]}})})},Ue=function(e,o,l,c){return new(l=l||Promise)(function(r,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Be=function(r,n){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ke=Se.AccountIntegrityChallengeService.TwoStepVerification;function _e(e){var t=e.systemFeedbackService,e=e.translate;t.warning(e("Response.VerificationError"))}function je(e){var o=e.stopTwoStepVerification,l=e.systemFeedbackService,r=e.totalAttempts,c=e.translate;return Ue(this,void 0,void 0,function(){var i,t=this;return Be(this,function(e){switch(e.label){case 0:return[4,Fe()];case 1:return(i=e.sent())?Se.AccountIntegrityChallengeService.TwoStepVerification.renderChallenge({containerId:"two-sv-popup-entry",userId:Se.CurrentUser.userId,challengeId:i,actionType:ke.ActionType.RobuxSpend,renderInline:!1,shouldShowRememberDeviceCheckbox:!1,onChallengeCompleted:function(a){return Ue(t,void 0,void 0,function(){var n;return Be(this,function(e){switch(e.label){case 0:return[4,Le(i,a.verificationToken)];case 1:return n=e.sent(),o(),n?(r=(t={systemFeedbackService:l,translate:c}).systemFeedbackService,t=t.translate,r.success(t("Response.SuccessfulVerificationV2"))):_e({systemFeedbackService:l,translate:c}),[2]}var t,r})})},onChallengeInvalidated:function(){var e=r||0;e<3?je({stopTwoStepVerification:o,systemFeedbackService:l,translate:c,totalAttempts:e+1}):(_e({systemFeedbackService:l,translate:c}),o())},onModalChallengeAbandoned:function(){}}):_e({systemFeedbackService:l,translate:c}),[2]}})})}var qe=(0,n.withTranslations)(function(e){var t=this,r=e.translate,n=e.isTwoStepVerificationActive,a=e.stopTwoStepVerification,i=e.systemFeedbackService;return(0,ge.useEffect)(function(){n&&Ue(t,void 0,void 0,function(){return Be(this,function(e){switch(e.label){case 0:return[4,Ce(void 0,void 0,Promise,function(){var t;return Ne(this,function(e){switch(e.label){case 0:t={url:Me(Se.CurrentUser.userId),retryable:!0,withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ee.httpService.get(t)];case 2:return t=e.sent(),[2,((null===(t=null==t?void 0:t.data)||void 0===t?void 0:t.methods)||[]).some(function(e){return!!e.enabled})];case 3:return e.sent(),[2,!1];case 4:return[2]}})})];case 1:return e.sent()?je({stopTwoStepVerification:a,systemFeedbackService:i,translate:r}):(t={titleText:(t=(t={translate:r}).translate)("Heading.TwoStepVerificationRequiredV3"),bodyContent:t("Message.TwoStepVerificationRequiredV4"),imageUrl:void 0,acceptText:t("Action.GoToSecurity"),acceptColor:"btn-primary-md",onAccept:function(){window.location.href=Se.Endpoints.getAbsoluteUrl("/my/account#!/security")},declineText:t("Action.Cancel"),dismissable:!0,allowHtmlContentInBody:!0,onOpenCallback:function(){}},Se.Dialog.open(t)),[2]}var t})})},[n]),we().createElement("div",{id:"two-sv-popup-entry"})},o.purchasingResources),He=function(){return(He=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Ve(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}var ze=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t))for(var a=t.length,i=0;i<a;i++)t[i]&&(r=e(t[i]))&&(n&&(n+=" "),n+=r);else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}(e))&&(n&&(n+=" "),n+=t);return n},We=ReactJSX;function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ye=null!==globalThis&&void 0!==globalThis&&globalThis.document?ge.useLayoutEffect:function(){},$e=ge[" useId ".trim().toString()]||function(){},Ke=0;function Qe(e){var t=Ge(ge.useState($e()),2),r=t[0],n=t[1];return Ye(function(){e||n(function(e){return null!=e?e:String(Ke++)})},[e]),e||(r?"radix-".concat(r):"")}function Ze(e,t){void 0===t&&(t={});var r,n=t.insertAt;e&&"undefined"!=typeof document&&(r=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css","top"===n&&r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)))}function Je(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=rt(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function et(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){if(e){if("string"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(e,t):void 0}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach(function(e){ot(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)r=a[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function ct(t,r,e){var e=(2<arguments.length&&void 0!==e?e:{}).checkForDefaultPrevented,n=void 0===e||e;return function(e){if(null!=t&&t(e),!1===n||!e.defaultPrevented)return null==r?void 0:r(e)}}function st(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function ut(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=st(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():st(a[e],null)}}}}function dt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ge.useCallback(ut.apply(void 0,t),t)}function ft(e){var t=ge.forwardRef(function(e,t){var r,n=e.children,a=lt(e,["children"]);if(ge.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=it({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=it(it({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return it(it({},n),i)}(a,n.props);return n.type!==ge.Fragment&&(a.ref=t?ut(t,i):i),ge.cloneElement(n,a)}return 1<ge.Children.count(n)?ge.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var mt=Symbol("radix.slottable");function pt(e){return ge.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===mt}var vt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=ft(t),(r=ge.forwardRef(function(e,t){var r=e.children,n=lt(e,["children"]),e=ge.Children.toArray(r),a=e.find(pt);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<ge.Children.count(i)?ge.Children.only(null):ge.isValidElement(i)?i.props.children:null:e});return(0,We.jsx)(o,it(it({},n),{},{ref:t,children:ge.isValidElement(i)?ge.cloneElement(i,void 0,e):null}))}return(0,We.jsx)(o,it(it({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=ge.forwardRef(function(e,t){var r=e.asChild,e=lt(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,We.jsx)(r,it(it({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),it(it({},e),{},ot({},n,r))},{});function bt(e){var a=ge.useRef(e);return ge.useEffect(function(){a.current=e}),ge.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[])}function ht(e,t){var r,a,n=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,i=(r=e,a=ge.useRef(r),ge.useEffect(function(){a.current=r}),ge.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[]));ge.useEffect(function(){function e(e){"Escape"===e.key&&i(e)}return n.addEventListener("keydown",e,{capture:!0}),function(){return n.removeEventListener("keydown",e,{capture:!0})}},[i,n])}var yt,gt="dismissableLayer.update",wt=ge.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Et=ge.forwardRef(function(e,t){var r=e.disableOutsidePointerEvents,n=void 0!==r&&r,a=e.onEscapeKeyDown,i=e.onPointerDownOutside,o=e.onFocusOutside,l=e.onInteractOutside,c=e.onDismiss,s=lt(e,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=ge.useContext(wt),d=tt(ge.useState(null),2),f=d[0],m=d[1],p=null!==(b=null==f?void 0:f.ownerDocument)&&void 0!==b?b:null===globalThis||void 0===globalThis?void 0:globalThis.document,v=tt(ge.useState({}),2)[1],r=dt(t,function(e){return m(e)}),d=Array.from(u.layers),b=tt(et(u.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],t=d.indexOf(b),h=f?d.indexOf(f):-1,b=0<u.layersWithOutsidePointerEventsDisabled.size,y=t<=h,d=function(e,t){var n=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,a=bt(function(e){var t=e.target,r=et(u.branches).some(function(e){return e.contains(t)});y&&!r&&(i!==null&&i!==void 0&&i(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))}),i=ge.useRef(!1),o=ge.useRef(function(){});return ge.useEffect(function(){function e(e){var t,r;e.target&&!i.current?(t=function(){Pt("dismissableLayer.pointerDownOutside",a,r,{discrete:!0})},r={originalEvent:e},"touch"===e.pointerType?(n.removeEventListener("click",o.current),o.current=t,n.addEventListener("click",o.current,{once:!0})):t()):n.removeEventListener("click",o.current),i.current=!1}var t=window.setTimeout(function(){n.addEventListener("pointerdown",e)},0);return function(){window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",o.current)}},[n,a]),{onPointerDownCapture:function(){return i.current=!0}}}(function(e){var t=e.target,r=et(u.branches).some(function(e){return e.contains(t)});y&&!r&&(i!==null&&i!==void 0&&i(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))},p),t=function(e,t){var r=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=bt(function(e){var t=e.target;et(u.branches).some(function(e){return e.contains(t)})||(o!==null&&o!==void 0&&o(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))}),a=ge.useRef(!1);return ge.useEffect(function(){function e(e){e.target&&!a.current&&Pt("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})}return r.addEventListener("focusin",e),function(){return r.removeEventListener("focusin",e)}},[r,n]),{onFocusCapture:function(){return a.current=!0},onBlurCapture:function(){return a.current=!1}}}(function(e){var t=e.target;et(u.branches).some(function(e){return e.contains(t)})||(o!==null&&o!==void 0&&o(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))},p);return ht(function(e){h===u.layers.size-1&&(null!=a&&a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},p),ge.useEffect(function(){if(f)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(yt=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),St(),function(){n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=yt)}},[f,p,n,u]),ge.useEffect(function(){return function(){f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),St())}},[f,u]),ge.useEffect(function(){function e(){return v({})}return document.addEventListener(gt,e),function(){return document.removeEventListener(gt,e)}},[]),(0,We.jsx)(vt.div,it(it({},s),{},{ref:r,style:it({pointerEvents:b?y?"auto":"none":void 0},e.style),onFocusCapture:ct(e.onFocusCapture,t.onFocusCapture),onBlurCapture:ct(e.onBlurCapture,t.onBlurCapture),onPointerDownCapture:ct(e.onPointerDownCapture,d.onPointerDownCapture)}))});function St(){var e=new CustomEvent(gt);document.dispatchEvent(e)}function Pt(e,t,r,n){var a,i,o=n.discrete,n=r.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),o?(i=r,(a=n)&&l.flushSync(function(){return a.dispatchEvent(i)})):n.dispatchEvent(r)}function It(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function xt(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=It(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():It(a[e],null)}}}}function At(e){var t=ge.forwardRef(function(e,t){var r,n=e.children,a=lt(e,["children"]);if(ge.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=it({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=it(it({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return it(it({},n),i)}(a,n.props);return n.type!==ge.Fragment&&(a.ref=t?xt(t,i):i),ge.cloneElement(n,a)}return 1<ge.Children.count(n)?ge.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}Et.displayName="DismissableLayer",ge.forwardRef(function(e,t){var r=ge.useContext(wt),n=ge.useRef(null),t=dt(t,n);return ge.useEffect(function(){var e=n.current;if(e)return r.branches.add(e),function(){r.branches.delete(e)}},[r.branches]),(0,We.jsx)(vt.div,it(it({},e),{},{ref:t}))}).displayName="DismissableLayerBranch";var Rt=Symbol("radix.slottable");function Tt(e){return ge.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Rt}var Ct=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=At(t),(r=ge.forwardRef(function(e,t){var r=e.children,n=lt(e,["children"]),e=ge.Children.toArray(r),a=e.find(Tt);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<ge.Children.count(i)?ge.Children.only(null):ge.isValidElement(i)?i.props.children:null:e});return(0,We.jsx)(o,it(it({},n),{},{ref:t,children:ge.isValidElement(i)?ge.cloneElement(i,void 0,e):null}))}return(0,We.jsx)(o,it(it({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=ge.forwardRef(function(e,t){var r=e.asChild,e=lt(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,We.jsx)(r,it(it({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),it(it({},e),{},ot({},n,r))},{});function Nt(e){var a=ge.useRef(e);return ge.useEffect(function(){a.current=e}),ge.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[])}var Mt="focusScope.autoFocusOnMount",Ot="focusScope.autoFocusOnUnmount",Dt={bubbles:!1,cancelable:!0},Ft=ge.forwardRef(function(e,t){var r=e.loop,i=void 0!==r&&r,n=e.trapped,o=void 0!==n&&n,a=e.onMountAutoFocus,r=e.onUnmountAutoFocus,n=lt(e,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),e=tt(ge.useState(null),2),l=e[0],c=e[1],s=Nt(a),u=Nt(r),d=ge.useRef(null),r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ge.useCallback(xt.apply(void 0,t),t)}(t,function(e){return c(e)}),f=ge.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;ge.useEffect(function(){if(o){var e=function(e){!f.paused&&l&&(e=e.target,l.contains(e)?d.current=e:Bt(d.current,{select:!0}))},t=function(e){f.paused||!l||null!==(e=e.relatedTarget)&&(l.contains(e)||Bt(d.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);var r=new MutationObserver(function(e){if(document.activeElement===document.body){var t,r=Je(e);try{for(r.s();!(t=r.n()).done;)0<t.value.removedNodes.length&&Bt(l)}catch(e){r.e(e)}finally{r.f()}}});return l&&r.observe(l,{childList:!0,subtree:!0}),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[o,l,f.paused]),ge.useEffect(function(){if(l){_t.add(f);var e,t=document.activeElement;return l.contains(t)||(e=new CustomEvent(Mt,Dt),l.addEventListener(Mt,s),l.dispatchEvent(e),e.defaultPrevented||(function(e,t){var r,n=void 0!==(t=(1<arguments.length&&void 0!==t?t:{}).select)&&t,a=document.activeElement,i=Je(e);try{for(i.s();!(r=i.n()).done;)if(Bt(r.value,{select:n}),document.activeElement!==a)return}catch(e){i.e(e)}finally{i.f()}}(Lt(l).filter(function(e){return"A"!==e.tagName}),{select:!0}),document.activeElement===t&&Bt(l))),function(){l.removeEventListener(Mt,s),setTimeout(function(){var e=new CustomEvent(Ot,Dt);l.addEventListener(Ot,u),l.dispatchEvent(e),e.defaultPrevented||Bt(null!=t?t:document.body,{select:!0}),l.removeEventListener(Ot,u),_t.remove(f)},0)}}},[l,s,u,f]);t=ge.useCallback(function(e){var t,r,n,a;(i||o)&&(f.paused||(a="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,t=document.activeElement,a&&t&&(r=e.currentTarget,n=(a=tt([Ut(a=Lt(n=r),n),Ut(a.reverse(),n)],2))[0],a=a[1],n&&a?e.shiftKey||t!==a?e.shiftKey&&t===n&&(e.preventDefault(),i&&Bt(a,{select:!0})):(e.preventDefault(),i&&Bt(n,{select:!0})):t===r&&e.preventDefault())))},[i,o,f.paused]);return(0,We.jsx)(Ct.div,it(it({tabIndex:-1},n),{},{ref:r,onKeyDown:t}))});function Lt(e){for(var t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return!(e.disabled||e.hidden||t)&&0<=e.tabIndex?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});r.nextNode();)t.push(r.currentNode);return t}function Ut(e,t){var r=Je(e);try{for(r.s();!(n=r.n()).done;){var n=n.value;if(!function(e,t){var r=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==r&&e===r)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}}catch(e){r.e(e)}finally{r.f()}}function Bt(e,t){var r=(1<arguments.length&&void 0!==t?t:{}).select,t=void 0!==r&&r;e&&e.focus&&(r=document.activeElement,e.focus({preventScroll:!0}),e!==r&&e instanceof HTMLInputElement&&"select"in e&&t&&e.select())}Ft.displayName="FocusScope";var kt,_t=(kt=[],{add:function(e){var t=kt[0];e!==t&&null!=t&&t.pause(),(kt=jt(kt,e)).unshift(e)},remove:function(e){null!==(e=(kt=jt(kt,e))[0])&&void 0!==e&&e.resume()}});function jt(e,t){e=et(e),t=e.indexOf(t);return-1!==t&&e.splice(t,1),e}function qt(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Ht(e){var t=ge.forwardRef(function(e,t){var r,n=e.children,a=lt(e,["children"]);if(ge.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=it({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=it(it({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return it(it({},n),i)}(a,n.props);return n.type!==ge.Fragment&&(a.ref=t?function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=qt(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():qt(a[e],null)}}}}(t,i):i),ge.cloneElement(n,a)}return 1<ge.Children.count(n)?ge.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Vt=Symbol("radix.slottable");function zt(e){return ge.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Vt}var Wt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=Ht(t),(r=ge.forwardRef(function(e,t){var r=e.children,n=lt(e,["children"]),e=ge.Children.toArray(r),a=e.find(zt);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<ge.Children.count(i)?ge.Children.only(null):ge.isValidElement(i)?i.props.children:null:e});return(0,We.jsx)(o,it(it({},n),{},{ref:t,children:ge.isValidElement(i)?ge.cloneElement(i,void 0,e):null}))}return(0,We.jsx)(o,it(it({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=ge.forwardRef(function(e,t){var r=e.asChild,e=lt(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,We.jsx)(r,it(it({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),it(it({},e),{},ot({},n,r))},{}),Gt=null!==globalThis&&void 0!==globalThis&&globalThis.document?ge.useLayoutEffect:function(){},Xt=ge.forwardRef(function(e,t){var r=e.container,n=lt(e,["container"]),a=tt(ge.useState(!1),2),e=a[0],i=a[1];Gt(function(){return i(!0)},[]);var o=r||e&&(null===globalThis||void 0===globalThis||null===(o=globalThis.document)||void 0===o?void 0:o.body);return o?c().createPortal((0,We.jsx)(Wt.div,it(it({},n),{},{ref:t})),o):null});Xt.displayName="Portal";var Yt=0;function $t(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kt="right-scroll-bar-position",Qt="width-before-scroll-bar";function Zt(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Jt="undefined"!=typeof window?ge.useLayoutEffect:ge.useEffect,er=new WeakMap;function tr(e){return e}var rr=function(e){var t=e.sideCar,e=Ve(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");t=t.read();if(!t)throw new Error("Sidecar medium not found");return ge.createElement(t,He({},e))};function nr(){}rr.isSideCarExport=!0;var ar=function(e){void 0===e&&(e={});var t=function(e,r){void 0===r&&(r=tr);var i=[],o=!1;return{read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(e){var t=r(e,o);return i.push(t),function(){i=i.filter(function(e){return e!==t})}},assignSyncMedium:function(t){for(o=!0;i.length;){var e=i;i=[],e.forEach(t)}i={push:function(e){return t(e)},filter:function(){return i}}},assignMedium:function(t){o=!0;var e,r=[];i.length&&(e=i,i=[],e.forEach(t),r=i);function n(){var e=r;r=[],e.forEach(t)}function a(){return Promise.resolve().then(n)}a(),i={push:function(e){r.push(e),a()},filter:function(e){return r=r.filter(e),i}}}}}(null);return t.options=He({async:!0,ssr:!1},e),t}(),ir=ge.forwardRef(function(e,t){var a,r,n,i,o,l,c=ge.useRef(null),s=ge.useState({onScrollCapture:nr,onWheelCapture:nr,onTouchMoveCapture:nr}),u=s[0],d=s[1],f=e.forwardProps,m=e.children,p=e.className,v=e.removeScrollBar,b=e.enabled,h=e.shards,y=e.sideCar,g=e.noIsolation,w=e.inert,E=e.allowPinchZoom,S=e.as,s=void 0===S?"div":S,S=e.gapMode,e=Ve(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=y,r=(a=[c,t],n=r||null,i=function(t){return a.forEach(function(e){return Zt(e,t)})},(o=(0,ge.useState)(function(){return{value:n,callback:i,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}})[0]).callback=i,l=o.facade,Jt(function(){var t,r,n,e=er.get(l);e&&(t=new Set(e),r=new Set(a),n=l.current,t.forEach(function(e){r.has(e)||Zt(e,null)}),r.forEach(function(e){t.has(e)||Zt(e,n)})),er.set(l,a)},[a]),l),u=He(He({},e),u);return ge.createElement(ge.Fragment,null,b&&ge.createElement(y,{sideCar:ar,removeScrollBar:v,shards:h,noIsolation:g,inert:w,setCallbacks:d,allowPinchZoom:!!E,lockRef:c,gapMode:S}),f?ge.cloneElement(ge.Children.only(m),He(He({},u),{ref:r})):ge.createElement(s,He({},u,{className:p,ref:r}),m))});function or(){var r=0,n=null;return{add:function(e){var t;0==r&&(n=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a.nc;return t&&e.setAttribute("nonce",t),e}())&&(t=e,(e=n).styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),t=n,(document.head||document.getElementsByTagName("head")[0]).appendChild(t)),r++},remove:function(){!--r&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}}function lr(){var r,n=(r=or(),function(e,t){ge.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])});return function(e){var t=e.styles,e=e.dynamic;return n(t,e),null}}function cr(e){return parseInt(e||"",10)||0}function sr(){var e=parseInt(document.body.getAttribute(mr)||"0",10);return isFinite(e)?e:0}function ur(e){var t,r=e.noRelative,n=e.noImportant,a=void 0===(t=e.gapMode)?"margin":t;ge.useEffect(function(){return document.body.setAttribute(mr,(sr()+1).toString()),function(){var e=sr()-1;e<=0?document.body.removeAttribute(mr):document.body.setAttribute(mr,e.toString())}},[]);var i,o,l=ge.useMemo(function(){return function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return dr;var t,r,n,n=(t=e,r=window.getComputedStyle(document.body),n=r["padding"===t?"paddingLeft":"marginLeft"],e=r["padding"===t?"paddingTop":"marginTop"],t=r["padding"===t?"paddingRight":"marginRight"],[cr(n),cr(e),cr(t)]),e=document.documentElement.clientWidth,t=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,t-e+n[2]-n[0])}}(a)},[a]);return ge.createElement(fr,{styles:(i=!r,o=a,e=n?"":"!important",r=(t=l).left,n=t.top,l=t.right,t=t.gap,void 0===o&&(o="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(e,";\n   padding-right: ").concat(t,"px ").concat(e,";\n  }\n  body[").concat(mr,"] {\n    overflow: hidden ").concat(e,";\n    overscroll-behavior: contain;\n    ").concat([i&&"position: relative ".concat(e,";"),"margin"===o&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(t,"px ").concat(e,";\n    "),"padding"===o&&"padding-right: ".concat(t,"px ").concat(e,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Kt," {\n    right: ").concat(t,"px ").concat(e,";\n  }\n  \n  .").concat(Qt," {\n    margin-right: ").concat(t,"px ").concat(e,";\n  }\n  \n  .").concat(Kt," .").concat(Kt," {\n    right: 0 ").concat(e,";\n  }\n  \n  .").concat(Qt," .").concat(Qt," {\n    margin-right: 0 ").concat(e,";\n  }\n  \n  body[").concat(mr,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(t,"px;\n  }\n"))})}ir.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ir.classNames={fullWidth:Qt,zeroRight:Kt};var dr={left:0,top:0,right:0,gap:0},fr=lr(),mr="data-scroll-locked",pr=!1;if("undefined"!=typeof window)try{var vr=Object.defineProperty({},"passive",{get:function(){return pr=!0}});window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch($e){pr=!1}function br(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])}function hr(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Sr(e,n)){var a=Pr(e,n);if(a[1]>a[2])return!0}}while((n=n.parentNode)&&n!==r.body);return!1}function yr(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]}function gr(e){return[e.deltaX,e.deltaY]}function wr(e){return e&&"current"in e?e.current:e}var Er=!!pr&&{passive:!1},Sr=function(e,t){return br(t,"v"===e?"overflowY":"overflowX")},Pr=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},Ir=0,xr=[],Ar=(vn=function(t){var i=ge.useRef([]),c=ge.useRef([0,0]),s=ge.useRef(),r=ge.useState(Ir++)[0],a=ge.useState(lr)[0],u=ge.useRef(t);ge.useEffect(function(){u.current=t},[t]),ge.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var e=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||((n=n||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([t.lockRef.current],(t.shards||[]).map(wr),!0).filter(Boolean);return e.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),e.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=ge.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!u.current.allowPinchZoom;var r=yr(e),n=c.current,a="deltaX"in e?e.deltaX:n[0]-r[0],i="deltaY"in e?e.deltaY:n[1]-r[1],o=e.target,n=Math.abs(a)>Math.abs(i)?"h":"v";if("touches"in e&&"h"==n&&"range"===o.type)return!1;r=hr(n,o);if(!r)return!0;if(r?l=n:(l="v"==n?"h":"v",r=hr(n,o)),!r)return!1;if(!s.current&&"changedTouches"in e&&(a||i)&&(s.current=l),!l)return!0;var l=s.current||l;return function(e,t,r,n,a){var i,o,l=(i=e,o=window.getComputedStyle(t).direction,"h"===i&&"rtl"===o?-1:1),o=l*n,c=r.target,s=t.contains(c),n=!1,r=0<o,u=0,d=0;do{var f=Pr(e,c),m=f[0],f=f[1]-f[2]-l*m}while((m||f)&&Sr(e,c)&&(u+=f,d+=m),c=c instanceof ShadowRoot?c.host:c.parentNode,!s&&c!==document.body||s&&(t.contains(c)||t===c));return(r&&(a&&Math.abs(u)<1||!a&&u<o)||!r&&(a&&Math.abs(d)<1||!a&&d<-o))&&(n=!0),n}(l,t,e,"h"===l?a:i,!0)},[]),e=ge.useCallback(function(e){var r,n=e;xr.length&&xr[xr.length-1]===a&&(r=("deltaY"in n?gr:yr)(n),(e=i.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,e=r,t[0]===e[0]&&t[1]===e[1]);var t})[0])&&e.should?n.cancelable&&n.preventDefault():e||(0<(e=(u.current.shards||[]).map(wr).filter(Boolean).filter(function(e){return e.contains(n.target)})).length?o(n,e[0]):!u.current.noIsolation)&&n.cancelable&&n.preventDefault())},[]),n=ge.useCallback(function(e,t,r,n){var a={name:e,delta:t,target:r,should:n,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};i.current.push(a),setTimeout(function(){i.current=i.current.filter(function(e){return e!==a})},1)},[]),l=ge.useCallback(function(e){c.current=yr(e),s.current=void 0},[]),d=ge.useCallback(function(e){n(e.type,gr(e),e.target,o(e,t.lockRef.current))},[]),f=ge.useCallback(function(e){n(e.type,yr(e),e.target,o(e,t.lockRef.current))},[]);ge.useEffect(function(){return xr.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",e,Er),document.addEventListener("touchmove",e,Er),document.addEventListener("touchstart",l,Er),function(){xr=xr.filter(function(e){return e!==a}),document.removeEventListener("wheel",e,Er),document.removeEventListener("touchmove",e,Er),document.removeEventListener("touchstart",l,Er)}},[]);var m=t.removeScrollBar,p=t.inert;return ge.createElement(ge.Fragment,null,p?ge.createElement(a,{styles:"\n  .block-interactivity-".concat(p=r," {pointer-events: none;}\n  .allow-interactivity-").concat(p," {pointer-events: all;}\n")}):null,m?ge.createElement(ur,{gapMode:t.gapMode}):null)},ar.useMedium(vn),rr),Rr=ge.forwardRef(function(e,t){return ge.createElement(ir,He({},e,{ref:t,sideCar:Ar}))});function Tr(e){return e&&(e.host||Tr(e.parentNode))}function Cr(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||(a=e,"undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),function(e,t,o,l){var r,n=(r=t,(Array.isArray(e)?e:[e]).map(function(e){if(r.contains(e))return e;var t=Tr(e);return t&&r.contains(t)?t:(console.error("aria-hidden",e,"in not contained inside",r,". Doing nothing"),null)}).filter(function(e){return Boolean(e)}));Dr[o]||(Dr[o]=new WeakMap);var c=Dr[o],s=[],u=new Set,a=new Set(n),e=function e(t){t&&!u.has(t)&&(u.add(t),e(t.parentNode))};return n.forEach(e),function i(e){e&&!a.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(u.has(e))i(e);else try{var t=e.getAttribute(l),r=null!==t&&"false"!==t,n=(Mr.get(e)||0)+1,a=(c.get(e)||0)+1;Mr.set(e,n),c.set(e,a),s.push(e),1===n&&r&&Or.set(e,!0),1===a&&e.setAttribute(o,"true"),r||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})}(t),u.clear(),Fr++,function(){s.forEach(function(e){var t=Mr.get(e)-1,r=c.get(e)-1;Mr.set(e,t),c.set(e,r),t||(Or.has(e)||e.removeAttribute(l),Or.delete(e)),r||e.removeAttribute(o)}),--Fr||(Mr=new WeakMap,Mr=new WeakMap,Or=new WeakMap,Dr={})}}(n,a,r,"aria-hidden")):function(){return null}}Rr.classNames=ir.classNames;var Nr=Rr,Mr=new WeakMap,Or=new WeakMap,Dr={},Fr=0;Ze(".bg-common-backdrop{background-color:var(--color-common-backdrop)}.shadow-transient-high{--alpha-color-shadow-subtle:rgba(0,0,0,.08);box-shadow:var(--size-0) var(--size-50) var(--size-100) -.5px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-250) var(--size-500) -.75px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-400) var(--size-800) -1px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-1200) var(--size-1400) -1.5px var(--alpha-color-shadow-subtle)}@media (prefers-color-scheme:dark){.shadow-transient-high{--alpha-color-shadow-subtle:rgba(4,4,8,.25)}}.light-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(0,0,0,.08)}.dark-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(4,4,8,.25)}.system-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(0,0,0,.08)}@media (prefers-color-scheme:dark){.system-theme .shadow-transient-high{--alpha-color-shadow-subtle:rgba(4,4,8,.25)}}.foundation-web-portal-zindex{z-index:2000}");var Lr={XSmall:"size-[var(--icon-size-xsmall)]",Small:"size-[var(--icon-size-small)]",Medium:"size-[var(--icon-size-medium)]",Large:"size-[var(--icon-size-large)]",XLarge:"size-[var(--icon-size-xlarge)]"},Ur=we().forwardRef(function(e,t){var r=e.name,n=e.size,a=void 0===n?"Medium":n,n=e.className;e.children;e=Ve(e,["name","size","className","children"]);return we().createElement("span",He({ref:t,role:"presentation",className:ze("grow-0 shrink-0 basis-auto icon",r,Lr[a],n)},e))});function Br(){return we().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})}function kr(e){var t=e.variant,r=e.size,n=e.isCircular,a=e.className,e=Ve(e,["variant","size","isCircular","className"]);return we().createElement("button",He({type:"button","aria-label":"Close",className:ze("foundation-web-close-affordance flex stroke-none bg-none cursor-pointer",_r,qr[t],jr[r],n&&"radius-circle",a)},e),we().createElement(Br,null),we().createElement(Ur,{name:"icon-regular-x",size:r}))}Ur.displayName="Icon";var _r="relative clip group/interactable focus-visible:outline-focus disabled:outline-none",jr={Small:"padding-xsmall",Medium:"padding-small",Large:"padding-medium"},qr={Utility:"bg-action-link",OverMedia:"bg-over-media-100"};function Hr(e){return function(e){if(Array.isArray(e))return Gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Wr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)r=a[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||Wr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){if(e){if("string"==typeof e)return Gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(e,t):void 0}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Yr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xr(Object(r),!0).forEach(function(e){$r(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function $r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(t,r,e){var e=(2<arguments.length&&void 0!==e?e:{}).checkForDefaultPrevented,n=void 0===e||e;return function(e){if(null!=t&&t(e),!1===n||!e.defaultPrevented)return null==r?void 0:r(e)}}function Qr(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Zr(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=Qr(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():Qr(a[e],null)}}}}function Jr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ge.useCallback(Zr.apply(void 0,t),t)}function en(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var a=r[0];if(1===r.length)return a;function n(){var t=r.map(function(e){return{useScope:e(),scopeName:e.scopeName}});return function(n){var e=t.reduce(function(e,t){var r=t.useScope,t=t.scopeName;return Yr(Yr({},e),r(n)["__scope".concat(t)])},{});return ge.useMemo(function(){return $r({},"__scope".concat(a.scopeName),e)},[e])}}return n.scopeName=a.scopeName,n}function tn(e){var a=ge.useRef(e);return ge.useEffect(function(){a.current=e}),ge.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[])}function rn(e){var a,r,t,i,n,o,l,c,s,u,d=e.present,f=e.children,m=(a=d,t=zr(ge.useState(),2),i=t[0],n=t[1],o=ge.useRef({}),l=ge.useRef(a),c=ge.useRef("none"),t=a?"mounted":"unmounted",t=zr((r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},ge.useReducer(function(e,t){return null!==(t=r[e][t])&&void 0!==t?t:e},t)),2),s=t[0],u=t[1],ge.useEffect(function(){var e=an(o.current);c.current="mounted"===s?e:"none"},[s]),nn(function(){var e,t,r=o.current,n=l.current;n!==a&&(e=c.current,t=an(r),a?u("MOUNT"):"none"===t||"none"===(null==r?void 0:r.display)?u("UNMOUNT"):u(n&&e!==t?"ANIMATION_OUT":"UNMOUNT"),l.current=a)},[a,u]),nn(function(){if(i){var e,n,a=null!==(e=i.ownerDocument.defaultView)&&void 0!==e?e:window,t=function(e){var t,r=an(o.current).includes(e.animationName);e.target===i&&r&&(u("ANIMATION_END"),!l.current)&&(t=i.style.animationFillMode,i.style.animationFillMode="forwards",n=a.setTimeout(function(){"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=t)}))},r=function(e){e.target===i&&(c.current=an(o.current))};return i.addEventListener("animationstart",r),i.addEventListener("animationcancel",t),i.addEventListener("animationend",t),function(){a.clearTimeout(n),i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",t),i.removeEventListener("animationend",t)}}u("ANIMATION_END")},[i,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:ge.useCallback(function(e){e&&(o.current=getComputedStyle(e)),n(e)},[])}),p="function"==typeof f?f({present:m.isPresent}):ge.Children.only(f),e=Jr(m.ref,(e=p,(t=null===(d=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in t&&t.isReactWarning?e.ref:(t=null===(d=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in t&&t.isReactWarning?e.props.ref:e.props.ref||e.ref));return"function"==typeof f||m.isPresent?ge.cloneElement(p,{ref:e}):null}var nn=null!==globalThis&&void 0!==globalThis&&globalThis.document?ge.useLayoutEffect:function(){};function an(e){return(null==e?void 0:e.animationName)||"none"}function on(e){var t,r,o=(t=e,(r=ge.forwardRef(function(e,t){var r,n=e.children,a=Vr(e,["children"]);if(ge.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=Yr({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=Yr(Yr({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return Yr(Yr({},n),i)}(a,n.props);return n.type!==ge.Fragment&&(a.ref=t?Zr(t,i):i),ge.cloneElement(n,a)}return 1<ge.Children.count(n)?ge.Children.only(null):null})).displayName="".concat(t,".SlotClone"),r),r=ge.forwardRef(function(e,t){var r=e.children,n=Vr(e,["children"]),e=ge.Children.toArray(r),a=e.find(cn);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<ge.Children.count(i)?ge.Children.only(null):ge.isValidElement(i)?i.props.children:null:e});return(0,We.jsx)(o,Yr(Yr({},n),{},{ref:t,children:ge.isValidElement(i)?ge.cloneElement(i,void 0,e):null}))}return(0,We.jsx)(o,Yr(Yr({},n),{},{ref:t,children:r}))});return r.displayName="".concat(e,".Slot"),r}rn.displayName="Presence";var ln=Symbol("radix.slottable");function cn(e){return ge.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ln}var sn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var a=on("Primitive.".concat(n)),t=ge.forwardRef(function(e,t){var r=e.asChild,e=Vr(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,We.jsx)(r,Yr(Yr({},e),{},{ref:t}))});return t.displayName="Primitive.".concat(n),Yr(Yr({},e),{},$r({},n,t))},{}),un="Dialog",dn=(e=zr(function(l,e){var t=1<arguments.length&&void 0!==e?e:[],c=[],e=function(){var r=c.map(function(e){return ge.createContext(e)});return function(e){var t=(null==e?void 0:e[l])||r;return ge.useMemo(function(){return $r({},"__scope".concat(l),Yr(Yr({},e),{},$r({},l,t)))},[e,t])}};return e.scopeName=l,[function(n,a){var i=ge.createContext(a),o=c.length;c=[].concat(Hr(c),[a]);function e(e){var t=e.scope,r=e.children,n=Vr(e,["scope","children"]),t=(null==t||null===(a=t[l])||void 0===a?void 0:a[o])||i,a=ge.useMemo(function(){return n},Object.values(n));return(0,We.jsx)(t.Provider,{value:a,children:r})}return e.displayName=n+"Provider",[e,function(e,t){var r=(null==t||null===(r=t[l])||void 0===r?void 0:r[o])||i,r=ge.useContext(r);if(r)return r;if(void 0!==a)return a;throw new Error("`".concat(e,"` must be used within `").concat(n,"`"))}]},en.apply(void 0,[e].concat(Hr(t)))]}(un),2))[0],fn=(e[1],zr(dn(un),2)),mn=fn[0],pn=fn[1],vn=function(e){var t,r,n,a,i,o,l,c=e.__scopeDialog,s=e.children,u=e.open,d=e.defaultOpen,f=e.onOpenChange,m=e.modal,p=void 0===m||m,e=ge.useRef(null),m=ge.useRef(null),u=(a=(u={prop:u,defaultProp:d,onChange:f}).prop,d=u.defaultProp,f=u.onChange,d=(f={defaultProp:d,onChange:u=void 0===f?function(){}:f}).defaultProp,f=f.onChange,d=ge.useState(d),t=zr(d,1)[0],r=ge.useRef(t),n=tn(f),ge.useEffect(function(){r.current!==t&&(n(t),r.current=t)},[t,r,n]),f=(d=zr(f=d,2))[0],i=d[1],f=(o=void 0!==a)?a:f,l=tn(u),[f,ge.useCallback(function(e){var t;o?(t="function"==typeof e?e(a):e)!==a&&l(t):i(e)},[o,a,i,l])]),f=zr(u,2),u=f[0],u=void 0!==u&&u,v=f[1];return(0,We.jsx)(mn,{scope:c,triggerRef:e,contentRef:m,contentId:Qe(),titleId:Qe(),descriptionId:Qe(),open:u,onOpenChange:v,onOpenToggle:ge.useCallback(function(){return v(function(e){return!e})},[v]),modal:p,children:s})};vn.displayName=un;var bn="DialogTrigger";ge.forwardRef(function(e,t){var r=e.__scopeDialog,n=Vr(e,["__scopeDialog"]),r=pn(bn,r),t=Jr(t,r.triggerRef);return(0,We.jsx)(sn.button,Yr(Yr({type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Nn(r.open)},n),{},{ref:t,onClick:Kr(e.onClick,r.onOpenToggle)}))}).displayName=bn;var hn="DialogPortal",yn=(rr=zr(dn(hn,{forceMount:void 0}),2))[0],gn=rr[1];(Rr=function(e){var t=e.__scopeDialog,r=e.forceMount,n=e.children,a=e.container,i=pn(hn,t);return(0,We.jsx)(yn,{scope:t,forceMount:r,children:ge.Children.map(n,function(e){return(0,We.jsx)(rn,{present:r||i.open,children:(0,We.jsx)(Xt,{asChild:!0,container:a,children:e})})})})}).displayName=hn;var wn="DialogOverlay";(e=ge.forwardRef(function(e,t){var r=gn(wn,e.__scopeDialog),n=e.forceMount,r=void 0===n?r.forceMount:n,n=Vr(e,["forceMount"]),e=pn(wn,e.__scopeDialog);return e.modal?(0,We.jsx)(rn,{present:r||e.open,children:(0,We.jsx)(Sn,Yr(Yr({},n),{},{ref:t}))}):null})).displayName=wn;var En=on("DialogOverlay.RemoveScroll"),Sn=ge.forwardRef(function(e,t){var r=e.__scopeDialog,e=Vr(e,["__scopeDialog"]),r=pn(wn,r);return(0,We.jsx)(Nr,{as:En,allowPinchZoom:!0,shards:[r.contentRef],children:(0,We.jsx)(sn.div,Yr(Yr({"data-state":Nn(r.open)},e),{},{ref:t,style:Yr({pointerEvents:"auto"},e.style)}))})}),Pn="DialogContent";(fn=ge.forwardRef(function(e,t){var r=gn(Pn,e.__scopeDialog),n=e.forceMount,r=void 0===n?r.forceMount:n,n=Vr(e,["forceMount"]),e=pn(Pn,e.__scopeDialog);return(0,We.jsx)(rn,{present:r||e.open,children:e.modal?(0,We.jsx)(In,Yr(Yr({},n),{},{ref:t})):(0,We.jsx)(xn,Yr(Yr({},n),{},{ref:t}))})})).displayName=Pn;var In=ge.forwardRef(function(e,t){var r=pn(Pn,e.__scopeDialog),n=ge.useRef(null),t=Jr(t,r.contentRef,n);return ge.useEffect(function(){var e=n.current;if(e)return Cr(e)},[]),(0,We.jsx)(An,Yr(Yr({},e),{},{ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kr(e.onCloseAutoFocus,function(e){e.preventDefault(),null!==(e=r.triggerRef.current)&&void 0!==e&&e.focus()}),onPointerDownOutside:Kr(e.onPointerDownOutside,function(e){var t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;2!==t.button&&!r||e.preventDefault()}),onFocusOutside:Kr(e.onFocusOutside,function(e){return e.preventDefault()})}))}),xn=ge.forwardRef(function(n,e){var a=pn(Pn,n.__scopeDialog),i=ge.useRef(!1),o=ge.useRef(!1);return(0,We.jsx)(An,Yr(Yr({},n),{},{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(e){var t;null!==(t=n.onCloseAutoFocus)&&void 0!==t&&t.call(n,e),e.defaultPrevented||(i.current||null!==(t=a.triggerRef.current)&&void 0!==t&&t.focus(),e.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:function(e){var t;null!==(t=n.onInteractOutside)&&void 0!==t&&t.call(n,e),e.defaultPrevented||(i.current=!0,"pointerdown"===e.detail.originalEvent.type&&(o.current=!0));var r=e.target;(null===(t=a.triggerRef.current)||void 0===t?void 0:t.contains(r))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&o.current&&e.preventDefault()}}))}),An=ge.forwardRef(function(e,t){var r=e.__scopeDialog,n=e.trapFocus,a=e.onOpenAutoFocus,i=e.onCloseAutoFocus,e=Vr(e,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),o=pn(Pn,r),r=ge.useRef(null),t=Jr(t,r);return ge.useEffect(function(){var e,t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=t[0])&&void 0!==e?e:$t()),document.body.insertAdjacentElement("beforeend",null!==(t=t[1])&&void 0!==t?t:$t()),Yt++,function(){1===Yt&&document.querySelectorAll("[data-radix-focus-guard]").forEach(function(e){return e.remove()}),Yt--}},[]),(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)(Ft,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,We.jsx)(Et,Yr(Yr({role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Nn(o.open)},e),{},{ref:t,onDismiss:function(){return o.onOpenChange(!1)}}))}),(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)(Ln,{titleId:o.titleId}),(0,We.jsx)(Un,{contentRef:r,descriptionId:o.descriptionId})]})]})}),Rn="DialogTitle";(un=ge.forwardRef(function(e,t){var r=e.__scopeDialog,e=Vr(e,["__scopeDialog"]),r=pn(Rn,r);return(0,We.jsx)(sn.h2,Yr(Yr({id:r.titleId},e),{},{ref:t}))})).displayName=Rn;var Tn="DialogDescription";ge.forwardRef(function(e,t){var r=e.__scopeDialog,e=Vr(e,["__scopeDialog"]),r=pn(Tn,r);return(0,We.jsx)(sn.p,Yr(Yr({id:r.descriptionId},e),{},{ref:t}))}).displayName=Tn;var Cn="DialogClose";function Nn(e){return e?"open":"closed"}(dn=ge.forwardRef(function(e,t){var r=e.__scopeDialog,n=Vr(e,["__scopeDialog"]),a=pn(Cn,r);return(0,We.jsx)(sn.button,Yr(Yr({type:"button"},n),{},{ref:t,onClick:Kr(e.onClick,function(){return a.onOpenChange(!1)})}))})).displayName=Cn;var Mn,On,Dn="DialogTitleWarning",Fn=((rr=zr((rr=Dn,Mn={contentName:Pn,titleName:Rn,docsSlug:"dialog"},On=ge.createContext(Mn),Vn.displayName=rr+"Provider",[Vn,function(e){var t=ge.useContext(On);return t||Mn}]),2))[0],rr[1]),Ln=function(e){var t=e.titleId,e=Fn(Dn),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return ge.useEffect(function(){t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Un=function(e){var t=e.contentRef,r=e.descriptionId,n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(Fn("DialogDescriptionWarning").contentName,"}.");return ge.useEffect(function(){var e=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");r&&e&&(document.getElementById(r)||console.warn(n))},[n,t,r]),null},Bn=vn,kn=Rr,_n=e,jn=fn,qn=un,Hn=dn;function Vn(e){var t=e.children,r=Vr(e,["children"]),e=ge.useMemo(function(){return r},Object.values(r));return(0,We.jsx)(On.Provider,{value:e,children:t})}function zn(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Wn(e){var t=ge.forwardRef(function(e,t){var r,n=e.children,a=Vr(e,["children"]);if(ge.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=Yr({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){var e=r.apply(void 0,arguments);return t.apply(void 0,arguments),e}:t&&(i[e]=t):"style"===e?i[e]=Yr(Yr({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return Yr(Yr({},n),i)}(a,n.props);return n.type!==ge.Fragment&&(a.ref=t?function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=zn(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():zn(a[e],null)}}}}(t,i):i),ge.cloneElement(n,a)}return 1<ge.Children.count(n)?ge.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Gn=Symbol("radix.slottable");function Xn(e){return ge.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Gn}var Yn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=Wn(t),(r=ge.forwardRef(function(e,t){var r=e.children,n=Vr(e,["children"]),e=ge.Children.toArray(r),a=e.find(Xn);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<ge.Children.count(i)?ge.Children.only(null):ge.isValidElement(i)?i.props.children:null:e});return(0,We.jsx)(o,Yr(Yr({},n),{},{ref:t,children:ge.isValidElement(i)?ge.cloneElement(i,void 0,e):null}))}return(0,We.jsx)(o,Yr(Yr({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=ge.forwardRef(function(e,t){var r=e.asChild,e=Vr(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,We.jsx)(r,Yr(Yr({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),Yr(Yr({},e),{},$r({},n,r))},{}),$n=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Kn=ge.forwardRef(function(e,t){return(0,We.jsx)(Yn.span,Yr(Yr({},e),{},{ref:t,style:Yr(Yr({},$n),e.style)}))});function Qn(){var e=(0,ge.useContext)(Jn);if(!e)throw new Error("Dialog components must be used within a Dialog");return e}function Zn(e){var t=e.open,r=e.onOpenChange,n=e.children,a=e.size,i=e.type,o=void 0===i?"Default":i,l=e.ariaLabel,c=e.isModal,s=void 0===(i=e.hasCloseAffordance)||i,u=void 0===(i=e.hasMarginTop)||i,d=void 0===(i=e.hasMarginBottom)||i,f=void 0!==(e=e.experimentalDisablePointerEventsStylingOnBody)&&e,e=(0,ge.useMemo)(function(){return{size:a,ariaLabel:l,isModal:c,type:o,hasCloseAffordance:s,hasMarginTop:u,hasMarginBottom:d}},[a,l,c,o,s,u,d]);return(0,ge.useEffect)(function(){f&&setTimeout(function(){Object.assign(document.body.style,{pointerEvents:"unset"})},0)},[f,t]),we().createElement(Jn.Provider,{value:e},we().createElement(Bn,{open:t,onOpenChange:r},n))}Kn.displayName="VisuallyHidden",Ze(".foundation-web-dialog-overlay{bottom:0;display:grid;left:0;overflow-y:auto;place-items:center;position:fixed;right:0;top:0}.foundation-web-dialog-close-container{right:var(--size-300);top:var(--size-300);z-index:1}.foundation-web-dialog-hero-media{border-top-left-radius:var(--radius-large);border-top-right-radius:var(--radius-large);margin-left:calc(var(--stroke-standard)*-1);margin-right:calc(var(--stroke-standard)*-1);margin-top:calc(var(--stroke-standard)*-1);overflow:clip}.foundation-web-dialog-content[data-size=Small]{max-width:calc(var(--size-100)*80);min-width:calc(var(--size-100)*75)}.foundation-web-dialog-content[data-size=Medium]{max-width:calc(var(--size-100)*120);min-width:calc(var(--size-100)*94)}.foundation-web-dialog-content[data-size=Large]{max-width:calc(var(--size-100)*160);min-width:calc(var(--size-100)*94)}");var Jn=(0,ge.createContext)({size:"Medium",ariaLabel:"",isModal:!0,hasCloseAffordance:!0,hasMarginTop:!0,hasMarginBottom:!0,type:"Default"}),ea={Small:"padding-x-large",Medium:"padding-x-xlarge",Large:"padding-x-xlarge"},ta={Small:"padding-top-large",Medium:"padding-top-xlarge",Large:"padding-top-xlarge"},ra={Small:"padding-bottom-large",Medium:"padding-bottom-xlarge",Large:"padding-bottom-xlarge"};function na(e){var t=e.children,r=e.className,n=e.overlayClassName,a=Ve(e,["children","className","overlayClassName"]),i=(o=Qn()).size,e=o.isModal,o=o.hasCloseAffordance,n=ze("foundation-web-dialog-overlay padding-y-medium foundation-web-portal-zindex",e&&"bg-common-backdrop",n),r=ze("relative radius-large bg-surface-100 stroke-muted stroke-standard foundation-web-dialog-content shadow-transient-high",r);return we().createElement(kn,null,we().createElement(_n,{className:n},we().createElement(jn,He({className:r,"data-size":i},a),o&&we().createElement("div",{className:"absolute foundation-web-dialog-close-container"},we().createElement(Hn,{asChild:!0},we().createElement(kr,{variant:"OverMedia",size:i,isCircular:!0}))),t)))}function aa(e){var t=e.children,r=e.className,n=Ve(e,["children","className"]),a=(o=Qn()).size,i=o.ariaLabel,e=o.hasMarginTop,o=o.hasMarginBottom,r=ze(ea[a],e&&ta[a],o&&ra[a],r);return we().createElement("div",He({className:r},n),we().createElement(Kn,null,we().createElement(qn,null,i)),t)}function ia(e){var t=e.children,r=e.className,n=Ve(e,["children","className"]),e=Qn().size,r=ze(ea[e],ra[e],r);return we().createElement("div",He({className:r},n),t)}function oa(e){var t=e.width,e=e.height;return we().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},we().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))}function la(e){var t=e.children,r=e.className,n=e.style,a=e.as,i=void 0!==(l=e.isDisabled)&&l,o=void 0!==(s=e.isLoading)&&s,l=void 0===(c=e.size)?"Large":c,c=void 0===(s=e.variant)?"Emphasis":s,s=Ve(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),e=null!=a?a:"button",a=s.href,s=Ve(s,["href"]);return we().createElement(e,He({type:"button"===e?"button":void 0,disabled:i,"aria-disabled":i,href:i?void 0:a},s,{className:ze("foundation-web-button",_r,i?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",ua[l],(i?fa:da)[c],r),style:He({textDecoration:"none"},n)}),we().createElement(Br,null),o&&we().createElement("div",{"aria-hidden":"true",className:"absolute flex"},we().createElement(oa,{width:sa[l],height:sa[l]})),we().createElement("span",{className:ze("padding-y-xsmall text-truncate-end text-no-wrap",o&&"invisible")},t))}function ca(e){var t=e.translate,r=e.thumbnail,n=e.assetName,a=e.expectedPrice,e=void 0===(e=e.thumbnailSizePx)?150:e;return we().createElement("div",{className:"flex flex-row items-center gap-large"},we().createElement("div",{className:"relative shrink-0",style:{width:e,height:e}},we().createElement("div",{className:"rounded",style:{width:"100%",height:"100%",backgroundColor:"rgba(255,255,255,0.06)"}}),we().createElement("div",{className:"absolute",style:{inset:0,display:"flex",alignItems:"center",justifyContent:"center"}},r)),we().createElement("div",{className:"min-w-0 flex flex-col gap-small"},we().createElement("span",{className:"text-body-large break-words"},we().createElement($,{name:n})),we().createElement("div",{className:"flex flex-row items-center"},we().createElement(F,{translate:t,price:a,color:"",useFreeText:!1}))))}Zn.displayName="Dialog",na.displayName="DialogContent",aa.displayName="DialogBody",ia.displayName="DialogFooter",Ze("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var sa={Large:24,Medium:20,Small:16,XSmall:12},ua={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},da={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},fa={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},ma=go;function pa(e){var t=e.translate,r=e.titleText,e=e.currentRobuxBalance;return we().createElement("div",{id:"rbx-unified-purchase-heading",className:"flex flex-row items-center justify-between",style:{paddingRight:42}},we().createElement("span",{className:"text-heading-medium"},r),"number"==typeof e&&we().createElement("div",{className:"flex flex-row items-center"},we().createElement(va,{translate:t,price:e,color:"",useFreeText:!1})))}var va=(0,n.withTranslations)(function(e){var t=e.translate,r=e.price,n=void 0===(n=e.color)?"":n,e=e.useFreeText;return 0!==r||void 0!==e&&!e?we().createElement(we().Fragment,null,we().createElement("span",{className:"icon-robux"+(n?"-"+n:"")+"-16x16"}),we().createElement("span",{className:"text-robux ml-1"},Ee.numberFormat.getNumberFormat(r))):we().createElement("span",{className:"text-robux text-free"},t(ma.freeLabel))},o.purchasingResources),ba=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},ha=function(e,t){(0,ge.useEffect)(function(){t&&(0,ba.fireEvent)("RenderTracking-Purchase-"+e)},[t])},ya=(0,n.withTranslations)(function(e){var t=e.translate,r=e.titleText,n=e.actionButtonText,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=(e.assetType,e.assetTypeDisplayName,e.sellerName,e.onAction),c=e.onCancel,s=e.loading,u=void 0!==s&&s,s=e.currentRobuxBalance,e=e.open,e=void 0!==e&&e;return ha("UnifiedPurchaseModal",e),we().createElement(Zn,{open:e,onOpenChange:function(e){!e&&c&&c()},isModal:!0,size:"Large",type:"Default",ariaLabel:r,hasCloseAffordance:!0},we().createElement(na,{className:"relative width-full"},we().createElement(aa,{className:"gap-xlarge flex flex-col"},we().createElement(pa,{translate:t,titleText:r,currentRobuxBalance:s}),we().createElement(ca,{translate:t,thumbnail:i,assetName:o,expectedPrice:a})),we().createElement(ia,{className:"gap-small flex flex-col mt-[40px]"},we().createElement("div",{className:"flex flex-row-reverse"},we().createElement(la,{variant:"Emphasis",className:"fill basis-0",onClick:l,isDisabled:u},n)))))},o.purchasingResources),ga=function(){return(ga=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},wa=go;function Ea(){var b=null,h={open:function(){b&&b(!0)},close:function(){b&&b(!1)}};return[(0,n.withTranslations)(function(e){var t,r=e.translate,n=e.title,a=void 0===n?"":n,i=e.expectedPrice,o=e.thumbnail,l=e.assetName,c=e.assetType,s=void 0===(m=e.assetTypeDisplayName)?"":m,u=e.sellerName,d=void 0!==(p=e.isPlace)&&p,f=e.onAction,m=void 0!==(n=e.loading)&&n,p=e.currentRobuxBalance,e=(n=we().useState(!1))[0],v=n[1];return we().useEffect(function(){return b=v,function(){b===v&&(b=null)}},[]),(0,I.renderToString)(we().createElement($,{name:l})),n=(0,Ee.escapeHtml)()(u),(0,I.renderToString)(we().createElement(F,{translate:r,price:i,color:"",useFreeText:!1})),d?wa.promptBuyAccessMessage:wa.promptBuyMessage,d||""!==n||wa.promptBuySimplifiedMessage,n=0===i?(t=r(wa.getItemHeading),r(wa.getNowAction)):(t=r(wa.buyItemHeading),r(wa.buyAction)),d&&(t=r(wa.buyExperience)),we().createElement(ya,ga({},{translate:r,titleText:a||t,actionButtonText:n,expectedPrice:i,thumbnail:o,assetName:l,assetType:c,assetTypeDisplayName:s,sellerName:u,isPlace:d,onAction:f,loading:m,currentRobuxBalance:p,open:e,onCancel:h.close}))},o.purchasingResources),h]}var Sa=function(e,o,l,c){return new(l=l||Promise)(function(r,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Pa=function(r,n){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ia=v.shouldShowUnifiedPurchaseModal,xa=function(){return Sa(void 0,void 0,void 0,function(){var t,r,n,a,i,o;return Pa(this,function(e){switch(e.label){case 0:if(t=P.localStorageService.getLocalStorage(Ia))try{if(r=JSON.parse(t),n=r.isEligible,a=r.expiry,Date.now()<a)return[2,n];P.localStorageService.removeLocalStorage(Ia)}catch(e){P.localStorageService.removeLocalStorage(Ia)}e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Te.getSubscriptionsMetadata()];case 2:return i=e.sent(),i=null===(o=i.data)||void 0===o?void 0:o.unifiedPurchaseFlowMetadata,o=i.isUserEligibleForUnifiedPurchaseFlow,i=i.expiresInSeconds,a=Date.now()+1e3*i,i={isEligible:o,expiry:a},P.localStorageService.setLocalStorage(Ia,JSON.stringify(i)),[2,o];case 3:return e.sent(),[2,!1];case 4:return[2]}})})};function Aa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ra(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Aa(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function Ta(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ca(l){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){Ta(n,t,r,a,i,"next",e)}function i(e){Ta(n,t,r,a,i,"throw",e)}a(void 0)})}}function Na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oa=go,Da=t,Fa=i,La=s,Ua=p;function Ba(){function K(){ye.itemDetail.buyButtonElementDataset&&(P.paymentFlowAnalyticsService.startRobuxUpsellFlow(ye.itemDetail.buyButtonElementDataset.assetType,!!ye.itemDetail.buyButtonElementDataset.userassetId,ye.itemDetail.buyButtonElementDataset.isPrivateServer,ye.itemDetail.buyButtonElementDataset.isPlace,ye.itemDetail.buyButtonElementDataset.productId),de.open())}function Q(){var e,t,r;if(Se.ItemPurchaseUpsellService&&null!==(e=ye)&&void 0!==e&&null!==(t=e.itemDetail)&&void 0!==t&&t.expectedItemPrice)if(0<=te-(null===ye||void 0===ye||null===(r=ye.itemDetail)||void 0===r?void 0:r.expectedItemPrice))K();else try{Se.ItemPurchaseUpsellService.startItemUpsellProcess(ye.errorObject,ye.itemDetail,ye.startOriginalFlowCallback,void 0,ye.shouldShowUnifiedPurchaseModal),window.EventTracker.fireEvent(La.NEW_UPSELL_FROM_REACT_BUY_BUTTON)}catch(e){window.EventTracker.fireEvent(La.NEW_UPSELL_FAILED_DUE_TO_ERROR),K()}else window.EventTracker.fireEvent(La.NEW_UPSELL_FAILED_DUE_TO_LOADING),K()}function Z(e,t,r){var n=Math.ceil(r/60);if(24<n){var a=Math.ceil(n/24);return e("Text.EconomicRestrictionsDaysGeneral",{violation:e(null!==(r=Ua[t])&&void 0!==r?r:"Label.Sublabel.FraudPaymentAbuse"),day:a})}return e("Text.EconomicRestrictionsHoursGeneral",{violation:e(null!==(t=Ua[t])&&void 0!==t?t:"Label.Sublabel.FraudPaymentAbuse"),hour:n})}var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},J=e.customPurchaseVerificationModal,ee=e.customPurchaseVerificationModalService,te=Pe().userRobuxBalance,e=Na((0,C.createSystemFeedback)(),2),re=e[0],ne=e[1],e=Na((0,C.createSystemFeedback)(),2),ae=e[0],ie=e[1],e=Na(Ie(),2),oe=e[0],le=e[1],e=Na(Ea(),2),ce=e[0],se=e[1],e=Na(_(),2),ue=e[0],de=e[1],e=Na(xe(),2),fe=e[0],me=e[1],e=Na(X(),2),pe=e[0],ve=e[1],e=Na(S(),2),be=e[0],he=e[1],ye={errorObject:{},itemDetail:{},startOriginalFlowCallback:function(){return null}};function t(e){function c(){return j(!0)}var s=e.translate,o=e.assetName,l=e.assetType,u=e.assetTypeDisplayName,d=e.productId,f=e.expectedCurrency,t=e.expectedPrice,m=e.expectedSellerId,p=e.expectedPromoId,v=e.userAssetId,r=e.thumbnail,n=e.sellerName,b=e.sellerType,h=e.showSuccessBanner,y=e.isPlace,g=e.isPrivateServer,w=e.handlePurchase,E=e.onPurchaseSuccess,S=e.collectibleItemId,P=e.collectibleItemInstanceId,I=e.collectibleProductId,x=e.isLimited,a=e.customProps,i=e.saleLocationId,A=void 0===i?null:i,R=Na((0,ge.useState)(!1),2),T=R[0],C=R[1],N=Na((0,ge.useState)(null),2),M=N[0],O=N[1],D=Na((0,ge.useState)(null),2),F=D[0],L=D[1],e=Na((0,ge.useState)(t-te),2),i=e[0],U=e[1],R=Na((0,ge.useState)(null),2),N=R[0],B=R[1],D=Na((0,ge.useState)(te),2),e=D[0],k=D[1],R=Na((0,ge.useState)(!1),2),_=R[0],j=R[1],D=Na((0,ge.useState)(!1),2),R=D[0],q=D[1],D=Na((0,ge.useState)(!1),2),H=D[0],V=D[1];(0,ge.useEffect)(function(){Se.CurrentUser.isAuthenticated&&void 0===Pe().userRobuxBalance?Te.getCurrentUserBalance(Se.CurrentUser.userId).then(function(e){k(e.data.robux),U(t-e.data.robux)}).catch(function(){k(void 0)}):(k(Pe().userRobuxBalance),U(t-Pe().userRobuxBalance))},[d,t,m]),(0,ge.useEffect)(function(){_&&q(!0)},[_]),(0,ge.useEffect)(function(){Se.CurrentUser.isAuthenticated&&xa().then(function(e){V(e)}).catch(function(){V(!1)})},[]);function z(){(ee||(H?se:le)).close(),ve.close()}function W(e,t){var r,n,a,i={assetType:l,assetTypeDisplayName:u,expectedCurrency:f,expectedPrice:t,expectedSellerId:m,itemName:o,itemType:l,productId:d,userassetId:v,placeproductpromotionId:p,isPrivateServer:g,isPlace:y,collectibleItemId:S,collectibleItemInstanceId:P,collectibleProductId:I};ye={errorObject:{shortfallPrice:e,currentCurrency:f,isPlace:y},itemDetail:{expectedItemPrice:t,assetName:o,isLimited:x,buyButtonElementDataset:i},startOriginalFlowCallback:(r=e,n=i,function(){Se.ItemPurchaseUpsellService&&Se.ItemPurchaseUpsellService.showExceedLargestInsufficientRobuxModal?Se.ItemPurchaseUpsellService.showExceedLargestInsufficientRobuxModal(r,n,K,void 0,a):K()}),shouldShowUnifiedPurchaseModal:a=H}}function G(e){var t=e.showDivId,r=e.title,n=e.errorMsg,a=e.price,i=e.shortfallPrice,e=e.onDecline;t===Da.transactionFailure?(O({title:r,message:n,onDecline:e}),he.open()):t===Da.insufficientFunds?(U(i),W(i,a),Q()):t===Da.priceChanged&&(L(a),ve.open())}function X(e){B(e),me.open()}function Y(e){var t;S?$(e):"Product"===l?(t={expectedPrice:t=e,saleLocationType:"Website",saleLocationId:A},C(!0),Ae.purchaseDeveloperProduct(d,t).then(function(e){e=e.data;if(void 0!==e.FailureReason&&void 0!==e.ExpirationTimeInMinutes)return C(!1),z(),void G({title:s(Oa.economicRestrictionsErrorHeading),errorMsg:Z(s,e.FailureReason,e.ExpirationTimeInMinutes),showDivId:Da.transactionFailure});C(!1),z(),e.purchased||"TwoStepVerificationRequired"!==e.reason?e.purchased?(E(),h?ne.success(s(Oa.purchaseCompleteHeading)):X({assetIsWearable:!1,transactionVerb:"",onDecline:function(){window.location.reload()}})):G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.generalPurchaseErrorMessage),showDivId:Da.transactionFailure}):c()}).catch(function(e){console.debug(e),C(!1),z();var t=null===(t=e.data)||void 0===t?void 0:t.errorCode;e&&500===e.status&&t===Da.pendingProductsLimitExceeded?G({title:s(Oa.pendingDeveloperProductLimitReachedHeading),errorMsg:s(Oa.pendingDeveloperProductLimitReachedMessage),showDivId:Da.transactionFailure}):e&&400!==(null==e?void 0:e.status)?429===e.status?G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.floodcheckFailureMessage,{throttleTime:1}),showDivId:Da.transactionFailure}):G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.generalPurchaseErrorMessage),showDivId:Da.transactionFailure}):G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.purchasingUnavailableMessage),showDivId:Da.transactionFailure})})):"Game Pass"===l?(t={expectedPrice:t=e},C(!0),Ae.purchaseGamePass(d,t).then(function(e){e=e.data;if(void 0!==e.failureReason&&void 0!==e.expirationTimeInMinutes)return C(!1),z(),void G({title:s(Oa.economicRestrictionsErrorHeading),errorMsg:Z(s,e.failureReason,e.expirationTimeInMinutes),showDivId:Da.transactionFailure});e.purchased||"TwoStepVerificationRequired"!==e.reason?e.purchased?(E(),h?ne.success(s(Oa.purchaseCompleteHeading)):X({assetIsWearable:!1,transactionVerb:e.transactionVerb,onDecline:function(){window.location.reload()}})):G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.generalPurchaseErrorMessage),showDivId:Da.transactionFailure}):c()}).catch(function(e){console.debug(e),C(!1),z(),e&&400!==(null==e?void 0:e.status)?429===e.status?G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.floodcheckFailureMessage,{throttleTime:1}),showDivId:Da.transactionFailure}):G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.generalPurchaseErrorMessage),showDivId:Da.transactionFailure}):G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.purchasingUnavailableMessage),showDivId:Da.transactionFailure})})):(e={expectedCurrency:f,expectedPrice:e=e,expectedSellerId:m},0<p&&(e.expectedPromoId=p),0<v&&(e.userAssetId=v),w?w({params:e,handleError:G,setLoading:C,openConfirmation:X,closeAll:z}):(C(!0),Ae.purchaseItem(d,e).then(function(e){var t=e.data;if(void 0!==t.FailureReason&&void 0!==t.ExpirationTimeInMinutes)return C(!1),z(),void G({title:s(Oa.economicRestrictionsErrorHeading),errorMsg:Z(s,t.FailureReason,t.ExpirationTimeInMinutes),showDivId:Da.transactionFailure});console.debug(t);var r=t.statusCode,n=t.assetIsWearable,e=t.transactionVerb;C(!1),z(),t.purchased||"TwoStepVerificationRequired"!==t.reason?500===r?G(t):(E(),h?ne.success(s(Oa.purchaseCompleteHeading)):X({assetIsWearable:n,transactionVerb:e,onDecline:function(){window.location.reload()}})):c()}).catch(function(t){if(console.debug(t),C(!1),z(),t&&(null==t?void 0:t.statusText)!==Fa.badRequest){429===t.status&&G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.floodcheckFailureMessage,{throttleTime:1}),showDivId:Da.transactionFailure});try{G(JSON.parse(null==t?void 0:t.statusText))}catch(e){G({errorMsg:null==t?void 0:t.statusText})}}else G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.purchasingUnavailableMessage),showDivId:Da.transactionFailure})})))}var $=function(){var e=Ca(regeneratorRuntime.mark(function e(r){var n,a,i,o,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={collectibleItemId:S,expectedCurrency:f,expectedPrice:r,expectedPurchaserId:Se.CurrentUser.userId,expectedPurchaserType:"User",expectedSellerId:m,expectedSellerType:b,idempotencyKey:Ee.uuidService.generateRandomUuid()},P&&(n.collectibleItemInstanceId=P),I&&(n.collectibleProductId=I),w)return w({params:n,handleError:G,setLoading:C,openConfirmation:X,closeAll:z}),t.abrupt("return");t.next=6;break;case 6:return C(!0),a=P?Ae.purchaseCollectibleItemInstance:Ae.purchaseCollectibleItem,t.prev=8,t.next=11,a(S,n);case 11:if(l=t.sent,void 0!==(i=l.data).failureReason&&void 0!==i.expirationTimeInMinutes)return C(!1),z(),G({title:s(Oa.economicRestrictionsErrorHeading),errorMsg:Z(s,i.failureReason,i.expirationTimeInMinutes),showDivId:Da.transactionFailure}),t.abrupt("return");t.next=18;break;case 18:if(o=i.transactionVerb,C(!1),z(),!("number"==typeof(l=null!==(l=i.statusCode)&&void 0!==l?l:i.status)&&400<=l||!1===(null==i?void 0:i.purchased))){t.next=26;break}!1===(null==i?void 0:i.purchased)&&"TwoStepVerificationRequired"===(null==i?void 0:i.reason)?c():!1===(null==i?void 0:i.purchased)&&"Flooded"===(null==i?void 0:i.purchaseResult)?G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.floodcheckFailureMessage,{throttleTime:1}),showDivId:Da.transactionFailure}):"InsufficientBalance"===i.errorMessage?de.open():G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.purchasingUnavailableMessage),showDivId:Da.transactionFailure,onDecline:function(){window.location.reload()}}),t.next=31;break;case 26:if(E(),h)return ne.success(s(Oa.purchaseCompleteHeading)),t.abrupt("return");t.next=30;break;case 30:X({assetIsWearable:!0,transactionVerb:o,itemDelayed:null==i?void 0:i.pending,onDecline:function(){window.location.reload()}});case 31:t.next=42;break;case 33:if(t.prev=33,t.t0=t.catch(8),console.debug(t.t0),Se.AccountIntegrityChallengeService.Generic.ChallengeError.matchAbandoned(M))return C(!1),t.abrupt("return");t.next=39;break;case 39:if(C(!1),z(),t.t0&&(null===t.t0||void 0===t.t0?void 0:t.t0.statusText)!==Fa.badRequest){429===t.t0.status&&G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.floodcheckFailureMessage,{throttleTime:1}),showDivId:Da.transactionFailure});try{G(JSON.parse(null===t.t0||void 0===t.t0?void 0:t.t0.statusText))}catch(e){G({errorMsg:null===t.t0||void 0===t.t0?void 0:t.t0.statusText})}}else G({title:s(Oa.errorOccuredHeading),errorMsg:s(Oa.purchasingUnavailableMessage),showDivId:Da.transactionFailure});case 42:case"end":return t.stop()}},e,null,[[8,33]])}));return function(){return e.apply(this,arguments)}}(),a=J?we().createElement(J,Ra({},Ra({assetName:o,assetType:l,expectedPrice:t,thumbnail:r,sellerName:n,loading:T,onAction:function(){return Y(t)}},a))):H?we().createElement(ce,{expectedPrice:t,thumbnail:r,assetName:o,assetType:l,assetTypeDisplayName:u,sellerName:n,isPlace:y,loading:T,currentRobuxBalance:e,onAction:function(){return Y(t),!1}}):we().createElement(oe,{expectedPrice:t,thumbnail:r,assetName:o,assetType:l,assetTypeDisplayName:u,sellerName:n,isPlace:y,loading:T,collectibleItemId:S,collectibleItemInstanceId:P,currentRobuxBalance:e,onAction:function(){return Y(t),!1}});return 0<i&&Se.ItemPurchaseUpsellService&&W(i,null!=F?F:t),we().createElement(we().Fragment,null,we().createElement(qe,{isTwoStepVerificationActive:_,stopTwoStepVerification:function(){return j(!1)},systemFeedbackService:ie}),we().createElement(ue,{robuxNeeded:i}),(!i||i<=0)&&a,M&&we().createElement(be,{title:M.title,message:M.message,onDecline:M.onDecline}),null!=F&&we().createElement(pe,{expectedPrice:t,currentPrice:F,loading:T,onAction:function(){return Y(F),!1}}),N&&we().createElement(fe,Ra({thumbnail:r,assetName:o,assetType:l,assetTypeDisplayName:u,sellerName:n,isPlace:y,isPrivateServer:g,expectedPrice:F||t,currentRobuxBalance:e},N)),h&&we().createElement(re,null),R&&we().createElement(ae,null))}return t.defaultProps={isPlace:!1,isPrivateServer:!1,productId:null,assetTypeDisplayName:"",expectedPromoId:0,userAssetId:0,showSuccessBanner:!1,handlePurchase:null,onPurchaseSuccess:function(){return null},customProps:{},collectibleItemId:null,collectibleItemInstanceId:null,collectibleProductId:null,sellerType:null,isLimited:!1,saleLocationId:null},t.propTypes={translate:r().func.isRequired,productId:function(e,t,r){var n=e.collectibleItemId,a=e.productId;return n||"number"==typeof a?null:new Error("Invalid prop ".concat(t," supplied to ").concat(r,". Validation failed."))},expectedCurrency:r().number.isRequired,expectedPrice:r().number.isRequired,thumbnail:r().node.isRequired,assetName:r().string.isRequired,assetType:r().string.isRequired,assetTypeDisplayName:r().string,expectedSellerId:r().number.isRequired,sellerName:r().string.isRequired,sellerType:r().string,isPlace:r().bool,isPrivateServer:r().bool,expectedPromoId:r().number,userAssetId:r().number,showSuccessBanner:r().bool,handlePurchase:r().func,onPurchaseSuccess:r().func,customProps:r().func,collectibleItemId:r().string,collectibleItemInstanceId:r().string,collectibleProductId:r().string,isLimited:r().bool,saleLocationId:r().number},[(0,n.withTranslations)(t,o.purchasingResources),{start:function(){function r(){(ee||le).open()}Ca(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,xa();case 4:t=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),r(),Q(),e.abrupt("return");case 12:try{t?(ee||se).open():r()}finally{Q()}case 13:case"end":return e.stop()}},e,null,[[1,7]])}))()}}]}var ka=HeaderScripts;function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qa=m,Ha=function(e,t,r){function n(){o({loading:!1,loadFailure:!0})}var a=_a((0,ge.useState)({expectedSellerId:0,owned:!1,isPurchasable:!1,id:0,itemType:"",assetType:"",name:"",description:"",productId:0,creatorTargetId:0,creatorName:"",price:null,loading:!0,loadFailure:!1,premiumPricing:null,premiumDiscountPercentage:null,hasLimitedPrivateSales:!1,isPublicDomain:!1,premiumPriceInRobux:null,assetTypeDisplayName:"",offSaleDeadline:null,unitsAvailableForConsumption:0,isLimited:!1,resellerAvailable:!1,firstReseller:{},priceStatus:"",isMarketPlaceEnabled:!0}),2),i=a[0],o=a[1],l=(0,ge.useCallback)(function(){e(t,r).then(function(e){var e=e.data,t={expectedSellerId:e.expectedSellerId,owned:e.owned,id:e.id,itemType:e.itemType,assetType:e.assetType,name:e.name,description:e.description,productId:e.productId,price:e.price,lowestPrice:e.lowestPrice,creatorTargetId:e.creatorTargetId,creatorName:e.creatorName,hasLimitedPrivateSales:void 0!==e.lowestPrice,isPublicDomain:0===e.price,offSaleDeadline:e.offSaleDeadline,isLimited:e.itemRestrictions.includes("Limited")||e.itemRestrictions.includes("LimitedUnique"),unitsAvailableForConsumption:void 0!==e.unitsAvailableForConsumption?e.unitsAvailableForConsumption:0,priceStatus:void 0!==e.priceStatus?e.priceStatus:"",itemRestrictions:e.itemRestrictions};void 0!==e.premiumPricing&&(t.premiumPriceInRobux=e.premiumPricing.premiumPriceInRobux,t.premiumDiscountPercentage=e.premiumPricing.premiumDiscountPercentage),t.isLimited&&(t.price=void 0!==t.lowestPrice?t.lowestPrice:t.price,Te.getResellerDetail(t.id).then(function(e){t.resellerAvailable=0<e.data.data.length,t.resellerAvailable&&(e=_a(e.data.data,1)[0],t.price=e.price,t.firstReseller=e)})),Te.getItemPurchasableDetail(e.productId).then(function(e){!e.data.purchasable&&e.data.reason&&e.data.reason!==qa.insufficientFunds?t.isPurchasable=e.data.purchasable:t.isPurchasable=!0,t.assetTypeDisplayName=e.data.assetTypeDisplayName,t.loading=!1,t.loadFailure=!1,Te.getEconomyMetadata().then(function(e){t.isMarketPlaceEnabled=e.data.isMarketPlaceEnabled&&e.data.isItemsXchangeEnabled,o(t)}).catch(function(){n()})}).catch(function(e){e.statusText===qa.unauthorizedMessage?(t.loading=!1,t.loadFailure=!1,o(t)):n()})}).catch(function(){n()})},[t,r,e]);return(0,ge.useEffect)(function(){l()},[]),{itemDetail:i,loadItemDetail:l}},v=function(){var e=document.getElementById("item-container");return e?{itemDetailItemId:parseInt(e.getAttribute("data-item-id"),10),itemDetailItemType:e.getAttribute("data-item-type")}:null},Va=RobloxThumbnails;function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var un=Ba(),Wa=(i=(dn=2,function(e){if(Array.isArray(e))return e}(un=un)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(un,dn)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return za(e,t)}(un,dn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],Ga=i[1],Xa=go,Ya=M.getPremiumConversionUrl;function $a(e){var t=e.translate,r=e.productId,n=e.price,a=e.itemName,i=e.itemType,o=e.assetTypeDisplayName,l=e.sellerName,c=e.expectedSellerId,s=e.isPurchasable,u=e.isOwned,d=e.isPlugin,f=e.itemDetailItemId,m=e.loading,p=e.userQualifiesForPremiumPrices,v=e.premiumPriceInRobux,b=e.isAuthenticated,h=e.resellerAvailable,y=e.firstReseller,h=e.isMarketPlaceEnabled&&(h||s),s=function(){return t(0===n?Xa.getAction:Xa.buyAction)};if(m)return we().createElement(C.Loading,null);if(!b)return null!=v?we().createElement(C.Button,{id:"upgrade-button",className:"btn-fixed-width-lg btn-primary-lg",onClick:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.PREMIUM_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GET_PREMIUM),window.open(Ya(f,i))}},t(Xa.getPremiumAction)):we().createElement(C.Button,{className:"btn-fixed-width-lg btn-growth-lg PurchaseButton",onClick:function(){window.location="/login"}},s());b=we().createElement(Va.Thumbnail2d,{type:"bundle"===i?Va.ThumbnailTypes.bundleThumbnail:Va.ThumbnailTypes.assetThumbnail,size:Va.DefaultThumbnailSize,targetId:f,format:Va.ThumbnailFormat.webp,altName:a});return d&&(u||0===n)?we().createElement(we().Fragment,null,we().createElement(C.Button,{className:"btn-fixed-width-lg btn-primary-lg InstallButton",onClick:function(){var e;e=f,Se.GameLauncher.openPluginInStudio(e)}},we().createElement("span",null,t(Xa.installAction)))):we().createElement(we().Fragment,null,we().createElement(C.Button,{className:"btn-fixed-width-lg btn-growth-lg PurchaseButton",onClick:Ga.start,isDisabled:!h},s()),we().createElement(Wa,{productId:r,expectedPrice:p&&null!=v?v:n,thumbnail:b,assetTypeDisplayName:o,assetName:a,sellerName:y?y.seller.name:l,expectedSellerId:y?y.seller.id:c,userAssetId:y?y.userAssetId:0,showSuccessBanner:!0}))}$a.propTypes={translate:r().func.isRequired,productId:r().number.isRequired,price:r().number.isRequired,itemName:r().string.isRequired,itemType:r().string.isRequired,assetTypeDisplayName:r().string.isRequired,sellerName:r().string.isRequired,expectedSellerId:r().number.isRequired,isPurchasable:r().bool.isRequired,isOwned:r().bool.isRequired,isPlugin:r().bool.isRequired,itemDetailItemId:r().number.isRequired,loading:r().bool.isRequired,userQualifiesForPremiumPrices:r().bool.isRequired,premiumPriceInRobux:r().number.isRequired,isAuthenticated:r().bool.isRequired,resellerAvailable:r().bool.isRequired,firstReseller:r().shape({seller:{name:r().string.isRequired,id:r().number.isRequired},userAssetId:r().number.isRequired}).isRequired,isMarketPlaceEnabled:r().bool.isRequired};var Ka=(0,n.withTranslations)($a,o.itemResources),Qa=go;function Za(e){var t=e.translate,r=e.isLimited,e=e.resellerAvailable,e=r&&e;return we().createElement("div",{className:"text-label field-label price-label"},we().createElement("span",null,t(e?Qa.bestPriceLabel:Qa.priceLabel)))}Za.propTypes={translate:r().func.isRequired,isLimited:r().bool.isRequired,resellerAvailable:r().bool.isRequired};var Ja=(0,n.withTranslations)(Za,o.itemResources),ei=go,ti=m,ri=M.getPremiumConversionUrl;function ni(e){function t(e){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.PREMIUM_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,e.target.innerText)}var r=e.translate,n=e.price,a=e.itemType,i=e.itemDetailItemId,o=e.premiumPriceInRobux,l=e.premiumDiscountPercentage,c=e.userQualifiesForPremiumPrices,s=e.isOwned,u=e.loading,d=e.loadFailure,f=e.unitsAvailableForConsumption,m=e.isLimited,p=e.isPlugin,v=e.resellerAvailable,b=e.priceStatus,h=e.offSaleDeadline,y=e.isMarketPlaceEnabled,g=null==o&&null==n,w=!0,e="";return u?we().createElement(C.Loading,null):(!u&&d?e=ti.retryErrorMessage:b===ei.offSale&&null===h?e=r(ei.itemNoLongerForSaleLabel):y||s?p||!s||m?m&&0===f&&!v?e=r(ei.noOneCurrentlySellingLabel):w=!1:e=r(ei.itemAvailableInventoryLabel):e=r(ei.purchasingTemporarilyUnavailableLabel),0===n?null:w&&!s?we().createElement("div",{className:"price-container-text"},we().createElement("div",{className:"item-first-line"}," ",e," ")):we().createElement(we().Fragment,null,we().createElement("div",{className:"price-container-text"},w?we().createElement("div",{className:"item-first-line"}," ",e," "):null,we().createElement(Ja,{translate:r,isLimited:m,resellerAvailable:v}),we().createElement("div",{className:"price-info"},we().createElement("div",{className:"icon-text-wrapper clearfix icon-robux-price-container"},g?we().createElement("span",{className:"icon-robux-16x16 icon-robux-gray-16x16 wait-for-i18n-format-render"}):we().createElement("span",{className:"icon-robux-16x16 wait-for-i18n-format-render"}),we().createElement("span",{className:"text-robux-lg wait-for-i18n-format-render"},c&&null!=o?Ee.numberFormat.getNumberFormat(o):Ee.numberFormat.getNumberFormat(n)))),function(){if(null==o||s)return null;if(null==n)return c?we().createElement("span",{className:"small text field-content empty-label wait-for-i18n-format-render"},r(ei.premiumExclusiveEligiblePromptLabel)):we().createElement("span",{className:"small text field-content empty-label wait-for-i18n-format-render"},r(ei.premiumExclusiveIneligiblePromptLabel));var e={originalPrice:(0,I.renderToString)(we().createElement(F,{price:n})),discountPercentage:l,premiumDiscountedPrice:(0,I.renderToString)(we().createElement(F,{price:o}))};return we().createElement(we().Fragment,null,we().createElement("div",{className:"text-label field-label empty-label"},""),we().createElement("span",{className:"premium-prompt small text field-content empty-label wait-for-i18n-format-render"},c?we().createElement("a",{"aria-label":" ",href:ri(i,a),dangerouslySetInnerHTML:{__html:r(ei.premiumDiscountSavingsLabel,e)},onClick:function(e){t(e),window.open(ri(i,a))}}):we().createElement("a",{"aria-label":" ",href:ri(i,a),dangerouslySetInnerHTML:{__html:r(ei.premiumDiscountOpportunityPromptLabel,e)},onClick:function(e){t(e),window.open(ri(i,a))}})))}())))}ni.propTypes={translate:r().func.isRequired,price:r().number.isRequired,itemType:r().string.isRequired,itemDetailItemId:r().number.isRequired,premiumPriceInRobux:r().number.isRequired,premiumDiscountPercentage:r().number.isRequired,userQualifiesForPremiumPrices:r().bool.isRequired,loading:r().bool.isRequired,isOwned:r().bool.isRequired,loadFailure:r().bool.isRequired,unitsAvailableForConsumption:r().number.isRequired,isLimited:r().bool.isRequired,isPlugin:r().bool.isRequired,resellerAvailable:r().bool.isRequired,priceStatus:r().string.isRequired,offSaleDeadline:r().string.isRequired,isMarketPlaceEnabled:r().bool.isRequired};var ai=(0,n.withTranslations)(ni,o.itemModelResources);function ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var li=go;function ci(e){var t=e.translate,r=e.offSaleDeadline,e=ii((0,ge.useState)(0),2),n=e[0],a=e[1],e=ii((0,ge.useState)(0),2),i=e[0],o=e[1],e=ii((0,ge.useState)(0),2),l=e[0],c=e[1],e=ii((0,ge.useState)(0),2),s=e[0],u=e[1];(0,ge.useEffect)(function(){function e(){var e;new Date<new Date(r)&&(e=+new Date,e=(new Date(r).getTime()-e)/1e3,a(Math.floor(e/86400)),o(Math.floor(e/3600%24)),c(Math.floor(e/60%60)),u(Math.floor(e%60)))}var t;return e(),t=setInterval(e,1e3),function(){return clearInterval(t)}},[a,o,c,u]);return we().createElement("div",{id:"sale-clock",className:"text-error sale-clock desktop-sale-clock"},function(){if(n<1){var e={numberOfHours:i,numberOfMinutes:l,numberOfSeconds:s};return we().createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:t(li.OffsaleCountdownHourMinuteSecondLabel,e)}})}if(s<1)return window.location.reload(),null;e={numberOfDays:n,numberOfHours:i,numberOfMinutes:l};return we().createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:t(li.CountdownTimerDayHourMinute,e)}})}())}ci.propTypes={translate:r().func.isRequired,offSaleDeadline:r().string.isRequired};var si=(0,n.withTranslations)(ci,o.itemResources),ui=go,di=u,fi=d,mi=M.getInventoryUrl;function pi(e){var t=e.translate,r=e.assetType,n=ka.deviceMeta.getDeviceMeta(),a="phone"===n.deviceType,e=mi(ka.authenticatedUser.id),i=r===di.Plugin||r===di.Decal||r===di.Model||r===di.Video||r===di.Animation?fi.Library:r===di.Place||r===di.Badge||r===di.GamePass||r===di.Animation?null:fi.Catalog;return i!==fi.Catalog||n.isInApp||!ka.deviceMeta.isAndroidApp&&!ka.deviceMeta.isIosApp||!ka.deviceMeta.isPhone&&!ka.deviceMeta.isTablet?i!==fi.Catalog||a?we().createElement("a",{id:"inventory-button",href:e,className:"btn-fixed-width-lg btn-control-md"},t(ui.inventoryAction)):we().createElement("a",{id:"edit-avatar-button",href:"/my/avatar",className:"btn-control-md"},we().createElement("span",{className:"icon-nav-charactercustomizer"})):we().createElement("a",{id:"open-in-avatar-editor-button",href:"/#",className:"btn-fixed-width-lg btn-control-md"},we().createElement("span",{className:"icon-nav-charactercustomizer"}))}pi.propTypes={translate:r().func.isRequired,assetType:r().number.isRequired};var vi=(0,n.withTranslations)(pi,o.itemResources),bi=v,hi=u;function yi(e){var t=e.translate,e=bi(),r=e.itemDetailItemId,e=e.itemDetailItemType,n=Ha(Te.getItemDetails,r,e).itemDetail;return we().createElement(we().Fragment,null,we().createElement(ai,{translate:t,price:n.price,itemType:n.itemType,itemDetailItemId:r,premiumPriceInRobux:n.premiumPriceInRobux,premiumDiscountPercentage:n.premiumDiscountPercentage,userQualifiesForPremiumPrices:ka.authenticatedUser.isPremiumUser,isOwned:n.owned,loading:n.loading,loadFailure:n.loadFailure,unitsAvailableForConsumption:n.unitsAvailableForConsumption,isLimited:n.isLimited,isPlugin:n.assetType===hi.Plugin,resellerAvailable:n.resellerAvailable,priceStatus:n.priceStatus,offSaleDeadline:n.offSaleDeadline,isMarketPlaceEnabled:n.isMarketPlaceEnabled}),!n.loadFailure&&(n.owned&&(!n.isLimited||0<n.unitsAvailableForConsumption)?we().createElement("div",{className:"action-button"},we().createElement(vi,{translate:t,assetType:n.assetType})):we().createElement("div",{className:"action-button"},we().createElement(Ka,{translate:t,productId:n.productId,price:n.price,itemType:n.itemType,assetTypeDisplayName:n.assetTypeDisplayName,itemName:n.name,sellerName:n.creatorName,expectedSellerId:n.expectedSellerId,isPurchasable:n.isPurchasable,isOwned:n.owned,isInstallable:n.assetType===hi.Plugin,itemDetailItemId:r,loading:n.loading,hasLimitedPrivateSales:n.hasLimitedPrivateSales,userQualifiesForPremiumPrices:ka.authenticatedUser.isPremiumUser,premiumPriceInRobux:n.premiumPriceInRobux,isAuthenticated:ka.authenticatedUser.isAuthenticated,unitsAvailableForConsumption:n.unitsAvailableForConsumption,isLimited:n.isLimited,resellerAvailable:n.resellerAvailable,firstReseller:n.firstReseller,isMarketPlaceEnabled:n.isMarketPlaceEnabled}),null!==n.offSaleDeadline&&we().createElement(si,{translate:t,offSaleDeadline:n.offSaleDeadline}))))}yi.propTypes={translate:r().func.isRequired};var gi=yi;function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Si(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Pi(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Si(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}var Ii,s=function(e,t){e=Pi(Pi({},e),{},{expectedSellerId:t.expectedSellerId,owned:t.owned,id:t.id,itemType:t.itemType,assetType:t.assetType,name:t.name,description:t.description,productId:t.productId,price:t.price,lowestPrice:t.lowestPrice,creatorTargetId:t.creatorTargetId,creatorName:t.creatorName,hasLimitedPrivateSales:void 0!==t.lowestPrice,isPublicDomain:0===t.price,offSaleDeadline:t.offSaleDeadline,isLimited:t.itemRestrictions.includes("Limited")||t.itemRestrictions.includes("LimitedUnique"),collectibleItemId:t.collectibleItemId,collectibleItemDetails:t.collectibleItemDetails,unitsAvailableForConsumption:void 0!==t.unitsAvailableForConsumption?t.unitsAvailableForConsumption:0,priceStatus:null!==(e=t.priceStatus)&&void 0!==e?e:t.priceStatus,itemRestrictions:t.itemRestrictions});return void 0!==t.premiumPricing&&(e.premiumPriceInRobux=t.premiumPricing.premiumPriceInRobux,e.premiumDiscountPercentage=t.premiumPricing.premiumDiscountPercentage),e.isLimited&&(e.price=void 0!==e.lowestPrice?e.lowestPrice:e.price),void 0!==e.collectibleItemId&&(e.resellerAvailable=t.hasResellers,e.isPurchasable=void 0!==t.lowestPrice,e.isMarketPlaceEnabled="ShopAndAllExperiences"===t.saleLocationType||"ShopOnly"===t.saleLocationType),e},i=function(e,t){e=Pi({},e);return e.resellerAvailable=0<t.data.data.length,e.resellerAvailable&&(t=wi(t.data.data,1)[0],e.price=t.price,e.firstReseller=t),e},d=function(e,t,r){var n=m,e=Pi({},e);return!t.purchasable&&t.reason&&t.reason!==n.insufficientFunds&&t.reason!==n.twoStepVerificationRequired?e.isPurchasable=t.purchasable:(!t.purchasable&&t.reason&&t.reason===n.twoStepVerificationRequired&&(e.twoStepVerificationRequired=!0),e.isPurchasable=!0),e.assetTypeDisplayName=t.assetTypeDisplayName,e.loading=!1,e.loadFailure=!1,e.isMarketPlaceEnabled=r.data.isMarketPlaceEnabled&&r.data.isItemsXchangeEnabled,e},v=function(e){e=Pi({},e);return e.isPurchasable=!1,e};(u=Ii=Ii||{}).Asset="asset",u.Bundle="bundle";var xi=Ii;function Ai(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ri(l){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){Ai(n,t,r,a,i,"next",e)}function i(e){Ai(n,t,r,a,i,"throw",e)}a(void 0)})}}function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ni,Mi=h,Oi=s,Di=i,Fi=d,Li=v,Ui=function(i){var a=(r=Ti((0,ge.useState)(),2))[0],t=r[1],e=Ti((0,ge.useState)([]),2),r=e[0],o=e[1],l=(e=Ti((0,ge.useState)({}),2))[0],c=e[1],n=0,s=function(){n<Mi?(v(),n+=1):o([{loading:!1,loadFailure:!0}])},u=(0,ge.useCallback)(function(){ka.authenticatedUser.isAuthenticated?Te.getEconomyMetadata().then(function(e){t(e)}).catch(function(){s()}):t({data:{isMarketplaceEnabled:!1,isItemsXchangeEnabled:!1}})},[]);function d(e){return f.apply(this,arguments)}function f(){return(f=Ri(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inCache)return e.abrupt("return",l[t.itemType.toLowerCase()][t.id]);e.next=2;break;case 2:if((r=Oi({},t)).isLimited)return e.prev=4,e.next=7,Te.getResellerDetail(r.id);e.next=14;break;case 7:n=e.sent,r=Di(r,n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.resellerAvailable=!1;case 14:if(void 0===t.productId){e.next=24;break}if(!ka.authenticatedUser.isAuthenticated){e.next=23;break}if(void 0===r.collectibleItemId)return e.next=19,Te.getItemPurchasableDetail(t.productId);e.next=21;break;case 19:n=e.sent,r=Fi(r,n.data,a);case 21:e.next=24;break;case 23:r=Li(r);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}},e,null,[[4,11]])}))).apply(this,arguments)}function m(){return(m=Ri(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map(function(e){return d(e)}));case 3:r=e.sent,o(r),n=l,r.forEach(function(e){e.isLimited||l[e.itemType.toLowerCase()][e.id]||(n[e.itemType.toLowerCase()][e.id]=e)}),c(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s();case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function p(){return(p=Ri(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],i.forEach(function(e){void 0===l[e.itemType.toLowerCase()][e.id]&&t.push(e)}),0<t.length)return n=[],t.map(function(e){return n.push({itemType:e.itemType,id:e.id})}),e.next=7,Se.ItemDetailsHydrationService.getItemDetails(n,!1,!0);e.next=8;break;case 7:r=e.sent;case 8:return a=[],i.forEach(function(t){var e;void 0===l[t.itemType.toLowerCase()][t.id]?(e=r.find(function(e){return e.id===t.id&&e.itemType.toLowerCase()===t.itemType.toLowerCase()}))&&a.push(e):a.push({id:t.id,itemType:t.itemType,inCache:!0})}),e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=(0,ge.useCallback)(function(){(function(){return p.apply(this,arguments)})().then(function(e){try{!function(){m.apply(this,arguments)}(e)}catch(e){s()}}).catch(function(){s()})},[a,i,d]);return(0,ge.useEffect)(function(){var e={};e[xi.Asset]={},e[xi.Bundle]={},c(e),u()},[]),(0,ge.useEffect)(function(){void 0!==a&&v()},[a,i]),{itemDetails:r,batchLoadItemDetails:v}};(v=Ni=Ni||{}).Success="Success",v.AlreadyOwned="ALREADY_OWNED",v.InsufficientFunds="INSUFFICIENT_ROBUX",v.ExceptionOccured="INTERNAL",v.TooManyPurchases="QUOTA_EXCEEDED",v.CaughtError="CaughtError",v.PremiumNeeded="INSUFFICIENT_MEMBERSHIP",v.NoSellers="NOT_FOR_SALE",v.TwoStepVerificationRequired="TwoStepVerificationRequired",v.InExperienceOnly="PURCHASE_PLACE_INVALID";var Bi=Ni;function ki(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function _i(l){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){ki(n,t,r,a,i,"next",e)}function i(e){ki(n,t,r,a,i,"throw",e)}a(void 0)})}}function ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hi=p,Vi=go,zi=b,Wi=f,Gi=y;function Xi(e){var t=e.itemsCount,r=e.item,n=e.index,a=r.name,e=t-zi,n=zi<t&&n===zi-1;return we().createElement("div",{className:"modal-multi-item-image-container"},we().createElement(Va.Thumbnail2d,{type:r.itemType.toLowerCase()===xi.Bundle?Va.ThumbnailTypes.bundleThumbnail:Va.ThumbnailTypes.assetThumbnail,size:Va.DefaultThumbnailSize,targetId:r.id,containerClass:"batch-buy-thumbnail",format:Va.ThumbnailFormat.webp,altName:a}),n&&we().createElement("div",{className:"thumb-overlay"},we().createElement("div",{className:"font-header-1"},"",e)))}var Yi=function(e,t){var r=ji(t.split("/"),3),n=r[1],a=r[2],t=Math.ceil(a/60);if(24<t){r=Math.ceil(t/24);return{success:!1,message:"Text.EconomicRestrictionsDaysGeneral",params:{violation:e(null!==(a=Hi[n])&&void 0!==a?a:"Label.Sublabel.FraudPaymentAbuse"),day:r}}}return{success:!1,message:"Text.EconomicRestrictionsHoursGeneral",params:{violation:e(null!==(n=Hi[n])&&void 0!==n?n:"Label.Sublabel.FraudPaymentAbuse"),hour:t}}};function $i(){return($i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zi=go,Ji=function(){return Se.Guac.callBehaviour("vng-buy-robux")};function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return to(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return to(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ro,no=go,ao=(go=eo(_(),2))[0],io=go[1],oo=(go=eo((ro=(y=ji((0,C.createModal)(),2))[0],y=y[1],co.defaultProps={title:"",loading:!1},co.propTypes={translate:r().func.isRequired,title:r().string,expectedTotalPrice:r().number.isRequired,currentRobuxBalance:r().number.isRequired,purchaseMetadata:r().instanceOf(Map).isRequired,itemDetails:r().arrayOf(r().shape({productId:r().number.isRequired,price:r().number.isRequired,itemName:r().string.isRequired,itemType:r().string.isRequired,assetTypeDisplayName:r().string.isRequired,sellerName:r().string.isRequired,expectedSellerId:r().number.isRequired,isPurchasable:r().bool.isRequired,isOwned:r().bool.isRequired,isPlugin:r().bool.isRequired,itemDetailItemId:r().number.isRequired,loading:r().bool.isRequired,userQualifiesForPremiumPrices:r().bool.isRequired,premiumPriceInRobux:r().number.isRequired,isAuthenticated:r().bool.isRequired,resellerAvailable:r().bool.isRequired,firstReseller:r().shape({seller:{name:r().string.isRequired,id:r().number.isRequired},userAssetId:r().number.isRequired}).isRequired,isMarketPlaceEnabled:r().bool.isRequired})).isRequired,onCancel:r().func.isRequired,onTransactionComplete:r().func.isRequired,onAction:r().func.isRequired,loading:r().bool,productSurface:r().string.isRequired,systemFeedbackService:r().func.isRequired},[(0,n.withTranslations)(co,o.purchasingResources),y]),2))[0],lo=go[1];function co(e){var t,r=e.translate,n=e.title,a=e.expectedTotalPrice,u=e.itemDetails,i=e.currentRobuxBalance,d=e.purchaseMetadata,o=e.onCancel,f=e.onTransactionComplete,l=e.onAction,c=e.loading,m=e.productSurface,s=e.systemFeedbackService,p=ji((0,ge.useState)(!1),2),v=p[0],b=p[1],h=function(){s.loading(r("Message.TwoStepVerificationBatchPurchase")),b(!0)},y=ji((0,ge.useState)(!1),2),g=y[0],w=y[1],E={itemCount:u.length,robux:(0,I.renderToString)(we().createElement("span",{className:"robux-price"},we().createElement(F,{price:a})))},e=Vi.batchBuyPromptMessage,p=0===a?(t=r(Vi.getItemHeading),r(Vi.getNowAction)):(t=r(Vi.buyItemHeading),r(Vi.buyNowAction)),y=null==u?void 0:u.slice(0,zi);function S(e){var t=function(e,t,r){var n=0,a=[];if(!t)return{success:!1,message:Vi.purchaseErrorFailureMessage};if(200===t.status){if(t.data&&t.data.message&&t.data.message.startsWith("EconomicRestrictions")){var i=t.data.message;return Yi(e,i)}if(t.data.fulfillmentGroups[0].lineItems.forEach(function(t){var e;"SUCCEEDED"===t.status?n+=1:(e=a.find(function(e){return e.error===t.errorReason}))?e.count+=1:a.push({error:t.errorReason,count:1})}),n===t.data.fulfillmentGroups[0].lineItems.length)return{success:!0,message:Vi.purchaseCompleteHeading};var o={error:"",count:0};if(a.forEach(function(e){e.count>o.count&&(o=e)}),0<n)switch(o.error){case Bi.AlreadyOwned:return{success:!1,message:Vi.batchBuyPartialSuccessItemsOwnedFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Bi.InsufficientFunds:return{success:!1,message:Vi.batchBuyPartialSuccessInsufficientFundsFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Bi.ExceptionOccured:return{success:!1,message:Vi.batchBuyPartialSuccessNetworkErrorFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Bi.TooManyPurchases:return{success:!1,message:Vi.batchBuyPartialSuccessFloodcheckFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Bi.PremiumNeeded:return{success:!1,message:Vi.batchBuyPartialSuccessPremiumNeededFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Bi.NoSellers:return{success:!1,message:Vi.batchBuyPartialSuccessNoSellersFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Bi.InExperienceOnly:return{success:!1,message:Vi.batchBuyPartialSuccessInExperienceOnlyFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};default:return{success:!1,message:Vi.batchBuyPartialSuccessGeneralFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}}}else switch(o.error){case Bi.AlreadyOwned:return{success:!1,message:Vi.batchBuyItemsOwnedFailureMessage};case Bi.InsufficientFunds:return{success:!1,message:Vi.insufficientFundsFailureMessage};case Bi.ExceptionOccured:return{success:!1,message:Vi.networkErrroFailureMessage};case Bi.TooManyPurchases:return{success:!1,message:Vi.floodcheckFailureMessage,params:{throttleTime:Gi}};case Bi.PremiumNeeded:return{success:!1,message:Vi.premiumNeededFailureMessage};case Bi.NoSellers:return{success:!1,message:Vi.noSellersFailureMessage};case Bi.InExperienceOnly:return{success:!1,message:Vi.inExperienceOnlyFailureMessage};default:return{success:!1,message:Vi.purchaseErrorFailureMessage}}}else if(403===t.status&&t.data.message.includes("2sv"))r();else if(400===t.status&&t.data.message.includes("InsufficientTotalBalance"))return{success:!1,message:Vi.insufficientFundsFailureMessage};return{success:!1,message:Vi.purchaseErrorFailureMessage}}(r,e,h),e=t.params?r(t.message,t.params):r(t.message);t.success?s.success(e):s.warning(e)}function P(){return(P=_i(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o,l,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={strategy:"BEST_EFFORT",lineItems:[]},r=[],n=[],u.forEach(function(e){var t={};void 0!==e.collectibleItemId?(!("ExperiencesDevApiOnly"!==e.collectibleItemDetails.saleLocationType&&0<e.collectibleItemDetails.unitsAvailableForConsumption&&(!e.collectibleItemDetails.hasResellers||e.collectibleItemDetails.price<e.collectibleItemDetails.lowestResalePrice))&&e.collectibleItemDetails.lowestAvailableResaleProductId?t.collectibleProductId=e.collectibleItemDetails.lowestAvailableResaleProductId:t.collectibleProductId=e.collectibleItemDetails.collectibleProductId,t.agreedPriceRobux=e.collectibleItemDetails.lowestPrice):void 0!==e.firstReseller?(t.limitedV1InstanceId="".concat(e.firstReseller.userAssetId),t.agreedPriceRobux=e.firstReseller.price):(t.virtualEconomyProductId="".concat(e.productId),t.agreedPriceRobux=e.premiumPriceInRobux&&ka.authenticatedUser.isPremiumUser?e.premiumPriceInRobux:e.price),r.push(t);t={data:{itemData:{},reason:""}};"Asset"===e.itemType?t.data.itemData.assetId=e.id:t.data.itemData.bundleId=e.id,n.push(t)}),t.lineItems=r,a=d.has(Wi.LookId)?d.get(Wi.LookId):"",i=Ee.uuidService.generateRandomUuid(),i=void 0!==a&&""!==a?"web_looks_purchase-".concat(a,"-").concat(i):i,e.prev=8,e.next=11,Ae.bulkPurchaseItem(Se.CurrentUser.userId,m,t,i);case 11:if(o=e.sent,(l=o.data).message&&l.message.startsWith("EconomicRestrictions"))return S(o),f(n),e.abrupt("return");e.next=17;break;case 17:c=0,l.fulfillmentGroups[0].lineItems.forEach(function(e){n[c].data.reason="SUCCEEDED"===e.status?"Success":e.errorReason,c+=1}),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(8),o=e.t0,s=0,n.forEach(function(e){o&&(n[s].data.reason=null===o||void 0===o?void 0:o.data.message),s+=1});case 26:S(o),f(n);case 28:case"end":return e.stop()}},e,null,[[8,21]])}))).apply(this,arguments)}y=we().createElement(ge.Fragment,null,we().createElement("div",{className:"modal-message multi-item",dangerouslySetInnerHTML:{__html:r(e,E)}}),void 0!==u&&0<u.length&&we().createElement("div",{className:"modal-multi-item-images-container"},y.map(function(e,t){return we().createElement(Xi,{key:e.itemId,itemsCount:u.length,item:e,index:t})})));return we().createElement(we().Fragment,null,we().createElement(qe,{isTwoStepVerificationActive:v,stopTwoStepVerification:function(){w(!0),b(!1)},systemFeedbackService:s}),we().createElement(ro,{title:n||t,body:y,neutralButtonText:r(Vi.cancelAction),actionButtonText:p,onAction:function(){var t=!1;u.forEach(function(e){t=t||e.twoStepVerificationRequired}),t&&!g?h():(function(){P.apply(this,arguments)}(),l())},onNeutral:function(){o()},footerText:we().createElement(H,{expectedPrice:a,currentRobuxBalance:i}),loading:c,actionButtonShow:u}))}var so,uo=(go=eo((so=(y=Ki((0,C.createModal)(),2))[0],y=y[1],mo.defaultProps={onContinueToPayment:null},mo.propTypes={translate:r().func.isRequired,onContinueToPayment:r().func},[(0,n.withTranslations)(mo,o.purchasingResources),y]),2))[0],fo=go[1];function mo(e){var t=e.translate,r=e.onContinueToPayment,e=t(Zi.redirectToPartnerWebsiteMessage,{linebreak:"\n\n"})||"This purchase must be completed on our partners website. You will be returned to Roblox after the purchase is completed.\n\n Proceed to partner website for payment?",e=we().createElement("p",{className:"modal-body"},e);return we().createElement(so,$i({title:t(Zi.leavingRobloxHeading)||"Leaving Roblox",body:e,neutralButtonText:t(Zi.cancelAction),actionButtonText:t(Zi.continueToPaymentAction)||"Continue To Payment",onAction:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CONTINUE_TO_VNG),r()},onClose:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL)}},{actionButtonShow:!0}))}function po(e){var t=e.currentUserBalance,r=e.items,n=e.itemDetails,a=e.purchaseMetadata,i=e.onBuyButtonClick,o=e.onConfirm,l=e.onCancel,c=e.onTransactionComplete,s=e.productSurface,u=e.displayPriceOnButton,d=e.systemFeedbackService,f=e.translate,m=e.variant,p=void 0===m?C.Button.variants.growth:m,v=e.size,b=void 0===v?C.Button.sizes.large:v,h=!1,y=0,g=0,w=[],E=eo((0,ge.useState)(!1),2),m=E[0],S=E[1],e=eo((0,ge.useState)(!1),2),P=e[0],I=e[1],v=eo((0,ge.useState)(null),2),E=v[0],x=v[1],e=eo((0,ge.useState)(null),2),v=e[0],A=e[1];(0,ge.useEffect)(function(){Ji().then(function(e){e=e.shouldShowVng;I(e)}).catch(function(e){console.debug(e),I(!1)})},[]);if(!ka.authenticatedUser.isAuthenticated)return we().createElement("div",{className:"sign-in"},we().createElement(C.Button,{className:"action-button batch-buy-purchase-button sign-in-button",variant:p,size:b,onClick:function(){var e;window.location=(e={ReturnUrl:window.location.pathname},Ee.urlService.getUrlWithQueries("/login",e))}},f(no.buyAction)));if(void 0===n||0<n.length&&n[0]&&n[0].loading||void 0===t)return we().createElement("div",{className:"loading"},we().createElement(C.Button,{className:"action-button batch-buy-purchase-button",variant:p,size:b,isDisabled:!0},we().createElement(C.Loading,null)));if(0===n.length||n[0]&&n[0].loadFailure)return we().createElement(C.Button,{className:"action-button batch-buy-purchase-button",variant:p,size:b,isDisabled:!0},u?we().createElement("div",{className:"purchase-price"},we().createElement("span",{className:"icon-robux-white-28x28"}),we().createElement("span",{className:"purchase-price-text text-robux-lg"},Ee.numberFormat.getNumberFormat(y))):we().createElement("div",null,f(no.buyAction)));n.forEach(function(e){var t;(void 0!==(t=e).collectibleItemId?t.isMarketPlaceEnabled&&t.isPurchasable||t.resellerAvailable:t.isMarketPlaceEnabled&&(t.resellerAvailable||t.isPurchasable))&&(h=!0),void 0!==e.collectibleItemDetails?e.collectibleItemDetails.lowestPrice?y+=e.collectibleItemDetails.lowestPrice:e.collectibleItemId.price&&(y+=e.collectibleItemDetails.price):e.premiumPriceInRobux&&ka.authenticatedUser.isPremiumUser?g+=e.premiumPriceInRobux:e.lowestPrice?y+=e.lowestPrice:e.price&&(y+=e.price),e.resellerAvailable&&w.push(e)});var R=y+g-t,e=we().createElement(C.Loading,null);m||(e=u?we().createElement("div",{className:"purchase-price"},we().createElement("span",{className:"icon-robux-white-28x28"}),we().createElement("span",{className:"purchase-price-text text-robux-lg"},Ee.numberFormat.getNumberFormat(y))):we().createElement("div",null,f(no.buyAction)));var T=function(){P?fo.open():window.location=M.getRobuxUpgradesUrl("")};return we().createElement(we().Fragment,null,we().createElement("div",{className:"batch-buy-purchase-button-container"},we().createElement(C.Button,{className:"action-button batch-buy-purchase-button",variant:p,size:b,onClick:function(){var e;0<R?(A(we().createElement(ao,{robuxNeeded:R,onAccept:T})),io.open()):(e=we().createElement(oo,{title:f(no.buyNowAction),expectedTotalPrice:y+g,items:r,purchaseMetadata:a,itemDetails:n,resaleItems:w,currentRobuxBalance:t,onCancel:function(){var e;null==lo||null!==(e=lo.close)&&void 0!==e&&e.call(lo),l()},onTransactionComplete:function(e){S(!1),c(e)},onAction:function(){var e;null==lo||null!==(e=lo.close)&&void 0!==e&&e.call(lo),S(!0),o()},loading:!1,productSurface:s,systemFeedbackService:d}),x(e),lo.open()),i()},isDisabled:!h},e)),0<R&&we().createElement("div",{id:"insufficient-funds-modal"},v),P&&we().createElement("div",{id:"leave-roblox-warning-modal"},we().createElement(uo,{onContinueToPayment:function(){var e={url:M.getVngShopUrl(),withCredentials:!0};Ee.httpService.get(e).then(function(e){e=e.data.vngShopRedirectUrl;window.open(e,"_blank").focus()}).catch(function(){window.open(M.getVngShopFallbackUrl,"_blank").focus()}),fo.close()}})),E&&we().createElement("div",{id:"multi-item-purchase-modal"},E))}po.propTypes={currentUserBalance:r().number.isRequired,items:r().arrayOf(r().shape({id:r().number.isRequired,itemType:r().string.isRequired})).isRequired,purchaseMetadata:r().instanceOf(Map).isRequired,itemDetails:r().arrayOf(r().shape({productId:r().number.isRequired,price:r().number.isRequired,itemName:r().string.isRequired,itemType:r().string.isRequired,assetTypeDisplayName:r().string.isRequired,sellerName:r().string.isRequired,expectedSellerId:r().number.isRequired,isPurchasable:r().bool.isRequired,isOwned:r().bool.isRequired,isPlugin:r().bool.isRequired,itemDetailItemId:r().number.isRequired,loading:r().bool.isRequired,loadFailure:r().bool,userQualifiesForPremiumPrices:r().bool.isRequired,premiumPriceInRobux:r().number,isAuthenticated:r().bool.isRequired,resellerAvailable:r().bool.isRequired,firstReseller:r().shape({seller:{name:r().string.isRequired,id:r().number.isRequired},userAssetId:r().number.isRequired}),isMarketPlaceEnabled:r().bool.isRequired})).isRequired,onBuyButtonClick:r().func.isRequired,onConfirm:r().func.isRequired,onCancel:r().func.isRequired,onTransactionComplete:r().func.isRequired,productSurface:r().string.isRequired,displayPriceOnButton:r().bool.isRequired,systemFeedbackService:r().func.isRequired,translate:r().func.isRequired,variant:r().string,size:r().string},po.defaultProps={variant:C.Button.variants.growth,size:C.Button.sizes.large};var vo=(0,n.withTranslations)(po,o.purchasingResources);function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yo(e){var t=e.items,r=e.purchaseMetadata,n=e.onBuyButtonClick,a=e.systemFeedbackService,i=e.onConfirm,o=e.onCancel,l=e.onTransactionComplete,c=e.productSurface,s=e.displayPriceOnButton,u=e.translate,d=e.variant,f=e.size,m=bo((0,ge.useState)(void 0),2),e=m[0],p=m[1];(0,ge.useEffect)(function(){ka.authenticatedUser.isAuthenticated&&Te.getCurrentUserBalance(ka.authenticatedUser.id).then(function(e){p(e.data.robux)}).catch(function(){p(void 0)})},[]);m=Ui(t).itemDetails;return we().createElement(vo,{currentUserBalance:e,items:t,itemDetails:m,purchaseMetadata:r,systemFeedbackService:a,onBuyButtonClick:n,onConfirm:i,onCancel:o,onTransactionComplete:l,productSurface:c,displayPriceOnButton:s,translate:u,variant:d,size:f})}yo.propTypes={items:r().arrayOf(r().object).isRequired,purchaseMetadata:r().instanceOf(Map).isRequired,onBuyButtonClick:r().func,onConfirm:r().func,onCancel:r().func,onTransactionComplete:r().func,systemFeedbackService:r().func.isRequired,productSurface:r().string,displayPriceOnButton:r().bool,translate:r().func.isRequired,variant:r().string,size:r().string},yo.defaultProps={onBuyButtonClick:function(){},onConfirm:function(){},onCancel:function(){},onTransactionComplete:function(){},productSurface:"SHOPPING_CART_WEB",displayPriceOnButton:!1,variant:C.Button.variants.growth,size:C.Button.sizes.large};var go=(0,n.withTranslations)(yo,o.purchasingResources),wo={GAME_PASS:"Game Pass",BUNDLE:"Bundle",BUNDLE_ALIAS:"Package",PRIVATE_SERVER:"Private Server"},Eo=function(){return(Eo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},So=(0,n.withTranslations)(function(e){var t=e.ItemPurchase,r=e.itemPurchaseService,e=e.innerProps;return we().useEffect(function(){setTimeout(function(){return r.start()},70)},[r]),we().createElement(t,Eo({},e))},o.purchasingResources);window.RobloxItemPurchase={createTransactionFailureModal:S,createInsufficientFundsModal:_,createPriceChangedModal:X,createPurchaseVerificationModal:Ie,createPurchaseConfirmationModal:xe,createItemPurchase:Ba,errorTypeIds:t,getMetaData:Pe,BalanceAfterSaleText:H,PriceLabel:F,AssetName:$,TransactionVerb:ee,BatchBuyPriceContainer:go,ASSET_TYPE_ENUM:wo,startGamepassPurchaseFlow:function(e){var t="rbx-gamepass-purchase-root",r=document.getElementById(t);r||((r=document.createElement("div")).id=t,document.body.appendChild(r));var n=we().createElement(Va.Thumbnail2d,{type:Va.ThumbnailTypes.assetThumbnail,targetId:e.iconAssetId,size:Va.ThumbnailGamePassIconSize.size150,format:Va.ThumbnailFormat.webp,altName:e.assetName}),t=(a=Ba())[0],a=a[1];return(0,l.render)(we().createElement(So,{ItemPurchase:t,itemPurchaseService:a,innerProps:{thumbnail:n,productId:e.productId,assetName:e.assetName,assetType:wo.GAME_PASS,sellerName:e.sellerName,expectedCurrency:1,expectedSellerId:e.expectedSellerId,expectedPrice:e.expectedPrice,onPurchaseSuccess:e.onPurchaseSuccess}}),r),function(){r&&((0,l.unmountComponentAtNode)(r),r.remove())}}},(0,Ee.ready)(function(){var e=document.getElementById("display-price-container");e&&(0,l.render)(we().createElement(gi,null),e)})}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/340eacb0f4998387251cd84b772cf8ee-itemPurchase.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("ItemPurchase");